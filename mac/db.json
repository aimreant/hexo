{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/images/yijie.jpg","path":"images/yijie.jpg","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"source/favicon.ico","path":"favicon.ico","modified":0,"renderable":0},{"_id":"source/robots.txt","path":"robots.txt","modified":0,"renderable":0}],"Cache":[{"_id":"source/.DS_Store","hash":"c535694871d259969769326dc962014a195385fc","modified":1492955318000},{"_id":"source/404.html","hash":"f449aeec378bcb2f70db01406218a885d98a1c39","modified":1494308547000},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1492938515000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1492938515000},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1492938515000},{"_id":"themes/next/.gitignore","hash":"32ea93f21d8693d5d8fa4eef1c51a21ad0670047","modified":1492938515000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1492938515000},{"_id":"themes/next/.javascript_ignore","hash":"f9ea3c5395f8feb225a24e2c32baa79afda30c16","modified":1492938515000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1492938515000},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1492938515000},{"_id":"themes/next/.travis.yml","hash":"c42d9608c8c7fe90de7b1581a8dc3886e90c179e","modified":1492938515000},{"_id":"themes/next/_config.yml","hash":"6dd305d145e3e3141d588175587bb8cbc2a8cfd7","modified":1494162999000},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1492938515000},{"_id":"themes/next/bower.json","hash":"be0a430362cb73a7e3cf9ecf51a67edf8214b637","modified":1492938515000},{"_id":"themes/next/README.md","hash":"500b5606eb6a09c979d16128f8b00f4bf9bc95ac","modified":1492938515000},{"_id":"themes/next/README.en.md","hash":"4ece25ee5f64447cd522e54cb0fffd9a375f0bd4","modified":1492938515000},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1492938515000},{"_id":"themes/next/package.json","hash":"7e87b2621104b39a30488654c2a8a0c6a563574b","modified":1492938515000},{"_id":"source/_posts/compile-tensorflow-on-raspberry2or3.md","hash":"dad708ad37d7ab8a6493680bc8ac441b77205b28","modified":1492954948000},{"_id":"source/_posts/http-server-implement-using-niosocket.md","hash":"1f775f82f6830e8af4142433f3767ede2ec7cfff","modified":1492954962000},{"_id":"source/_posts/learing-svm.md","hash":"88978069f67dbb91b5ac89119d5e83086c7e63ec","modified":1492954969000},{"_id":"source/_posts/talking-about-nlp-problems.md","hash":"31de9cd412ab9af86b24616f711678de929cefaa","modified":1492954980000},{"_id":"source/_posts/thinking-about-cnn.md","hash":"1a858af42e3a3c6fb49db36a1d9cee9f3bc706f9","modified":1492954988000},{"_id":"source/_posts/thinking-about-mybatis-from-jdbc.md","hash":"e2631173689610c4e902be66b0971d2116cafd80","modified":1492955019000},{"_id":"source/_posts/ubuntu14.04-cuda8-caffe-cudnn5.0-GTX1080-GTX750Ti.md","hash":"82c5d3dbfb849fb7648a1ea7de4f4b22c2023b2b","modified":1494126407000},{"_id":"source/_posts/writing-web-using-go.md","hash":"0416c340a65a906759feb97255f48497d28c2594","modified":1492955024000},{"_id":"source/_posts/chinese-unicode-in-python2.x.md","hash":"c82e4c4fcdf1c8cebfd0df693d00b78668933f58","modified":1492954935000},{"_id":"source/_posts/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1492953340000},{"_id":"source/_posts/10k-parallel-on-raspberry2.md","hash":"f0ce21aefff4daa372aa40a934acd79bc380dd78","modified":1492954926000},{"_id":"source/links/index.md","hash":"b2382904610152e6f3be6a6d91fc82e015dd9d90","modified":1492959031000},{"_id":"source/images/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1492955318000},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1492938515000},{"_id":"themes/next/.git/config","hash":"bf7d1df65cf34d0f25a7184a58c37a09f72e4be7","modified":1492938515000},{"_id":"themes/next/.git/index","hash":"24f272f69a1b0336bb429b67600aadf1d4359802","modified":1492953067000},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1492938484000},{"_id":"themes/next/.git/packed-refs","hash":"9edbbea1442602078a0e7f15e4948612a5b35449","modified":1492938515000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1492938515000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"fdd63b77472612337309eb93ec415a059b90756b","modified":1492938515000},{"_id":"themes/next/languages/fr-FR.yml","hash":"24180322c83587a153cea110e74e96eacc3355ad","modified":1492938515000},{"_id":"themes/next/languages/default.yml","hash":"4cc6aeb1ac09a58330e494c8771773758ab354af","modified":1492938515000},{"_id":"themes/next/languages/en.yml","hash":"e7def07a709ef55684490b700a06998c67f35f39","modified":1492938515000},{"_id":"themes/next/languages/de.yml","hash":"306db8c865630f32c6b6260ade9d3209fbec8011","modified":1492938515000},{"_id":"themes/next/languages/id.yml","hash":"2835ea80dadf093fcf47edd957680973f1fb6b85","modified":1492938515000},{"_id":"themes/next/languages/ko.yml","hash":"be150543379150f78329815af427bf152c0e9431","modified":1492938515000},{"_id":"themes/next/languages/ja.yml","hash":"1c3a05ab80a6f8be63268b66da6f19da7aa2c638","modified":1492938515000},{"_id":"themes/next/languages/pt-BR.yml","hash":"958e49571818a34fdf4af3232a07a024050f8f4e","modified":1492938515000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"3c0c7dfd0256457ee24df9e9879226c58cb084b5","modified":1492938515000},{"_id":"themes/next/languages/zh-hk.yml","hash":"1c917997413bf566cb79e0975789f3c9c9128ccd","modified":1492938515000},{"_id":"themes/next/languages/ru.yml","hash":"1549a7c2fe23caa7cbedcd0aa2b77c46e57caf27","modified":1492938515000},{"_id":"themes/next/layout/_layout.swig","hash":"9d1a23a6add6f3d0f88c2d17979956f14aaa37a4","modified":1492938515000},{"_id":"themes/next/languages/pt.yml","hash":"36c8f60dacbe5d27d84d0e0d6974d7679f928da0","modified":1492938515000},{"_id":"themes/next/languages/zh-tw.yml","hash":"0b2c18aa76570364003c8d1cd429fa158ae89022","modified":1492938515000},{"_id":"themes/next/layout/page.swig","hash":"4ddaeedf1599d167c4ee166d391e616a7660a4ef","modified":1492938515000},{"_id":"themes/next/layout/archive.swig","hash":"5de4dca06b05d99e4f6bad617a4b8f4f3592fb01","modified":1492938515000},{"_id":"themes/next/layout/category.swig","hash":"fb55a48fe92621578ab2db0c983c609371b3ed0e","modified":1492938515000},{"_id":"themes/next/layout/index.swig","hash":"03e8a2cda03bad42ac0cb827025eb81f95d496a2","modified":1492938515000},{"_id":"themes/next/scripts/merge-configs.js","hash":"13c8b3a2d9fce06c2488820d9248d190c8100e0a","modified":1492938515000},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1492938515000},{"_id":"themes/next/layout/post.swig","hash":"2d5f8d7f0a96b611e2d5a5e4d111fc17726a990f","modified":1492938515000},{"_id":"themes/next/layout/tag.swig","hash":"52c506fa2b46a28ae2df10831c61c51a45b2f6c1","modified":1492938515000},{"_id":"themes/next/layout/schedule.swig","hash":"f93c53f6fd5c712584f6efba6f770c30fa8a3e80","modified":1492938515000},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1492938515000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1492938515000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1492938515000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1492938515000},{"_id":"source/images/yijie.jpg","hash":"62497e73f7cc792fcc6309519579dccc5ddb3761","modified":1489469422000},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1492938484000},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1492938484000},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1492938484000},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1492938484000},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1492938484000},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1492938484000},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1492938484000},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1492938484000},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1492938484000},{"_id":"themes/next/.git/logs/HEAD","hash":"5b4980278d82a5bc6e9697ac7d71e7db48191969","modified":1492938515000},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1492938484000},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1492938515000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1492938515000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"b16fcbf0efd20c018d7545257a8533c497ea7647","modified":1492938515000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"5864f5567ba5efeabcf6ea355013c0b603ee07f2","modified":1492938515000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"37e5b7c42ec17b9b6b786c5512bcc481a21c974e","modified":1492938515000},{"_id":"themes/next/layout/_macro/post.swig","hash":"7b2683963693516b21095010911091414f112c03","modified":1492938515000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"1c7d3c975e499b9aa3119d6724b030b7b00fc87e","modified":1492938515000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"7172c6053118b7c291a56a7860128a652ae66b83","modified":1492938515000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"911b99ba0445b2c07373128d87a4ef2eb7de341a","modified":1492938515000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"14e785adeb0e671ba0ff9a553e6f0d8def6c670c","modified":1492938515000},{"_id":"themes/next/layout/_partials/header.swig","hash":"a1ffbb691dfad3eaf2832a11766e58a179003b8b","modified":1492938515000},{"_id":"themes/next/layout/_partials/head.swig","hash":"e080bc593946ae93d967bcc07094abed036877e2","modified":1494161874000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1492938515000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1492938515000},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1492938515000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1492938515000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1492938515000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9baf90f7c40b3b10f288e9268c3191e895890cea","modified":1492938515000},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1492938515000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1492938515000},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1492938515000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1492938515000},{"_id":"themes/next/scripts/tags/button.js","hash":"62e6dbeb53d07627a048132c79630b45d9a8f2cc","modified":1492938515000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1492938515000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1492938515000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1492938515000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1492938515000},{"_id":"themes/next/scripts/tags/note.js","hash":"6752925eedbdb939d8ec4d11bdfb75199f18dd70","modified":1492938515000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1492938515000},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1492938515000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1492938515000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1492938515000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"90035272fa31a3f65b3c0e2cb8a633876ef457dc","modified":1492938515000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1492938515000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1492938515000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1492938515000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1492938515000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1492938515000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1492938515000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1492938515000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1492938515000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1492938515000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1492938515000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1492938515000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1492938515000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1492938515000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1492938515000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1492938515000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1492938515000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1492938515000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1492938515000},{"_id":"themes/next/.git/refs/heads/master","hash":"a002d09c60941ad6b48bf89aea2ce9ab03c336a1","modified":1492938515000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1492938515000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1492938515000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1492938515000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1492938515000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1492938515000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"63315fcf210799f894208c9f512737096df84962","modified":1492938515000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"2d1075f4cabcb3956b7b84a8e210f5a66f0a5562","modified":1492938515000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"394d008e5e94575280407ad8a1607a028026cbc3","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"3358d11b9a26185a2d36c96049e4340e701646e4","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"92dc60821307fc9769bea9b2d60adaeb798342af","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"a652f202bd5b30c648c228ab8f0e997eb4928e44","modified":1492938515000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1492938515000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1492938515000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1492938515000},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1492938515000},{"_id":"themes/next/layout/_third-party/comments/gentie.swig","hash":"03592d1d731592103a41ebb87437fe4b0a4c78ca","modified":1492938515000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1492938515000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"abb92620197a16ed2c0775edf18a0f044a82256e","modified":1492938515000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"1d0d01aaeb7bcde3671263d736718f8837c20182","modified":1492938515000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"af9dd8a4aed7d06cf47b363eebff48850888566c","modified":1492938515000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1492938515000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"7d2a97c8ad8d63770ab88c173044e2ecccda1b5a","modified":1492938515000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1492938515000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1492938515000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1492938515000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1492938515000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1492938515000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1492938515000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"78a83c38f69a8747bb74e420e6c9eeef1ea76525","modified":1492938515000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1492938515000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"d6a793bcada68d4b6c58392546bc48a482e4a7d3","modified":1492938515000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"06f432f328a5b8a9ef0dbd5301b002aba600b4ce","modified":1492938515000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"715d5b40dc52f319fe4bff0325beb874774d9bd9","modified":1492938515000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"aab7be0a6e2724b3faa9338db93c19556c559625","modified":1492938515000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1492938515000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1492938515000},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1492938515000},{"_id":"themes/next/source/js/src/post-details.js","hash":"af7a417dd1cb02465a7b98211653e7c6192e6d55","modified":1492938515000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1492938515000},{"_id":"themes/next/source/js/src/motion.js","hash":"269414e84df544a4ccb88519f6abae4943db3c67","modified":1492938515000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1492938515000},{"_id":"themes/next/source/js/src/utils.js","hash":"2041eae5ac81c392067bfbd1bba4399cb37beea1","modified":1492938515000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1492938515000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1492938515000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1492938515000},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"b614b73ba49ca9136fed7c387ee8df72fe65118f","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1492938515000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1492938515000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1492938515000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1492938515000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1492938515000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1492938515000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1492938515000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1492938515000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1492938515000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1492938515000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1492938515000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1492938515000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1492938515000},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1492938515000},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1492938515000},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1492938515000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1492938515000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1492938515000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1492938515000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1492938515000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1492938515000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1492938515000},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1492938515000},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"5b4980278d82a5bc6e9697ac7d71e7db48191969","modified":1492938515000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"ef089a407c90e58eca10c49bc47ec978f96e03ba","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1492938515000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"59ad08bcc6fe9793594869ac2b4c525021453e78","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1492938515000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1492938515000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"7804e31c44717c9a9ddf0f8482b9b9c1a0f74538","modified":1492938515000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1492938515000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1492938515000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"013619c472c7e4b08311c464fcbe9fcf5edde603","modified":1492938515000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"fda14bc35be2e1b332809b55b3d07155a833dbf4","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"82bbaa6322764779a1ac2e2c8390ce901c7972e2","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"e3e23751d4ad24e8714b425d768cf68e37de7ded","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1492938515000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1492938515000},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1492938515000},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"d9c0b3dc9158e717fde36f554709e6c3a22b5f85","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1492938515000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1492938515000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1492938515000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1492938515000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1492938515000},{"_id":"themes/next/.git/objects/pack/pack-984c57d21e53e235e6c251b1ea023f7fa04608b4.idx","hash":"3073690eeed63891750ecd6cc85cc3a344266a80","modified":1492938515000},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1492938515000},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"38e48f275ad00daa9dcdcb8d9b44e576acda4707","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1492938515000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"8994ffcce84deac0471532f270f97c44fea54dc0","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"740d37f428b8f4574a76fc95cc25e50e0565f45e","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"7778920dd105fa4de3a7ab206eeba30b1a7bac45","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1492938515000},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"5b4980278d82a5bc6e9697ac7d71e7db48191969","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"beccb53dcd658136fb91a0c5678dea8f37d6e0b6","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"8fae54591877a73dff0b29b2be2e8935e3c63575","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"88c7d75646b66b168213190ee4cd874609afd5e3","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"c089419916988d0f51d89b225460fe11b631e0a3","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"963105a531403d7aad6d9e5e23e3bfabb8ec065a","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"8c0276883398651336853d5ec0e9da267a00dd86","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"2e7ec9aaa3293941106b1bdd09055246aa3c3dc6","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"5f6ea57aabfa30a437059bf8352f1ad829dbd4ff","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"e792c8dc41561c96d128e9b421187f1c3dc978a0","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"7690b9596ec3a49befbe529a5a2649abec0faf76","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"a2ec22ef4a6817bbb2abe8660fcd99fe4ca0cc5e","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"234facd038f144bd0fe09a31ed1357c5d74c517f","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"b8969e1654eec89a0fd10d88b337fee9cb03cd44","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"74d0ba86f698165d13402670382a822c8736a556","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"dd310c2d999185e881db007360176ee2f811df10","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/gentie.styl","hash":"586a3ec0f1015e7207cd6a2474362e068c341744","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"bb3be8374c31c372ed0995bd8030d2b920d581de","modified":1492938515000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1492938515000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1492938515000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1492938515000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1492938515000},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1492938515000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1492938515000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1492938515000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1492938515000},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1492938515000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1492938515000},{"_id":"themes/next/.git/objects/pack/pack-984c57d21e53e235e6c251b1ea023f7fa04608b4.pack","hash":"21888768676dfeacf6999e614c8e7ffa4a659dc5","modified":1492938515000},{"_id":"source/favicon.ico","hash":"e16282b87458f676971b64019c2da9e69f1722ce","modified":1492959645000},{"_id":"public/categories//index.html","hash":"eece03377f196ff118628621c20db9eb4eb38cc1","modified":1494307974980},{"_id":"public/categories/Java/index.html","hash":"1354ef38295b2bb13c09f80ef481e31ebd630358","modified":1494307974980},{"_id":"public/categories//index.html","hash":"a67e90aa15c9c5dd7ad30714cf3c226d0181301b","modified":1494307974980},{"_id":"public/categories//index.html","hash":"f4da15b78128427a41ab152901d2b555ab7d8e58","modified":1494307974980},{"_id":"public/categories/caffe/index.html","hash":"02ff75d107bbd85b21718cb040afb27e20ed3be0","modified":1494307974980},{"_id":"public/categories/Golang/index.html","hash":"4f92b467c20c2586fe6a6de7522be1c18da24fcf","modified":1494307974980},{"_id":"public/categories/Raspberry/index.html","hash":"ce651d8d27755fb1c774530232ff6f276eb06987","modified":1494307974980},{"_id":"public/categories/python/index.html","hash":"d5d71961e25dcb60dbc105884adf290cf00b00b9","modified":1494307974980},{"_id":"public/archives/2016/index.html","hash":"2010d8d464207993546c0261a8233d22dcb6aac6","modified":1494307974979},{"_id":"public/archives/2016/05/index.html","hash":"0bf2e6c321a063731515cf561794118cb30cb1a6","modified":1494307974979},{"_id":"public/archives/2016/06/index.html","hash":"869814bece8c41272282f63179904584ef24d25f","modified":1494307974979},{"_id":"public/archives/2016/08/index.html","hash":"a4ed62dce3c8282a7fef2074f8b64cb876e87a0b","modified":1494307974979},{"_id":"public/archives/2016/09/index.html","hash":"5663880bfb849d1cff12e72fb012bc1b3001620f","modified":1494307974979},{"_id":"public/archives/2016/10/index.html","hash":"46b68e922a381a4a0797ededb9377dc749696649","modified":1494307974979},{"_id":"public/archives/2017/index.html","hash":"cf68f3efdf690b5f5200c291340e15d25cbd621b","modified":1494307974980},{"_id":"public/archives/2017/01/index.html","hash":"6593c98266c715fcaca01e2f18ceb93f55119351","modified":1494307974980},{"_id":"public/archives/2017/03/index.html","hash":"6e84390bb70d953b10253b89328f31df00224611","modified":1494307974980},{"_id":"public/tags/RPi/index.html","hash":"c2697179729e2fafd000789ad5c9add0b9b67fe3","modified":1494307974980},{"_id":"public/tags/TF/index.html","hash":"38818616f60bc2e3d55545e9dd5ab032630950a3","modified":1494307974980},{"_id":"public/tags/java/index.html","hash":"9c35c6ee2bc3e24fe9e3a2b2ae28f0a253100239","modified":1494307974980},{"_id":"public/tags/niosocket/index.html","hash":"f7e7587507bdf4eabdc33478ef0420bf6f5cf503","modified":1494307974980},{"_id":"public/tags//index.html","hash":"0d99fa3b48bea264f7299fb5d59abdddd0b326a3","modified":1494307974980},{"_id":"public/tags/NLP/index.html","hash":"40bbef5477f1c095e1a88e1edd572c978bb53f42","modified":1494307974980},{"_id":"public/tags/AI/index.html","hash":"5b51b49b59d8229458c6e267d9058ec59a0ab411","modified":1494307974980},{"_id":"public/tags/CNN/index.html","hash":"6650de79f35e4a7779760bcbea1d17f0db3b639e","modified":1494307974981},{"_id":"public/tags//index.html","hash":"8a42a3cb6cac0d381eb38fbfbcb7dea33dcbc6bf","modified":1494307974981},{"_id":"public/tags/caffe/index.html","hash":"a61e13e684008dfc3fc4e047b8d13b8124d6743e","modified":1494307974981},{"_id":"public/tags/jdbc/index.html","hash":"68a359c415a2e68371298d141e7ffe9282a73165","modified":1494307974981},{"_id":"public/tags/mybatis/index.html","hash":"3e8fccd3baf76017e987c3ffc8a322a2b01c99a4","modified":1494307974983},{"_id":"public/tags/go/index.html","hash":"2ca821db2b06e9b4406ee3856cc4a732c85a36d6","modified":1494307974983},{"_id":"public/tags/web/index.html","hash":"2fe15e49865be340f6cdcba52a5e780fed880183","modified":1494307974983},{"_id":"public/tags//index.html","hash":"c9cfc49016b3267d821ab259c441f38fcc1b5acd","modified":1494307974983},{"_id":"public/tags/Raspberry/index.html","hash":"eb9a89214fdf98771743cf9321d693927b262e23","modified":1494307974983},{"_id":"public/tags//index.html","hash":"a64a102483033b19677d18499e01ba01b42ff804","modified":1494307974983},{"_id":"public/tags/python/index.html","hash":"1cdc453e22a4e2e9b2c874d1a3383e0b0b14216a","modified":1494307974983},{"_id":"public/tags/unicode/index.html","hash":"10ded4da99f089a92cfcaba9d2b94767e29ba557","modified":1494307974983},{"_id":"public/404.html","hash":"c3e17484995c58f2c03248ba84a17d210a1db6ab","modified":1494394669606},{"_id":"public/archives/index.html","hash":"5503973b7c3eb1296480622b83ebe5cecfccd250","modified":1494307974983},{"_id":"public/index.html","hash":"ae8a970d8ada95c65add90ca18ac9b4972f6c0c4","modified":1494307974983},{"_id":"public/links/index.html","hash":"25b0408a747a730721da22f7f887f1573d0ae4e2","modified":1494307974979},{"_id":"public/10k-parallel-on-raspberry2/index.html","hash":"055c7d490dad64de24f7467e908bce0f850c4980","modified":1494161945142},{"_id":"public/learing-svm/index.html","hash":"cfb555ad08cebe547988e9c764c1188824fa11f6","modified":1494161945142},{"_id":"public/talking-about-nlp-problems/index.html","hash":"38921f64d060ad2cf4c77019eb9945a4226c5393","modified":1494161945142},{"_id":"public/writing-web-using-go/index.html","hash":"3c6ff802474d27f2d4fe9458c6d560e7d3d4d336","modified":1494161945143},{"_id":"public/thinking-about-cnn/index.html","hash":"225d1cca57508923b3c06c2dd2a4cdcd7239c712","modified":1494161945143},{"_id":"public/compile-tensorflow-on-raspberry2or3/index.html","hash":"56c64806b6b629c4674c5bf088ca10483b4ae32c","modified":1494161945143},{"_id":"public/http-server-implement-using-niosocket/index.html","hash":"47c8e68fbf319411b7ac17cf3499d97a97fa3980","modified":1494161945143},{"_id":"public/thinking-about-mybatis-from-jdbc/index.html","hash":"928656e68288e23fb8f79d78989842078bd0cdc4","modified":1494161945143},{"_id":"public/chinese-unicode-in-python2.x/index.html","hash":"e0975ccebec70355bb91f563b7eeca89a926e9aa","modified":1494161945143},{"_id":"public/ubuntu14.04-cuda8-caffe-cudnn5.0-GTX1080-GTX750Ti/index.html","hash":"06b0b5311bf16d407c09e25cb95bc7f940168bf6","modified":1494161945143},{"_id":"public/favicon.ico","hash":"e16282b87458f676971b64019c2da9e69f1722ce","modified":1492959808830},{"_id":"public/images/yijie.jpg","hash":"62497e73f7cc792fcc6309519579dccc5ddb3761","modified":1492959808836},{"_id":"source/_posts/using-github-and-jenkins-deploy-hexo.md","hash":"9a5c9d911dad4ee0dd3d07a16b299f9771b096a4","modified":1494394659000},{"_id":"public/archives/page/2/index.html","hash":"9dcb0b96e28146aeee68d1564fc5eaf0c89d3ba4","modified":1494307974979},{"_id":"public/archives/2017/04/index.html","hash":"5edd846d2514d9f53fe7ef641095d5304e2093b1","modified":1494307974980},{"_id":"public/categories/CI/index.html","hash":"d1adf2ef52a112024d951c126a7ded740b69d018","modified":1494307974980},{"_id":"public/page/2/index.html","hash":"b92f709d26ef038f9c1069e86f9fbee1aa6fedb8","modified":1494307974983},{"_id":"public/tags/jenkins/index.html","hash":"69a6d4db0aba25909b31bf624b796b13a4379187","modified":1494307974983},{"_id":"public/tags/hexo/index.html","hash":"e0befc231b186d4b42ac042c130c1ca935e8498b","modified":1494307974983},{"_id":"public/tags/blog/index.html","hash":"dcf7406029158b75b6919ac9c91c9bd84d2ef466","modified":1494307974983},{"_id":"public/using-github-and-jenkins-deploy-hexo/index.html","hash":"1ea50ad43be17ccea5839817c7ee7db47ac22cd2","modified":1494394669644},{"_id":"source/_posts/ubuntu16.04-hadoop2.8.0.md","hash":"a1e4a0e487c3c1858f2aaf7de6b2851b606b3552","modified":1493910976000},{"_id":"public/baidusitemap.xml","hash":"f010e3066973cd260fa0a6dce2fa116d922b83c5","modified":1494394669626},{"_id":"public/sitemap.xml","hash":"e614d548365fa51fa11b5dd29acbd128540c5d68","modified":1494394669626},{"_id":"public/archives/2017/05/index.html","hash":"a1d607fdecd8b6edb2f0143902e0beefa943f52a","modified":1494307974980},{"_id":"public/tags/hadoop/index.html","hash":"b138539ddbe6b5cd3a0f339496179f949ba0c726","modified":1494307974983},{"_id":"public/categories/distributed/index.html","hash":"f9c6ecf0a7cf400666d41f23ece749f605509bc9","modified":1494307974980},{"_id":"public/tags/distributed/index.html","hash":"b866a2848edd9df6b6f3755f35fb49af8d6cb42f","modified":1494307974983},{"_id":"public/ubuntu16.04-hadoop2.8.0/index.html","hash":"39e993e375efe420b8ec9f6373516ad454e9e191","modified":1494161945143},{"_id":"source/robots.txt","hash":"97c2be5691c986811c48218350953e23954a89ef","modified":1494162094000},{"_id":"public/robots.txt","hash":"97c2be5691c986811c48218350953e23954a89ef","modified":1494162102931},{"_id":"themes/next/_config.yml.bak","hash":"6dd305d145e3e3141d588175587bb8cbc2a8cfd7","modified":1494163008000}],"Category":[{"name":"","_id":"cj1utjtrc0004uoev6isa8gnz"},{"name":"Java","_id":"cj1utjtrk0009uoevjgslhywj"},{"name":"","_id":"cj1utjtro000euoevxjnax8g0"},{"name":"","_id":"cj1utjtru000muoevsmz80yxy"},{"name":"caffe","_id":"cj1utjtrz000ruoev9shareb3"},{"name":"Golang","_id":"cj1utjts1000wuoev8z9tj5q3"},{"name":"Raspberry","_id":"cj1utjts20010uoevglq7fflr"},{"name":"python","_id":"cj1utjts20013uoevujy1db84"},{"name":"CI","_id":"cj22nsvtz000139ev3yub9wa2"},{"name":"distributed","_id":"cj2eoxsio00012cevjng66scq"}],"Data":[],"Page":[{"layout":"false","title":"404","date":"2017-04-21T16:00:00.000Z","_content":"<!DOCTYPE html>\n<html lang=\"zh-cn\">\n<head>\n<meta charset=\"UTF-8\" />\n<title>404</title>\n</head>\n<body>\n<script type=\"text/javascript\" src=\"//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js\" homePageName=\"\" homePageUrl=\"https://www.jianyujianyu.com\"></script>\n</body>\n</html>\n","source":"404.html","raw":"layout: false\ntitle: \"404\"\ndate: 2017-04-22 00:00:00\n---\n<!DOCTYPE html>\n<html lang=\"zh-cn\">\n<head>\n<meta charset=\"UTF-8\" />\n<title>404</title>\n</head>\n<body>\n<script type=\"text/javascript\" src=\"//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js\" homePageName=\"\" homePageUrl=\"https://www.jianyujianyu.com\"></script>\n</body>\n</html>\n","updated":"2017-05-09T05:42:27.000Z","path":"404.html","_id":"cj1utjtpf0000uoev1tvok0v8","comments":1,"content":"<!DOCTYPE html>\n<html lang=\"zh-cn\">\n<head>\n<meta charset=\"UTF-8\">\n<title>404</title>\n</head>\n<body>\n<script type=\"text/javascript\" src=\"//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js\" homepagename=\"\" homepageurl=\"https://www.jianyujianyu.com\"></script>\n</body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!DOCTYPE html>\n<html lang=\"zh-cn\">\n<head>\n<meta charset=\"UTF-8\" />\n<title>404</title>\n</head>\n<body>\n<script type=\"text/javascript\" src=\"//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js\" homePageName=\"\" homePageUrl=\"https://www.jianyujianyu.com\"></script>\n</body>\n</html>\n"},{"title":"","date":"2017-04-23T14:44:46.000Z","_content":"\n## \n\n[ | ](http://yijieyjie.com/)\n\n[](http://swarma.net)\n\n[](http://www.ima-vida.com/)\n\n[ | ](http://www.zeakhold.com/)\n\n[alberthao.cc | ](http://alberthao.cc/)\n\n[StanOz-IO | ](http://stanoz-io.top/)\n\n[ZhouCD Blog |  ](http://xn--xhq56mu2c.cn/)\n\n[JackFrost | ](http://www.fuzhufuzhu.com/)\n\n[ChenZiping -> blog | ](http://blog.chenziping.cf/)\n\n[Nicho](http://blog.nichoeit.com/)","source":"links/index.md","raw":"---\ntitle: \ndate: 2017-04-23 22:44:46\n---\n\n## \n\n[ | ](http://yijieyjie.com/)\n\n[](http://swarma.net)\n\n[](http://www.ima-vida.com/)\n\n[ | ](http://www.zeakhold.com/)\n\n[alberthao.cc | ](http://alberthao.cc/)\n\n[StanOz-IO | ](http://stanoz-io.top/)\n\n[ZhouCD Blog |  ](http://xn--xhq56mu2c.cn/)\n\n[JackFrost | ](http://www.fuzhufuzhu.com/)\n\n[ChenZiping -> blog | ](http://blog.chenziping.cf/)\n\n[Nicho](http://blog.nichoeit.com/)","updated":"2017-04-23T14:50:31.000Z","path":"links/index.html","comments":1,"layout":"page","_id":"cj1utjtr60002uoeve3b4td51","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://yijieyjie.com/\" target=\"_blank\" rel=\"external\"> | </a></p>\n<p><a href=\"http://swarma.net\" target=\"_blank\" rel=\"external\"></a></p>\n<p><a href=\"http://www.ima-vida.com/\" target=\"_blank\" rel=\"external\"></a></p>\n<p><a href=\"http://www.zeakhold.com/\" target=\"_blank\" rel=\"external\"> | </a></p>\n<p><a href=\"http://alberthao.cc/\" target=\"_blank\" rel=\"external\">alberthao.cc | </a></p>\n<p><a href=\"http://stanoz-io.top/\" target=\"_blank\" rel=\"external\">StanOz-IO | </a></p>\n<p><a href=\"http://xn--xhq56mu2c.cn/\" target=\"_blank\" rel=\"external\">ZhouCD Blog |  </a></p>\n<p><a href=\"http://www.fuzhufuzhu.com/\" target=\"_blank\" rel=\"external\">JackFrost | </a></p>\n<p><a href=\"http://blog.chenziping.cf/\" target=\"_blank\" rel=\"external\">ChenZiping -&gt; blog | </a></p>\n<p><a href=\"http://blog.nichoeit.com/\" target=\"_blank\" rel=\"external\">Nicho</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://yijieyjie.com/\"> | </a></p>\n<p><a href=\"http://swarma.net\"></a></p>\n<p><a href=\"http://www.ima-vida.com/\"></a></p>\n<p><a href=\"http://www.zeakhold.com/\"> | </a></p>\n<p><a href=\"http://alberthao.cc/\">alberthao.cc | </a></p>\n<p><a href=\"http://stanoz-io.top/\">StanOz-IO | </a></p>\n<p><a href=\"http://xn--xhq56mu2c.cn/\">ZhouCD Blog |  </a></p>\n<p><a href=\"http://www.fuzhufuzhu.com/\">JackFrost | </a></p>\n<p><a href=\"http://blog.chenziping.cf/\">ChenZiping -&gt; blog | </a></p>\n<p><a href=\"http://blog.nichoeit.com/\">Nicho</a></p>\n"}],"Post":[{"title":"23TensorFlow","date":"2016-10-14T21:59:00.000Z","_content":"\n\n*2BWEBngrok+WettyDLTF*\n\n## \n- 23B\n- RaspbianSD16G\n- FQ\n- USWAP\n- \n\n<!-- more -->\n\n## \nRaspbian 8.0 (jessie)3B2root\n\n\n\n1. 32Protobuf\n2. Bazel\n3. BazelTensorFlow\n\n## \n\n### \n\n\n```\napt-get update\n```\n\nProtobuf\n\n```\napt-get install autoconf automake libtool maven\n```\n\nBazel\n\n```\napt-get install pkg-config zip g++ zlib1g-dev unzip\n```\n\nTensorFlow\n\n```\n# Python 2.7\napt-get install python-pip python-numpy swig python-dev\npip install wheel\n\n# Python 3.3+\napt-get install python3-pip python3-numpy swig python3-dev\npip3 install wheel\n```\n\n\n\n```\nmkdir tf\ncd tf\n```\n\n### Protobuf\nProtobuf\n\n```\ngit clone https://github.com/google/protobuf.git\n```\n\n\n\n```\ncd protobuf\ngit checkout d5fb408d\n./autogen.sh\n./configure --prefix=/usr\nmake -j 4\nmake install\n```\n\nautogen.shgooglegmock\n\n```\ncd protobuf\ngit checkout d5fb408d\napt-get install google-gmock\nautoreconf -f -i -Wall,no-obsolete\nrm -rf autom4te.cache config.h.in~\n./configure --prefix=/usr\nmake -j 4\nmake install\n```\n\njavamaven\n\n```\ncd java\nmvn package\n```\n\nmavenOSCHINA\n/etc/maven/settings.xmlmirrors\n\n```\n  <mirror>\n   <id>nexus-aliyun</id>\n   <mirrorOf>central</mirrorOf>\n   <name>Nexus aliyun</name>\n   <url>http://maven.aliyun.com/nexus/content/groups/public</url>\n  </mirror>\n```\n\n\n\n- /usr/bin/protoc\n- protobuf/java/core/target/protobuf-java-3.0.0-beta2.jar\n\n### Bazel\nBazel\n\n```\ncd ../..\ngit clone https://github.com/bazelbuild/bazel.git\n```\n\nbazel\n\n```\ncd bazel\ngit checkout 0.2.1\n```\n\n\n\n```\ncp /usr/bin/protoc third_party/protobuf/protoc-linux-arm32.exe\ncp ../protobuf/java/target/protobuf-java-3.0.0-beta-2.jar third_party/protobuf/protobuf-java-3.0.0-beta-1.jar\n```\n\nBazeljavacOutOfMemoryErrorbazel/scripts/bootstrap/compile.sh\n\n```\nvim scripts/bootstrap/compile.sh\n```\n\n128\n\n```\nrun \"${JAVAC}\" -classpath \"${classpath}\" -sourcepath \"${sourcepath}\" \\\n      -d \"${output}/classes\" -source \"$JAVA_VERSION\" -target \"$JAVA_VERSION\" \\\n      -encoding UTF-8 \"@${paramfile}\"\n```\n\n`-J-Xmx500M`Java500M\n\n```\nrun \"${JAVAC}\" -classpath \"${classpath}\" -sourcepath \"${sourcepath}\" \\\n      -d \"${output}/classes\" -source \"$JAVA_VERSION\" -target \"$JAVA_VERSION\" \\\n      -encoding UTF-8 \"@${paramfile}\" -J-Xmx500M\n```\n\nBazel\n\n```\n./compile.sh      \n```\n\n\n\n```\nmkdir /usr/local/bin\ncp output/bazel /usr/local/bin/bazel\n```\n\nBazel\n\n```\nbazel\n\nUsage: bazel <command> <options> ...\n\nAvailable commands:\n  analyze-profile     Analyzes build profile data.\n  build               Builds the specified targets.\n  canonicalize-flags  Canonicalizes a list of bazel options.\n  clean               Removes output files and optionally stops the server.\n  dump                Dumps the internal state of the bazel server process.\n  fetch               Fetches external repositories that are prerequisites to the targets.\n  help                Prints help for commands, or the index.\n  info                Displays runtime info about the bazel server.\n  mobile-install      Installs targets to mobile devices.\n  query               Executes a dependency graph query.\n  run                 Runs the specified target.\n  shutdown            Stops the bazel server.\n  test                Builds and runs the specified test targets.\n  version             Prints version information for bazel.\n\nGetting more help:\n  bazel help <command>\n                   Prints help and options for <command>.\n  bazel help startup_options\n                   Options for the JVM hosting bazel.\n  bazel help target-syntax\n                   Explains the syntax for specifying targets.\n  bazel help info-keys\n                   Displays a list of keys used by the info command.\n```    \n\nbazel\n\n```\ncd ..\n```\n\n### SWAP\n              \nTensorflow1GSWAP1GU\n\nU`/dev/XXX`\n\n```\nblkid\n```\n\nU`/dev/sda1`\n\n```\numount /dev/XXX\nmkswap /dev/XXX\n```\n\nUSWAPUUID\n\n```\nblkid\n```\n\nUUID/etc/fstabUSWAP\n\n```\nvim /etc/fstab\n# XX\nUUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX none swap sw,pri=5 0 0\n```\n\nSWAP\n\n```\nswapon -a\n```\n\n/etc/fstab`/dev/XXX``UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX`\n\n```\n/dev/XXX none swap sw,pri=5 0 0\n```\n\nSWAP`/dev/XXX`\n\n### Tensorflow\ntensorflow\n\n```\ngit clone --recurse-submodules https://github.com/tensorflow/tensorflow\ncd tensorflow\ngrep -Rl 'lib64'| xargs sed -i 's/lib64/lib/g'\n```\n\n`tensorflow/core/platform/platform.h`\n\n```\nvim tensorflow/core/platform/platform.h\n```\n\n`#define IS_MOBILE_PLATFORM`\n\n```\n#elif defined(__arm__)\n#define PLATFORM_POSIX\n...\n#define IS_MOBILE_PLATFORM   <----- \n```\n\ntensorflowTF\n\nBazel\nPython3`/usr/bin/python3`\n\n```\n./configure\n\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] N\nDo you wish to build TensorFlow with GPU support? [y/N] N\n```\n\nTensorflow****n\n\n```\nbazel build -c opt --copt=\"-mfpu=neon\" --local_resources 1024,1.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\n```\n\n4\n\n```\nbazel build -c opt --copt=\"-mfpu=neon\" --local_resources 1024,4.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\n```\n\nPython wheel\n\n```\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\n```\n\npip3\n\n```\npip install /tmp/tensorflow_pkg/tensorflow-0.9-cp27-none-linux_armv7l.whl\n```\n\n### \nSWAP\n\n```\nswapoff /dev/XXX\n```\n\n`/etc/fstab`\n\n****\n\n\n[](https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md)\n[](http://www.jianyujianyu.com)\n\n\n\n\n\n\n\n\n\n","source":"_posts/compile-tensorflow-on-raspberry2or3.md","raw":"title: 23TensorFlow\ncategories: \ntags: [RPi,TF]\ndate: 2016-10-15 05:59:00\n---\n\n\n*2BWEBngrok+WettyDLTF*\n\n## \n- 23B\n- RaspbianSD16G\n- FQ\n- USWAP\n- \n\n<!-- more -->\n\n## \nRaspbian 8.0 (jessie)3B2root\n\n\n\n1. 32Protobuf\n2. Bazel\n3. BazelTensorFlow\n\n## \n\n### \n\n\n```\napt-get update\n```\n\nProtobuf\n\n```\napt-get install autoconf automake libtool maven\n```\n\nBazel\n\n```\napt-get install pkg-config zip g++ zlib1g-dev unzip\n```\n\nTensorFlow\n\n```\n# Python 2.7\napt-get install python-pip python-numpy swig python-dev\npip install wheel\n\n# Python 3.3+\napt-get install python3-pip python3-numpy swig python3-dev\npip3 install wheel\n```\n\n\n\n```\nmkdir tf\ncd tf\n```\n\n### Protobuf\nProtobuf\n\n```\ngit clone https://github.com/google/protobuf.git\n```\n\n\n\n```\ncd protobuf\ngit checkout d5fb408d\n./autogen.sh\n./configure --prefix=/usr\nmake -j 4\nmake install\n```\n\nautogen.shgooglegmock\n\n```\ncd protobuf\ngit checkout d5fb408d\napt-get install google-gmock\nautoreconf -f -i -Wall,no-obsolete\nrm -rf autom4te.cache config.h.in~\n./configure --prefix=/usr\nmake -j 4\nmake install\n```\n\njavamaven\n\n```\ncd java\nmvn package\n```\n\nmavenOSCHINA\n/etc/maven/settings.xmlmirrors\n\n```\n  <mirror>\n   <id>nexus-aliyun</id>\n   <mirrorOf>central</mirrorOf>\n   <name>Nexus aliyun</name>\n   <url>http://maven.aliyun.com/nexus/content/groups/public</url>\n  </mirror>\n```\n\n\n\n- /usr/bin/protoc\n- protobuf/java/core/target/protobuf-java-3.0.0-beta2.jar\n\n### Bazel\nBazel\n\n```\ncd ../..\ngit clone https://github.com/bazelbuild/bazel.git\n```\n\nbazel\n\n```\ncd bazel\ngit checkout 0.2.1\n```\n\n\n\n```\ncp /usr/bin/protoc third_party/protobuf/protoc-linux-arm32.exe\ncp ../protobuf/java/target/protobuf-java-3.0.0-beta-2.jar third_party/protobuf/protobuf-java-3.0.0-beta-1.jar\n```\n\nBazeljavacOutOfMemoryErrorbazel/scripts/bootstrap/compile.sh\n\n```\nvim scripts/bootstrap/compile.sh\n```\n\n128\n\n```\nrun \"${JAVAC}\" -classpath \"${classpath}\" -sourcepath \"${sourcepath}\" \\\n      -d \"${output}/classes\" -source \"$JAVA_VERSION\" -target \"$JAVA_VERSION\" \\\n      -encoding UTF-8 \"@${paramfile}\"\n```\n\n`-J-Xmx500M`Java500M\n\n```\nrun \"${JAVAC}\" -classpath \"${classpath}\" -sourcepath \"${sourcepath}\" \\\n      -d \"${output}/classes\" -source \"$JAVA_VERSION\" -target \"$JAVA_VERSION\" \\\n      -encoding UTF-8 \"@${paramfile}\" -J-Xmx500M\n```\n\nBazel\n\n```\n./compile.sh      \n```\n\n\n\n```\nmkdir /usr/local/bin\ncp output/bazel /usr/local/bin/bazel\n```\n\nBazel\n\n```\nbazel\n\nUsage: bazel <command> <options> ...\n\nAvailable commands:\n  analyze-profile     Analyzes build profile data.\n  build               Builds the specified targets.\n  canonicalize-flags  Canonicalizes a list of bazel options.\n  clean               Removes output files and optionally stops the server.\n  dump                Dumps the internal state of the bazel server process.\n  fetch               Fetches external repositories that are prerequisites to the targets.\n  help                Prints help for commands, or the index.\n  info                Displays runtime info about the bazel server.\n  mobile-install      Installs targets to mobile devices.\n  query               Executes a dependency graph query.\n  run                 Runs the specified target.\n  shutdown            Stops the bazel server.\n  test                Builds and runs the specified test targets.\n  version             Prints version information for bazel.\n\nGetting more help:\n  bazel help <command>\n                   Prints help and options for <command>.\n  bazel help startup_options\n                   Options for the JVM hosting bazel.\n  bazel help target-syntax\n                   Explains the syntax for specifying targets.\n  bazel help info-keys\n                   Displays a list of keys used by the info command.\n```    \n\nbazel\n\n```\ncd ..\n```\n\n### SWAP\n              \nTensorflow1GSWAP1GU\n\nU`/dev/XXX`\n\n```\nblkid\n```\n\nU`/dev/sda1`\n\n```\numount /dev/XXX\nmkswap /dev/XXX\n```\n\nUSWAPUUID\n\n```\nblkid\n```\n\nUUID/etc/fstabUSWAP\n\n```\nvim /etc/fstab\n# XX\nUUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX none swap sw,pri=5 0 0\n```\n\nSWAP\n\n```\nswapon -a\n```\n\n/etc/fstab`/dev/XXX``UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX`\n\n```\n/dev/XXX none swap sw,pri=5 0 0\n```\n\nSWAP`/dev/XXX`\n\n### Tensorflow\ntensorflow\n\n```\ngit clone --recurse-submodules https://github.com/tensorflow/tensorflow\ncd tensorflow\ngrep -Rl 'lib64'| xargs sed -i 's/lib64/lib/g'\n```\n\n`tensorflow/core/platform/platform.h`\n\n```\nvim tensorflow/core/platform/platform.h\n```\n\n`#define IS_MOBILE_PLATFORM`\n\n```\n#elif defined(__arm__)\n#define PLATFORM_POSIX\n...\n#define IS_MOBILE_PLATFORM   <----- \n```\n\ntensorflowTF\n\nBazel\nPython3`/usr/bin/python3`\n\n```\n./configure\n\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] N\nDo you wish to build TensorFlow with GPU support? [y/N] N\n```\n\nTensorflow****n\n\n```\nbazel build -c opt --copt=\"-mfpu=neon\" --local_resources 1024,1.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\n```\n\n4\n\n```\nbazel build -c opt --copt=\"-mfpu=neon\" --local_resources 1024,4.0,1.0 --verbose_failures tensorflow/tools/pip_package:build_pip_package\n```\n\nPython wheel\n\n```\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\n```\n\npip3\n\n```\npip install /tmp/tensorflow_pkg/tensorflow-0.9-cp27-none-linux_armv7l.whl\n```\n\n### \nSWAP\n\n```\nswapoff /dev/XXX\n```\n\n`/etc/fstab`\n\n****\n\n\n[](https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md)\n[](http://www.jianyujianyu.com)\n\n\n\n\n\n\n\n\n\n","slug":"compile-tensorflow-on-raspberry2or3","published":1,"updated":"2017-04-23T13:42:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtqz0001uoevjhelys3q","content":"<p><em>2BWEBngrok+WettyDLTF</em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>23B</li>\n<li>RaspbianSD16G</li>\n<li>FQ</li>\n<li>USWAP</li>\n<li></li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Raspbian 8.0 (jessie)3B2root</p>\n<p></p>\n<ol>\n<li>32Protobuf</li>\n<li>Bazel</li>\n<li>BazelTensorFlow</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get update</div></pre></td></tr></table></figure>\n<p>Protobuf</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install autoconf automake libtool maven</div></pre></td></tr></table></figure>\n<p>Bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install pkg-config zip g++ zlib1g-dev unzip</div></pre></td></tr></table></figure>\n<p>TensorFlow</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Python 2.7</div><div class=\"line\">apt-get install python-pip python-numpy swig python-dev</div><div class=\"line\">pip install wheel</div><div class=\"line\"></div><div class=\"line\"># Python 3.3+</div><div class=\"line\">apt-get install python3-pip python3-numpy swig python3-dev</div><div class=\"line\">pip3 install wheel</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir tf</div><div class=\"line\">cd tf</div></pre></td></tr></table></figure>\n<h3 id=\"Protobuf\"><a href=\"#Protobuf\" class=\"headerlink\" title=\"Protobuf\"></a>Protobuf</h3><p>Protobuf</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone https://github.com/google/protobuf.git</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd protobuf</div><div class=\"line\">git checkout d5fb408d</div><div class=\"line\">./autogen.sh</div><div class=\"line\">./configure --prefix=/usr</div><div class=\"line\">make -j 4</div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n<p>autogen.shgooglegmock</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd protobuf</div><div class=\"line\">git checkout d5fb408d</div><div class=\"line\">apt-get install google-gmock</div><div class=\"line\">autoreconf -f -i -Wall,no-obsolete</div><div class=\"line\">rm -rf autom4te.cache config.h.in~</div><div class=\"line\">./configure --prefix=/usr</div><div class=\"line\">make -j 4</div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n<p>javamaven</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd java</div><div class=\"line\">mvn package</div></pre></td></tr></table></figure>\n<p>mavenOSCHINA<br>/etc/maven/settings.xmlmirrors</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;mirror&gt;</div><div class=\"line\"> &lt;id&gt;nexus-aliyun&lt;/id&gt;</div><div class=\"line\"> &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</div><div class=\"line\"> &lt;name&gt;Nexus aliyun&lt;/name&gt;</div><div class=\"line\"> &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</div><div class=\"line\">&lt;/mirror&gt;</div></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>/usr/bin/protoc</li>\n<li>protobuf/java/core/target/protobuf-java-3.0.0-beta2.jar</li>\n</ul>\n<h3 id=\"Bazel\"><a href=\"#Bazel\" class=\"headerlink\" title=\"Bazel\"></a>Bazel</h3><p>Bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd ../..</div><div class=\"line\">git clone https://github.com/bazelbuild/bazel.git</div></pre></td></tr></table></figure>\n<p>bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd bazel</div><div class=\"line\">git checkout 0.2.1</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cp /usr/bin/protoc third_party/protobuf/protoc-linux-arm32.exe</div><div class=\"line\">cp ../protobuf/java/target/protobuf-java-3.0.0-beta-2.jar third_party/protobuf/protobuf-java-3.0.0-beta-1.jar</div></pre></td></tr></table></figure>\n<p>BazeljavacOutOfMemoryErrorbazel/scripts/bootstrap/compile.sh</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim scripts/bootstrap/compile.sh</div></pre></td></tr></table></figure>\n<p>128</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">run &quot;$&#123;JAVAC&#125;&quot; -classpath &quot;$&#123;classpath&#125;&quot; -sourcepath &quot;$&#123;sourcepath&#125;&quot; \\</div><div class=\"line\">      -d &quot;$&#123;output&#125;/classes&quot; -source &quot;$JAVA_VERSION&quot; -target &quot;$JAVA_VERSION&quot; \\</div><div class=\"line\">      -encoding UTF-8 &quot;@$&#123;paramfile&#125;&quot;</div></pre></td></tr></table></figure>\n<p><code>-J-Xmx500M</code>Java500M</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">run &quot;$&#123;JAVAC&#125;&quot; -classpath &quot;$&#123;classpath&#125;&quot; -sourcepath &quot;$&#123;sourcepath&#125;&quot; \\</div><div class=\"line\">      -d &quot;$&#123;output&#125;/classes&quot; -source &quot;$JAVA_VERSION&quot; -target &quot;$JAVA_VERSION&quot; \\</div><div class=\"line\">      -encoding UTF-8 &quot;@$&#123;paramfile&#125;&quot; -J-Xmx500M</div></pre></td></tr></table></figure>\n<p>Bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./compile.sh</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir /usr/local/bin</div><div class=\"line\">cp output/bazel /usr/local/bin/bazel</div></pre></td></tr></table></figure>\n<p>Bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">bazel</div><div class=\"line\"></div><div class=\"line\">Usage: bazel &lt;command&gt; &lt;options&gt; ...</div><div class=\"line\"></div><div class=\"line\">Available commands:</div><div class=\"line\">  analyze-profile     Analyzes build profile data.</div><div class=\"line\">  build               Builds the specified targets.</div><div class=\"line\">  canonicalize-flags  Canonicalizes a list of bazel options.</div><div class=\"line\">  clean               Removes output files and optionally stops the server.</div><div class=\"line\">  dump                Dumps the internal state of the bazel server process.</div><div class=\"line\">  fetch               Fetches external repositories that are prerequisites to the targets.</div><div class=\"line\">  help                Prints help for commands, or the index.</div><div class=\"line\">  info                Displays runtime info about the bazel server.</div><div class=\"line\">  mobile-install      Installs targets to mobile devices.</div><div class=\"line\">  query               Executes a dependency graph query.</div><div class=\"line\">  run                 Runs the specified target.</div><div class=\"line\">  shutdown            Stops the bazel server.</div><div class=\"line\">  test                Builds and runs the specified test targets.</div><div class=\"line\">  version             Prints version information for bazel.</div><div class=\"line\"></div><div class=\"line\">Getting more help:</div><div class=\"line\">  bazel help &lt;command&gt;</div><div class=\"line\">                   Prints help and options for &lt;command&gt;.</div><div class=\"line\">  bazel help startup_options</div><div class=\"line\">                   Options for the JVM hosting bazel.</div><div class=\"line\">  bazel help target-syntax</div><div class=\"line\">                   Explains the syntax for specifying targets.</div><div class=\"line\">  bazel help info-keys</div><div class=\"line\">                   Displays a list of keys used by the info command.</div><div class=\"line\">```    </div><div class=\"line\"></div><div class=\"line\">bazel</div></pre></td></tr></table></figure>\n<p>cd ..<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">### SWAP</div><div class=\"line\">              </div><div class=\"line\">Tensorflow1GSWAP1GU</div><div class=\"line\"></div><div class=\"line\">U`/dev/XXX`</div></pre></td></tr></table></figure></p>\n<p>blkid<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">U`/dev/sda1`</div></pre></td></tr></table></figure></p>\n<p>umount /dev/XXX<br>mkswap /dev/XXX<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">USWAPUUID</div></pre></td></tr></table></figure></p>\n<p>blkid<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">UUID/etc/fstabUSWAP</div></pre></td></tr></table></figure></p>\n<p>vim /etc/fstab</p>\n<h1 id=\"XX\"><a href=\"#XX\" class=\"headerlink\" title=\"XX\"></a>XX</h1><p>UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX none swap sw,pri=5 0 0<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">SWAP</div></pre></td></tr></table></figure></p>\n<p>swapon -a<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">/etc/fstab`/dev/XXX``UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX`</div></pre></td></tr></table></figure></p>\n<p>/dev/XXX none swap sw,pri=5 0 0<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">SWAP`/dev/XXX`</div><div class=\"line\"></div><div class=\"line\">### Tensorflow</div><div class=\"line\">tensorflow</div></pre></td></tr></table></figure></p>\n<p>git clone recurse-submodules <a href=\"https://github.com/tensorflow/tensorflow\" target=\"_blank\" rel=\"external\">https://github.com/tensorflow/tensorflow</a><br>cd tensorflow<br>grep -Rl lib64| xargs sed -i s/lib64/lib/g<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">`tensorflow/core/platform/platform.h`</div></pre></td></tr></table></figure></p>\n<p>vim tensorflow/core/platform/platform.h<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">`#define IS_MOBILE_PLATFORM`</div></pre></td></tr></table></figure></p>\n<p>#elif defined(<strong>arm</strong>)</p>\n<p>#define PLATFORM_POSIX<br></p>\n<p>#define IS_MOBILE_PLATFORM   &lt; <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">tensorflowTF</div><div class=\"line\"></div><div class=\"line\">Bazel</div><div class=\"line\">Python3`/usr/bin/python3`</div></pre></td></tr></table></figure></p>\n<p>./configure</p>\n<p>Please specify the location of python. [Default is /usr/bin/python]: /usr/bin/python<br>Do you wish to build TensorFlow with Google Cloud Platform support? [y/N] N<br>Do you wish to build TensorFlow with GPU support? [y/N] N<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">Tensorflow****n</div></pre></td></tr></table></figure></p>\n<p>bazel build -c opt copt=-mfpu=neon local_resources 1024,1.0,1.0 verbose_failures tensorflow/tools/pip_package:build_pip_package<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">4</div></pre></td></tr></table></figure></p>\n<p>bazel build -c opt copt=-mfpu=neon local_resources 1024,4.0,1.0 verbose_failures tensorflow/tools/pip_package:build_pip_package<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">Python wheel</div></pre></td></tr></table></figure></p>\n<p>bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">pip3</div></pre></td></tr></table></figure></p>\n<p>pip install /tmp/tensorflow_pkg/tensorflow-0.9-cp27-none-linux_armv7l.whl<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">### </div><div class=\"line\">SWAP</div></pre></td></tr></table></figure></p>\n<p>swapoff /dev/XXX<br>```</p>\n<p><code>/etc/fstab</code></p>\n<p><strong></strong></p>\n<p><a href=\"https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\" target=\"_blank\" rel=\"external\"></a><br><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<p><em>2BWEBngrok+WettyDLTF</em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>23B</li>\n<li>RaspbianSD16G</li>\n<li>FQ</li>\n<li>USWAP</li>\n<li></li>\n</ul>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Raspbian 8.0 (jessie)3B2root</p>\n<p></p>\n<ol>\n<li>32Protobuf</li>\n<li>Bazel</li>\n<li>BazelTensorFlow</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get update</div></pre></td></tr></table></figure>\n<p>Protobuf</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install autoconf automake libtool maven</div></pre></td></tr></table></figure>\n<p>Bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install pkg-config zip g++ zlib1g-dev unzip</div></pre></td></tr></table></figure>\n<p>TensorFlow</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Python 2.7</div><div class=\"line\">apt-get install python-pip python-numpy swig python-dev</div><div class=\"line\">pip install wheel</div><div class=\"line\"></div><div class=\"line\"># Python 3.3+</div><div class=\"line\">apt-get install python3-pip python3-numpy swig python3-dev</div><div class=\"line\">pip3 install wheel</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir tf</div><div class=\"line\">cd tf</div></pre></td></tr></table></figure>\n<h3 id=\"Protobuf\"><a href=\"#Protobuf\" class=\"headerlink\" title=\"Protobuf\"></a>Protobuf</h3><p>Protobuf</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone https://github.com/google/protobuf.git</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd protobuf</div><div class=\"line\">git checkout d5fb408d</div><div class=\"line\">./autogen.sh</div><div class=\"line\">./configure --prefix=/usr</div><div class=\"line\">make -j 4</div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n<p>autogen.shgooglegmock</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd protobuf</div><div class=\"line\">git checkout d5fb408d</div><div class=\"line\">apt-get install google-gmock</div><div class=\"line\">autoreconf -f -i -Wall,no-obsolete</div><div class=\"line\">rm -rf autom4te.cache config.h.in~</div><div class=\"line\">./configure --prefix=/usr</div><div class=\"line\">make -j 4</div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n<p>javamaven</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd java</div><div class=\"line\">mvn package</div></pre></td></tr></table></figure>\n<p>mavenOSCHINA<br>/etc/maven/settings.xmlmirrors</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;mirror&gt;</div><div class=\"line\"> &lt;id&gt;nexus-aliyun&lt;/id&gt;</div><div class=\"line\"> &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</div><div class=\"line\"> &lt;name&gt;Nexus aliyun&lt;/name&gt;</div><div class=\"line\"> &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</div><div class=\"line\">&lt;/mirror&gt;</div></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>/usr/bin/protoc</li>\n<li>protobuf/java/core/target/protobuf-java-3.0.0-beta2.jar</li>\n</ul>\n<h3 id=\"Bazel\"><a href=\"#Bazel\" class=\"headerlink\" title=\"Bazel\"></a>Bazel</h3><p>Bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd ../..</div><div class=\"line\">git clone https://github.com/bazelbuild/bazel.git</div></pre></td></tr></table></figure>\n<p>bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd bazel</div><div class=\"line\">git checkout 0.2.1</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cp /usr/bin/protoc third_party/protobuf/protoc-linux-arm32.exe</div><div class=\"line\">cp ../protobuf/java/target/protobuf-java-3.0.0-beta-2.jar third_party/protobuf/protobuf-java-3.0.0-beta-1.jar</div></pre></td></tr></table></figure>\n<p>BazeljavacOutOfMemoryErrorbazel/scripts/bootstrap/compile.sh</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim scripts/bootstrap/compile.sh</div></pre></td></tr></table></figure>\n<p>128</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">run &quot;$&#123;JAVAC&#125;&quot; -classpath &quot;$&#123;classpath&#125;&quot; -sourcepath &quot;$&#123;sourcepath&#125;&quot; \\</div><div class=\"line\">      -d &quot;$&#123;output&#125;/classes&quot; -source &quot;$JAVA_VERSION&quot; -target &quot;$JAVA_VERSION&quot; \\</div><div class=\"line\">      -encoding UTF-8 &quot;@$&#123;paramfile&#125;&quot;</div></pre></td></tr></table></figure>\n<p><code>-J-Xmx500M</code>Java500M</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">run &quot;$&#123;JAVAC&#125;&quot; -classpath &quot;$&#123;classpath&#125;&quot; -sourcepath &quot;$&#123;sourcepath&#125;&quot; \\</div><div class=\"line\">      -d &quot;$&#123;output&#125;/classes&quot; -source &quot;$JAVA_VERSION&quot; -target &quot;$JAVA_VERSION&quot; \\</div><div class=\"line\">      -encoding UTF-8 &quot;@$&#123;paramfile&#125;&quot; -J-Xmx500M</div></pre></td></tr></table></figure>\n<p>Bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./compile.sh</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir /usr/local/bin</div><div class=\"line\">cp output/bazel /usr/local/bin/bazel</div></pre></td></tr></table></figure>\n<p>Bazel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">bazel</div><div class=\"line\"></div><div class=\"line\">Usage: bazel &lt;command&gt; &lt;options&gt; ...</div><div class=\"line\"></div><div class=\"line\">Available commands:</div><div class=\"line\">  analyze-profile     Analyzes build profile data.</div><div class=\"line\">  build               Builds the specified targets.</div><div class=\"line\">  canonicalize-flags  Canonicalizes a list of bazel options.</div><div class=\"line\">  clean               Removes output files and optionally stops the server.</div><div class=\"line\">  dump                Dumps the internal state of the bazel server process.</div><div class=\"line\">  fetch               Fetches external repositories that are prerequisites to the targets.</div><div class=\"line\">  help                Prints help for commands, or the index.</div><div class=\"line\">  info                Displays runtime info about the bazel server.</div><div class=\"line\">  mobile-install      Installs targets to mobile devices.</div><div class=\"line\">  query               Executes a dependency graph query.</div><div class=\"line\">  run                 Runs the specified target.</div><div class=\"line\">  shutdown            Stops the bazel server.</div><div class=\"line\">  test                Builds and runs the specified test targets.</div><div class=\"line\">  version             Prints version information for bazel.</div><div class=\"line\"></div><div class=\"line\">Getting more help:</div><div class=\"line\">  bazel help &lt;command&gt;</div><div class=\"line\">                   Prints help and options for &lt;command&gt;.</div><div class=\"line\">  bazel help startup_options</div><div class=\"line\">                   Options for the JVM hosting bazel.</div><div class=\"line\">  bazel help target-syntax</div><div class=\"line\">                   Explains the syntax for specifying targets.</div><div class=\"line\">  bazel help info-keys</div><div class=\"line\">                   Displays a list of keys used by the info command.</div><div class=\"line\">```    </div><div class=\"line\"></div><div class=\"line\">bazel</div></pre></td></tr></table></figure>\n<p>cd ..<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">### SWAP</div><div class=\"line\">              </div><div class=\"line\">Tensorflow1GSWAP1GU</div><div class=\"line\"></div><div class=\"line\">U`/dev/XXX`</div></pre></td></tr></table></figure></p>\n<p>blkid<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">U`/dev/sda1`</div></pre></td></tr></table></figure></p>\n<p>umount /dev/XXX<br>mkswap /dev/XXX<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">USWAPUUID</div></pre></td></tr></table></figure></p>\n<p>blkid<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">UUID/etc/fstabUSWAP</div></pre></td></tr></table></figure></p>\n<p>vim /etc/fstab</p>\n<h1 id=\"XX\"><a href=\"#XX\" class=\"headerlink\" title=\"XX\"></a>XX</h1><p>UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX none swap sw,pri=5 0 0<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">SWAP</div></pre></td></tr></table></figure></p>\n<p>swapon -a<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">/etc/fstab`/dev/XXX``UUID=XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX`</div></pre></td></tr></table></figure></p>\n<p>/dev/XXX none swap sw,pri=5 0 0<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">SWAP`/dev/XXX`</div><div class=\"line\"></div><div class=\"line\">### Tensorflow</div><div class=\"line\">tensorflow</div></pre></td></tr></table></figure></p>\n<p>git clone recurse-submodules <a href=\"https://github.com/tensorflow/tensorflow\">https://github.com/tensorflow/tensorflow</a><br>cd tensorflow<br>grep -Rl lib64| xargs sed -i s/lib64/lib/g<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">`tensorflow/core/platform/platform.h`</div></pre></td></tr></table></figure></p>\n<p>vim tensorflow/core/platform/platform.h<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">`#define IS_MOBILE_PLATFORM`</div></pre></td></tr></table></figure></p>\n<p>#elif defined(<strong>arm</strong>)</p>\n<p>#define PLATFORM_POSIX<br></p>\n<p>#define IS_MOBILE_PLATFORM   &lt; <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">tensorflowTF</div><div class=\"line\"></div><div class=\"line\">Bazel</div><div class=\"line\">Python3`/usr/bin/python3`</div></pre></td></tr></table></figure></p>\n<p>./configure</p>\n<p>Please specify the location of python. [Default is /usr/bin/python]: /usr/bin/python<br>Do you wish to build TensorFlow with Google Cloud Platform support? [y/N] N<br>Do you wish to build TensorFlow with GPU support? [y/N] N<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">Tensorflow****n</div></pre></td></tr></table></figure></p>\n<p>bazel build -c opt copt=-mfpu=neon local_resources 1024,1.0,1.0 verbose_failures tensorflow/tools/pip_package:build_pip_package<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">4</div></pre></td></tr></table></figure></p>\n<p>bazel build -c opt copt=-mfpu=neon local_resources 1024,4.0,1.0 verbose_failures tensorflow/tools/pip_package:build_pip_package<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">Python wheel</div></pre></td></tr></table></figure></p>\n<p>bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">pip3</div></pre></td></tr></table></figure></p>\n<p>pip install /tmp/tensorflow_pkg/tensorflow-0.9-cp27-none-linux_armv7l.whl<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">### </div><div class=\"line\">SWAP</div></pre></td></tr></table></figure></p>\n<p>swapoff /dev/XXX<br>```</p>\n<p><code>/etc/fstab</code></p>\n<p><strong></strong></p>\n<p><a href=\"https://github.com/samjabrahams/tensorflow-on-raspberry-pi/blob/master/GUIDE.md\"></a><br><a href=\"http://www.jianyujianyu.com\"></a></p>"},{"title":"NioSocketHTTP","date":"2017-01-14T11:37:00.000Z","_content":"\n## NioSocket\n\n### \nNioSocketBufferChannelSelector\n\n- Buffer\n- Channel\n- Selector\n\n<!-- more -->\n\n### \nNioSocket\n\n1. ServerSocketChannelconfigureBlockingfalseregisterSelectorSelector\n2. Selectorselect()0\n3. SelectorselectedKeysSelectedKey\n4. SelectedKeyChannelSelectorSelectedKey.OP_ACCEPTSelectedKey.OP_CONNECTSelectedKey.OP_READSelectedKey.OP_WRITE\n5. SelectedKeyisAcceptableisConnectableisReadableisWritable\n6. HandlerSelectedKeyChannelBuffer\n\n## HTTP\n### HttpServer\n\n```java\npublic class HttpServer {\n    public static void main(String[] args) throws Exception{\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n        serverSocketChannel.socket().bind(new InetSocketAddress((8080)));\n        serverSocketChannel.configureBlocking(false);\n\n        Selector selector = Selector.open();\n\n        // It must be ACCEPT, or it will throw exception\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n\n        while(true){\n            if (selector.select(3000) == 0){\n                continue;\n            }\n\n            Iterator<SelectionKey> keyIter = selector.selectedKeys().iterator();\n\n            while (keyIter.hasNext()){\n                SelectionKey key = keyIter.next();\n                new Thread(new HttpHandler(key)).run();\n                keyIter.remove();\n            }\n        }\n    }\n}\n```\n\nNioSocketserverSocketChannelregisterselectorOP_ACCEPT\n\nserverSocketChannel.configureBlocking(false)ServerkeyHttpHandlerkeyremoveHttpServerHttpHandler\n\nNioSocketNew IOHttpHandler\n\n### HttpHandler\n\nHttpServerHttpHandlerHttpHandlerBufferHttpHandler\n\n```java\nclass HttpHandler implements Runnable{\n    private int bufferSize = 1024;\n    private String localCharset = \"UTF-8\";\n    private SelectionKey key;\n\n    public HttpHandler(SelectionKey key){\n        this.key = key;\n    }\n\n    public void handleAccept() throws IOException{}\n\n    public void handleRead() throws IOException{}\n\n    @Override\n    public void run() {\n        try {\n            if(key.isAcceptable()){\n                handleAccept();\n            }\n            if(key.isReadable()){\n                handleRead();\n            }\n        }catch (IOException ex){\n            ex.printStackTrace();\n        }\n    }\n}\n```\n\nrunhandleAccepthandleReadbufferSizeBufferlocalCharset\n\nHttpServerOP_ACCEPTHttpHandlerisAcceptable()handleRead()handleAccept()\n\n```java\n\tpublic void handleAccept() throws IOException{\n        SocketChannel clientChannel =\n        \t\t((ServerSocketChannel)key.channel()).accept();\n        clientChannel.configureBlocking(false);\n        clientChannel.register(\n        \t\tkey.selector(), SelectionKey.OP_READ, ByteBuffer.allocate(bufferSize)\n        \t);\n    }\n```\n\nhandleAcceptkeySocketChannel SocketChannelServerSocketChannelSocketChannelOP_READBufferkeyisReadable()handleReadkey\n\n```java\n\tpublic void handleRead() throws IOException{\n        SocketChannel sc = (SocketChannel)key.channel();\n        ByteBuffer buffer = (ByteBuffer)key.attachment();\n        buffer.clear();\n\n        if (sc.read(buffer) == -1){\n            sc.close();\n        }else {\n            buffer.flip();\n            String receiveString = Charset.forName(localCharset).newDecoder().decode(buffer).toString();\n\n            String[] requestMessage = receiveString.split(\"\\r\\n\");\n            for (String s: requestMessage){\n                System.out.println(s);\n                if (s.isEmpty()){\n                    break;\n                }\n            }\n\n            String[] firstLine = requestMessage[0].split(\" \");\n            System.out.println();\n            System.out.println(\"Method:\\t\"+ firstLine[0]);\n            System.out.println(\"url:\\t\"+firstLine[1]);\n            System.out.println(\"HTTP Version:\\t\" + firstLine[2]);\n            System.out.println();\n\n            StringBuilder sendString = new StringBuilder();\n            sendString.append(\"HTTP/1.1 200 OK\\r\\n\");\n            sendString.append(\"Content-Type:text/html;Charset=\"+localCharset+\"\\r\\n\");\n            sendString.append(\"\\r\\n\");\n            sendString.append(\"<html><head><title>SHOW</title></head></body>\");\n            sendString.append(\"Received:<br/>\");\n\n            for (String s : requestMessage){\n                sendString.append(s + \"<br/>\");\n            }\n            sendString.append(\"</body></html>\");\n            buffer = ByteBuffer.wrap(sendString.toString().getBytes(localCharset));\n            sc.write(buffer);\n            sc.close();\n        }\n    }\n```\n\nhandleReadSocketChannelByteBufferSocketChannelByteBuffer\n\nHTTP\n\n\n![](http://source.jianyujianyu.com/2017-01-15-14844539625326.jpg)\n![](http://source.jianyujianyu.com/2017-01-15-14844539849717.jpg)\n\n\n[](https://www.jianyujianyu.com)\n\n\n","source":"_posts/http-server-implement-using-niosocket.md","raw":"title: NioSocketHTTP\ncategories: Java\ntags: [java,niosocket]\ndate: 2017-01-14 19:37:00\n---\n\n## NioSocket\n\n### \nNioSocketBufferChannelSelector\n\n- Buffer\n- Channel\n- Selector\n\n<!-- more -->\n\n### \nNioSocket\n\n1. ServerSocketChannelconfigureBlockingfalseregisterSelectorSelector\n2. Selectorselect()0\n3. SelectorselectedKeysSelectedKey\n4. SelectedKeyChannelSelectorSelectedKey.OP_ACCEPTSelectedKey.OP_CONNECTSelectedKey.OP_READSelectedKey.OP_WRITE\n5. SelectedKeyisAcceptableisConnectableisReadableisWritable\n6. HandlerSelectedKeyChannelBuffer\n\n## HTTP\n### HttpServer\n\n```java\npublic class HttpServer {\n    public static void main(String[] args) throws Exception{\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n        serverSocketChannel.socket().bind(new InetSocketAddress((8080)));\n        serverSocketChannel.configureBlocking(false);\n\n        Selector selector = Selector.open();\n\n        // It must be ACCEPT, or it will throw exception\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n\n        while(true){\n            if (selector.select(3000) == 0){\n                continue;\n            }\n\n            Iterator<SelectionKey> keyIter = selector.selectedKeys().iterator();\n\n            while (keyIter.hasNext()){\n                SelectionKey key = keyIter.next();\n                new Thread(new HttpHandler(key)).run();\n                keyIter.remove();\n            }\n        }\n    }\n}\n```\n\nNioSocketserverSocketChannelregisterselectorOP_ACCEPT\n\nserverSocketChannel.configureBlocking(false)ServerkeyHttpHandlerkeyremoveHttpServerHttpHandler\n\nNioSocketNew IOHttpHandler\n\n### HttpHandler\n\nHttpServerHttpHandlerHttpHandlerBufferHttpHandler\n\n```java\nclass HttpHandler implements Runnable{\n    private int bufferSize = 1024;\n    private String localCharset = \"UTF-8\";\n    private SelectionKey key;\n\n    public HttpHandler(SelectionKey key){\n        this.key = key;\n    }\n\n    public void handleAccept() throws IOException{}\n\n    public void handleRead() throws IOException{}\n\n    @Override\n    public void run() {\n        try {\n            if(key.isAcceptable()){\n                handleAccept();\n            }\n            if(key.isReadable()){\n                handleRead();\n            }\n        }catch (IOException ex){\n            ex.printStackTrace();\n        }\n    }\n}\n```\n\nrunhandleAccepthandleReadbufferSizeBufferlocalCharset\n\nHttpServerOP_ACCEPTHttpHandlerisAcceptable()handleRead()handleAccept()\n\n```java\n\tpublic void handleAccept() throws IOException{\n        SocketChannel clientChannel =\n        \t\t((ServerSocketChannel)key.channel()).accept();\n        clientChannel.configureBlocking(false);\n        clientChannel.register(\n        \t\tkey.selector(), SelectionKey.OP_READ, ByteBuffer.allocate(bufferSize)\n        \t);\n    }\n```\n\nhandleAcceptkeySocketChannel SocketChannelServerSocketChannelSocketChannelOP_READBufferkeyisReadable()handleReadkey\n\n```java\n\tpublic void handleRead() throws IOException{\n        SocketChannel sc = (SocketChannel)key.channel();\n        ByteBuffer buffer = (ByteBuffer)key.attachment();\n        buffer.clear();\n\n        if (sc.read(buffer) == -1){\n            sc.close();\n        }else {\n            buffer.flip();\n            String receiveString = Charset.forName(localCharset).newDecoder().decode(buffer).toString();\n\n            String[] requestMessage = receiveString.split(\"\\r\\n\");\n            for (String s: requestMessage){\n                System.out.println(s);\n                if (s.isEmpty()){\n                    break;\n                }\n            }\n\n            String[] firstLine = requestMessage[0].split(\" \");\n            System.out.println();\n            System.out.println(\"Method:\\t\"+ firstLine[0]);\n            System.out.println(\"url:\\t\"+firstLine[1]);\n            System.out.println(\"HTTP Version:\\t\" + firstLine[2]);\n            System.out.println();\n\n            StringBuilder sendString = new StringBuilder();\n            sendString.append(\"HTTP/1.1 200 OK\\r\\n\");\n            sendString.append(\"Content-Type:text/html;Charset=\"+localCharset+\"\\r\\n\");\n            sendString.append(\"\\r\\n\");\n            sendString.append(\"<html><head><title>SHOW</title></head></body>\");\n            sendString.append(\"Received:<br/>\");\n\n            for (String s : requestMessage){\n                sendString.append(s + \"<br/>\");\n            }\n            sendString.append(\"</body></html>\");\n            buffer = ByteBuffer.wrap(sendString.toString().getBytes(localCharset));\n            sc.write(buffer);\n            sc.close();\n        }\n    }\n```\n\nhandleReadSocketChannelByteBufferSocketChannelByteBuffer\n\nHTTP\n\n\n![](http://source.jianyujianyu.com/2017-01-15-14844539625326.jpg)\n![](http://source.jianyujianyu.com/2017-01-15-14844539849717.jpg)\n\n\n[](https://www.jianyujianyu.com)\n\n\n","slug":"http-server-implement-using-niosocket","published":1,"updated":"2017-04-23T13:42:42.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtr90003uoevzckp7mqj","content":"<h2 id=\"NioSocket\"><a href=\"#NioSocket\" class=\"headerlink\" title=\"NioSocket\"></a>NioSocket</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>NioSocketBufferChannelSelector</p>\n<ul>\n<li>Buffer</li>\n<li>Channel</li>\n<li>Selector</li>\n</ul>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>NioSocket</p>\n<ol>\n<li>ServerSocketChannelconfigureBlockingfalseregisterSelectorSelector</li>\n<li>Selectorselect()0</li>\n<li>SelectorselectedKeysSelectedKey</li>\n<li>SelectedKeyChannelSelectorSelectedKey.OP_ACCEPTSelectedKey.OP_CONNECTSelectedKey.OP_READSelectedKey.OP_WRITE</li>\n<li>SelectedKeyisAcceptableisConnectableisReadableisWritable</li>\n<li>HandlerSelectedKeyChannelBuffer</li>\n</ol>\n<h2 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h2><h3 id=\"HttpServer\"><a href=\"#HttpServer\" class=\"headerlink\" title=\"HttpServer\"></a>HttpServer</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpServer</span> </span>&#123;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception</span>&#123;</div><div class=\"line\">        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();</div><div class=\"line\">        serverSocketChannel.socket().bind(<span class=\"keyword\">new</span> InetSocketAddress((<span class=\"number\">8080</span>)));</div><div class=\"line\">        serverSocketChannel.configureBlocking(<span class=\"keyword\">false</span>);</div><div class=\"line\"></div><div class=\"line\">        Selector selector = Selector.open();</div><div class=\"line\"></div><div class=\"line\">        <span class=\"comment\">// It must be ACCEPT, or it will throw exception</span></div><div class=\"line\">        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"keyword\">true</span>)&#123;</div><div class=\"line\">            <span class=\"keyword\">if</span> (selector.select(<span class=\"number\">3000</span>) == <span class=\"number\">0</span>)&#123;</div><div class=\"line\">                <span class=\"keyword\">continue</span>;</div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            Iterator&lt;SelectionKey&gt; keyIter = selector.selectedKeys().iterator();</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">while</span> (keyIter.hasNext())&#123;</div><div class=\"line\">                SelectionKey key = keyIter.next();</div><div class=\"line\">                <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> HttpHandler(key)).run();</div><div class=\"line\">                keyIter.remove();</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>NioSocketserverSocketChannelregisterselectorOP_ACCEPT</p>\n<p>serverSocketChannel.configureBlocking(false)ServerkeyHttpHandlerkeyremoveHttpServerHttpHandler</p>\n<p>NioSocketNew IOHttpHandler</p>\n<h3 id=\"HttpHandler\"><a href=\"#HttpHandler\" class=\"headerlink\" title=\"HttpHandler\"></a>HttpHandler</h3><p>HttpServerHttpHandlerHttpHandlerBufferHttpHandler</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpHandler</span> <span class=\"keyword\">implements</span> <span class=\"title\">Runnable</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> bufferSize = <span class=\"number\">1024</span>;</div><div class=\"line\">    <span class=\"keyword\">private</span> String localCharset = <span class=\"string\">\"UTF-8\"</span>;</div><div class=\"line\">    <span class=\"keyword\">private</span> SelectionKey key;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HttpHandler</span><span class=\"params\">(SelectionKey key)</span></span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.key = key;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">handleAccept</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span>&#123;&#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">handleRead</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span>&#123;&#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">try</span> &#123;</div><div class=\"line\">            <span class=\"keyword\">if</span>(key.isAcceptable())&#123;</div><div class=\"line\">                handleAccept();</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">if</span>(key.isReadable())&#123;</div><div class=\"line\">                handleRead();</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;<span class=\"keyword\">catch</span> (IOException ex)&#123;</div><div class=\"line\">            ex.printStackTrace();</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>runhandleAccepthandleReadbufferSizeBufferlocalCharset</p>\n<p>HttpServerOP_ACCEPTHttpHandlerisAcceptable()handleRead()handleAccept()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">handleAccept</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span>&#123;</div><div class=\"line\">       SocketChannel clientChannel =</div><div class=\"line\">       \t\t((ServerSocketChannel)key.channel()).accept();</div><div class=\"line\">       clientChannel.configureBlocking(<span class=\"keyword\">false</span>);</div><div class=\"line\">       clientChannel.register(</div><div class=\"line\">       \t\tkey.selector(), SelectionKey.OP_READ, ByteBuffer.allocate(bufferSize)</div><div class=\"line\">       \t);</div><div class=\"line\">   &#125;</div></pre></td></tr></table></figure>\n<p>handleAcceptkeySocketChannel SocketChannelServerSocketChannelSocketChannelOP_READBufferkeyisReadable()handleReadkey</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">handleRead</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span>&#123;</div><div class=\"line\">       SocketChannel sc = (SocketChannel)key.channel();</div><div class=\"line\">       ByteBuffer buffer = (ByteBuffer)key.attachment();</div><div class=\"line\">       buffer.clear();</div><div class=\"line\"></div><div class=\"line\">       <span class=\"keyword\">if</span> (sc.read(buffer) == -<span class=\"number\">1</span>)&#123;</div><div class=\"line\">           sc.close();</div><div class=\"line\">       &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">           buffer.flip();</div><div class=\"line\">           String receiveString = Charset.forName(localCharset).newDecoder().decode(buffer).toString();</div><div class=\"line\"></div><div class=\"line\">           String[] requestMessage = receiveString.split(<span class=\"string\">\"\\r\\n\"</span>);</div><div class=\"line\">           <span class=\"keyword\">for</span> (String s: requestMessage)&#123;</div><div class=\"line\">               System.out.println(s);</div><div class=\"line\">               <span class=\"keyword\">if</span> (s.isEmpty())&#123;</div><div class=\"line\">                   <span class=\"keyword\">break</span>;</div><div class=\"line\">               &#125;</div><div class=\"line\">           &#125;</div><div class=\"line\"></div><div class=\"line\">           String[] firstLine = requestMessage[<span class=\"number\">0</span>].split(<span class=\"string\">\" \"</span>);</div><div class=\"line\">           System.out.println();</div><div class=\"line\">           System.out.println(<span class=\"string\">\"Method:\\t\"</span>+ firstLine[<span class=\"number\">0</span>]);</div><div class=\"line\">           System.out.println(<span class=\"string\">\"url:\\t\"</span>+firstLine[<span class=\"number\">1</span>]);</div><div class=\"line\">           System.out.println(<span class=\"string\">\"HTTP Version:\\t\"</span> + firstLine[<span class=\"number\">2</span>]);</div><div class=\"line\">           System.out.println();</div><div class=\"line\"></div><div class=\"line\">           StringBuilder sendString = <span class=\"keyword\">new</span> StringBuilder();</div><div class=\"line\">           sendString.append(<span class=\"string\">\"HTTP/1.1 200 OK\\r\\n\"</span>);</div><div class=\"line\">           sendString.append(<span class=\"string\">\"Content-Type:text/html;Charset=\"</span>+localCharset+<span class=\"string\">\"\\r\\n\"</span>);</div><div class=\"line\">           sendString.append(<span class=\"string\">\"\\r\\n\"</span>);</div><div class=\"line\">           sendString.append(<span class=\"string\">\"&lt;html&gt;&lt;head&gt;&lt;title&gt;SHOW&lt;/title&gt;&lt;/head&gt;&lt;/body&gt;\"</span>);</div><div class=\"line\">           sendString.append(<span class=\"string\">\"Received:&lt;br/&gt;\"</span>);</div><div class=\"line\"></div><div class=\"line\">           <span class=\"keyword\">for</span> (String s : requestMessage)&#123;</div><div class=\"line\">               sendString.append(s + <span class=\"string\">\"&lt;br/&gt;\"</span>);</div><div class=\"line\">           &#125;</div><div class=\"line\">           sendString.append(<span class=\"string\">\"&lt;/body&gt;&lt;/html&gt;\"</span>);</div><div class=\"line\">           buffer = ByteBuffer.wrap(sendString.toString().getBytes(localCharset));</div><div class=\"line\">           sc.write(buffer);</div><div class=\"line\">           sc.close();</div><div class=\"line\">       &#125;</div><div class=\"line\">   &#125;</div></pre></td></tr></table></figure>\n<p>handleReadSocketChannelByteBufferSocketChannelByteBuffer</p>\n<p>HTTP</p>\n<p><br><img src=\"http://source.jianyujianyu.com/2017-01-15-14844539625326.jpg\" alt=\"\"><br><img src=\"http://source.jianyujianyu.com/2017-01-15-14844539849717.jpg\" alt=\"\"></p>\n<p><a href=\"https://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"NioSocket\"><a href=\"#NioSocket\" class=\"headerlink\" title=\"NioSocket\"></a>NioSocket</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>NioSocketBufferChannelSelector</p>\n<ul>\n<li>Buffer</li>\n<li>Channel</li>\n<li>Selector</li>\n</ul>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>NioSocket</p>\n<ol>\n<li>ServerSocketChannelconfigureBlockingfalseregisterSelectorSelector</li>\n<li>Selectorselect()0</li>\n<li>SelectorselectedKeysSelectedKey</li>\n<li>SelectedKeyChannelSelectorSelectedKey.OP_ACCEPTSelectedKey.OP_CONNECTSelectedKey.OP_READSelectedKey.OP_WRITE</li>\n<li>SelectedKeyisAcceptableisConnectableisReadableisWritable</li>\n<li>HandlerSelectedKeyChannelBuffer</li>\n</ol>\n<h2 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h2><h3 id=\"HttpServer\"><a href=\"#HttpServer\" class=\"headerlink\" title=\"HttpServer\"></a>HttpServer</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpServer</span> </span>&#123;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception</span>&#123;</div><div class=\"line\">        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();</div><div class=\"line\">        serverSocketChannel.socket().bind(<span class=\"keyword\">new</span> InetSocketAddress((<span class=\"number\">8080</span>)));</div><div class=\"line\">        serverSocketChannel.configureBlocking(<span class=\"keyword\">false</span>);</div><div class=\"line\"></div><div class=\"line\">        Selector selector = Selector.open();</div><div class=\"line\"></div><div class=\"line\">        <span class=\"comment\">// It must be ACCEPT, or it will throw exception</span></div><div class=\"line\">        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"keyword\">true</span>)&#123;</div><div class=\"line\">            <span class=\"keyword\">if</span> (selector.select(<span class=\"number\">3000</span>) == <span class=\"number\">0</span>)&#123;</div><div class=\"line\">                <span class=\"keyword\">continue</span>;</div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            Iterator&lt;SelectionKey&gt; keyIter = selector.selectedKeys().iterator();</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">while</span> (keyIter.hasNext())&#123;</div><div class=\"line\">                SelectionKey key = keyIter.next();</div><div class=\"line\">                <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> HttpHandler(key)).run();</div><div class=\"line\">                keyIter.remove();</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>NioSocketserverSocketChannelregisterselectorOP_ACCEPT</p>\n<p>serverSocketChannel.configureBlocking(false)ServerkeyHttpHandlerkeyremoveHttpServerHttpHandler</p>\n<p>NioSocketNew IOHttpHandler</p>\n<h3 id=\"HttpHandler\"><a href=\"#HttpHandler\" class=\"headerlink\" title=\"HttpHandler\"></a>HttpHandler</h3><p>HttpServerHttpHandlerHttpHandlerBufferHttpHandler</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpHandler</span> <span class=\"keyword\">implements</span> <span class=\"title\">Runnable</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> bufferSize = <span class=\"number\">1024</span>;</div><div class=\"line\">    <span class=\"keyword\">private</span> String localCharset = <span class=\"string\">\"UTF-8\"</span>;</div><div class=\"line\">    <span class=\"keyword\">private</span> SelectionKey key;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HttpHandler</span><span class=\"params\">(SelectionKey key)</span></span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.key = key;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">handleAccept</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span>&#123;&#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">handleRead</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span>&#123;&#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">try</span> &#123;</div><div class=\"line\">            <span class=\"keyword\">if</span>(key.isAcceptable())&#123;</div><div class=\"line\">                handleAccept();</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">if</span>(key.isReadable())&#123;</div><div class=\"line\">                handleRead();</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;<span class=\"keyword\">catch</span> (IOException ex)&#123;</div><div class=\"line\">            ex.printStackTrace();</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>runhandleAccepthandleReadbufferSizeBufferlocalCharset</p>\n<p>HttpServerOP_ACCEPTHttpHandlerisAcceptable()handleRead()handleAccept()</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">handleAccept</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span>&#123;</div><div class=\"line\">       SocketChannel clientChannel =</div><div class=\"line\">       \t\t((ServerSocketChannel)key.channel()).accept();</div><div class=\"line\">       clientChannel.configureBlocking(<span class=\"keyword\">false</span>);</div><div class=\"line\">       clientChannel.register(</div><div class=\"line\">       \t\tkey.selector(), SelectionKey.OP_READ, ByteBuffer.allocate(bufferSize)</div><div class=\"line\">       \t);</div><div class=\"line\">   &#125;</div></pre></td></tr></table></figure>\n<p>handleAcceptkeySocketChannel SocketChannelServerSocketChannelSocketChannelOP_READBufferkeyisReadable()handleReadkey</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">handleRead</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span>&#123;</div><div class=\"line\">       SocketChannel sc = (SocketChannel)key.channel();</div><div class=\"line\">       ByteBuffer buffer = (ByteBuffer)key.attachment();</div><div class=\"line\">       buffer.clear();</div><div class=\"line\"></div><div class=\"line\">       <span class=\"keyword\">if</span> (sc.read(buffer) == -<span class=\"number\">1</span>)&#123;</div><div class=\"line\">           sc.close();</div><div class=\"line\">       &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">           buffer.flip();</div><div class=\"line\">           String receiveString = Charset.forName(localCharset).newDecoder().decode(buffer).toString();</div><div class=\"line\"></div><div class=\"line\">           String[] requestMessage = receiveString.split(<span class=\"string\">\"\\r\\n\"</span>);</div><div class=\"line\">           <span class=\"keyword\">for</span> (String s: requestMessage)&#123;</div><div class=\"line\">               System.out.println(s);</div><div class=\"line\">               <span class=\"keyword\">if</span> (s.isEmpty())&#123;</div><div class=\"line\">                   <span class=\"keyword\">break</span>;</div><div class=\"line\">               &#125;</div><div class=\"line\">           &#125;</div><div class=\"line\"></div><div class=\"line\">           String[] firstLine = requestMessage[<span class=\"number\">0</span>].split(<span class=\"string\">\" \"</span>);</div><div class=\"line\">           System.out.println();</div><div class=\"line\">           System.out.println(<span class=\"string\">\"Method:\\t\"</span>+ firstLine[<span class=\"number\">0</span>]);</div><div class=\"line\">           System.out.println(<span class=\"string\">\"url:\\t\"</span>+firstLine[<span class=\"number\">1</span>]);</div><div class=\"line\">           System.out.println(<span class=\"string\">\"HTTP Version:\\t\"</span> + firstLine[<span class=\"number\">2</span>]);</div><div class=\"line\">           System.out.println();</div><div class=\"line\"></div><div class=\"line\">           StringBuilder sendString = <span class=\"keyword\">new</span> StringBuilder();</div><div class=\"line\">           sendString.append(<span class=\"string\">\"HTTP/1.1 200 OK\\r\\n\"</span>);</div><div class=\"line\">           sendString.append(<span class=\"string\">\"Content-Type:text/html;Charset=\"</span>+localCharset+<span class=\"string\">\"\\r\\n\"</span>);</div><div class=\"line\">           sendString.append(<span class=\"string\">\"\\r\\n\"</span>);</div><div class=\"line\">           sendString.append(<span class=\"string\">\"&lt;html&gt;&lt;head&gt;&lt;title&gt;SHOW&lt;/title&gt;&lt;/head&gt;&lt;/body&gt;\"</span>);</div><div class=\"line\">           sendString.append(<span class=\"string\">\"Received:&lt;br/&gt;\"</span>);</div><div class=\"line\"></div><div class=\"line\">           <span class=\"keyword\">for</span> (String s : requestMessage)&#123;</div><div class=\"line\">               sendString.append(s + <span class=\"string\">\"&lt;br/&gt;\"</span>);</div><div class=\"line\">           &#125;</div><div class=\"line\">           sendString.append(<span class=\"string\">\"&lt;/body&gt;&lt;/html&gt;\"</span>);</div><div class=\"line\">           buffer = ByteBuffer.wrap(sendString.toString().getBytes(localCharset));</div><div class=\"line\">           sc.write(buffer);</div><div class=\"line\">           sc.close();</div><div class=\"line\">       &#125;</div><div class=\"line\">   &#125;</div></pre></td></tr></table></figure>\n<p>handleReadSocketChannelByteBufferSocketChannelByteBuffer</p>\n<p>HTTP</p>\n<p><br><img src=\"http://source.jianyujianyu.com/2017-01-15-14844539625326.jpg\" alt=\"\"><br><img src=\"http://source.jianyujianyu.com/2017-01-15-14844539849717.jpg\" alt=\"\"></p>\n<p><a href=\"https://www.jianyujianyu.com\"></a></p>"},{"title":"SVM | ","date":"2016-05-14T01:00:14.000Z","_content":"\n**SVM**\n\n## SVM\n\nSVMSVM[](https://www.zhihu.com/question/22290096)\n\nAlphaGo  SVMHintonSVM\n\nSVMSVMSVM  \n\n<!-- more -->\n\n## SVM\n\nSVMSVRSupport Vector RegressionSVMSVRSVM\n\n![](http://source.jianyujianyu.com/2016-05-14-14632059577714.jpg)\n\n\n**SVMw**\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632106164393.jpg)\nSVM\n\nSVMconvex quadratic programming\n\n## \n\nSVM\n\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632121860594.png)\nn  x \n![](http://source.jianyujianyu.com/2016-05-14-14632122006481.png)\n\n\ncn Qn  n Am  n bm \n\nKKTKarush-Kuhn-Tucker\n\n## KKT\n\nKKTKKTKKT\n\n\n`L(a, b, x)= f(x) + a*g(x)+b*h(x)`\n\nKKT\n- L(a, b, x)x\n- h(x) = 0\n- a*g(x) = 0\n\n## \n\n[](https://www.zhihu.com/question/26658861/answer/53394624)\n\n\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632134952575.jpg)\n\n\nSVMSMO\n\n## SMO\n\nSMOSequential Minimal OptimizationSVMSMO\n\nSVM\n![](http://source.jianyujianyu.com/2016-05-14-14632140318075.jpg)\nSMOaiajaiajaiaj\n\nSMO  SMO\n\n## \n\nSVM\n![](http://source.jianyujianyu.com/2016-05-14-14632144374512.jpg)\n\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632143758259.jpg)\n~\n\n****[](https://www.youtube.com/watch?v=3liCbRZPrZA)youtube\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632147909478.jpg)\n\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632148908664.jpg)\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632149178576.jpg)\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632149709432.jpg)\n\n![](http://source.jianyujianyu.com/2016-05-14-14632149780244.jpg)\n\n\n\nsigmoid\n\n## \n\nSVM\n![](http://source.jianyujianyu.com/2016-05-14-14632153433430.jpg)\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632157241594.jpg)\n\n  \n\n![](http://source.jianyujianyu.com/2016-05-14-14632160235765.jpg)\n\nhinge\n\n\n\n\n\n\n[](http://www.jianyujianyu.com)\n\n\n","source":"_posts/learing-svm.md","raw":"title: SVM | \ncategories: \ntags: []\ndate: 2016-05-14 09:00:14\n---\n\n**SVM**\n\n## SVM\n\nSVMSVM[](https://www.zhihu.com/question/22290096)\n\nAlphaGo  SVMHintonSVM\n\nSVMSVMSVM  \n\n<!-- more -->\n\n## SVM\n\nSVMSVRSupport Vector RegressionSVMSVRSVM\n\n![](http://source.jianyujianyu.com/2016-05-14-14632059577714.jpg)\n\n\n**SVMw**\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632106164393.jpg)\nSVM\n\nSVMconvex quadratic programming\n\n## \n\nSVM\n\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632121860594.png)\nn  x \n![](http://source.jianyujianyu.com/2016-05-14-14632122006481.png)\n\n\ncn Qn  n Am  n bm \n\nKKTKarush-Kuhn-Tucker\n\n## KKT\n\nKKTKKTKKT\n\n\n`L(a, b, x)= f(x) + a*g(x)+b*h(x)`\n\nKKT\n- L(a, b, x)x\n- h(x) = 0\n- a*g(x) = 0\n\n## \n\n[](https://www.zhihu.com/question/26658861/answer/53394624)\n\n\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632134952575.jpg)\n\n\nSVMSMO\n\n## SMO\n\nSMOSequential Minimal OptimizationSVMSMO\n\nSVM\n![](http://source.jianyujianyu.com/2016-05-14-14632140318075.jpg)\nSMOaiajaiajaiaj\n\nSMO  SMO\n\n## \n\nSVM\n![](http://source.jianyujianyu.com/2016-05-14-14632144374512.jpg)\n\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632143758259.jpg)\n~\n\n****[](https://www.youtube.com/watch?v=3liCbRZPrZA)youtube\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632147909478.jpg)\n\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632148908664.jpg)\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632149178576.jpg)\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632149709432.jpg)\n\n![](http://source.jianyujianyu.com/2016-05-14-14632149780244.jpg)\n\n\n\nsigmoid\n\n## \n\nSVM\n![](http://source.jianyujianyu.com/2016-05-14-14632153433430.jpg)\n\n\n![](http://source.jianyujianyu.com/2016-05-14-14632157241594.jpg)\n\n  \n\n![](http://source.jianyujianyu.com/2016-05-14-14632160235765.jpg)\n\nhinge\n\n\n\n\n\n\n[](http://www.jianyujianyu.com)\n\n\n","slug":"learing-svm","published":1,"updated":"2017-04-23T13:42:49.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtrf0006uoevovenrbk0","content":"<p><strong>SVM</strong></p>\n<h2 id=\"SVM\"><a href=\"#SVM\" class=\"headerlink\" title=\"SVM\"></a>SVM</h2><p>SVMSVM<a href=\"https://www.zhihu.com/question/22290096\" target=\"_blank\" rel=\"external\"></a></p>\n<p>AlphaGo  SVMHintonSVM</p>\n<p>SVMSVMSVM  </p>\n<a id=\"more\"></a>\n<h2 id=\"SVM\"><a href=\"#SVM\" class=\"headerlink\" title=\"SVM\"></a>SVM</h2><p>SVMSVRSupport Vector RegressionSVMSVRSVM</p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632059577714.jpg\" alt=\"\"><br></p>\n<p><strong>SVMw</strong></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632106164393.jpg\" alt=\"\"><br>SVM</p>\n<p>SVMconvex quadratic programming</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SVM</p>\n<p><br><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632121860594.png\" alt=\"\"><br>n  x <br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632122006481.png\" alt=\"\"><br></p>\n<p>cn Qn  n Am  n bm </p>\n<p>KKTKarush-Kuhn-Tucker</p>\n<h2 id=\"KKT\"><a href=\"#KKT\" class=\"headerlink\" title=\"KKT\"></a>KKT</h2><p>KKTKKTKKT</p>\n<p><br><code>L(a, b, x)= f(x) + a*g(x)+b*h(x)</code><br><br>KKT</p>\n<ul>\n<li>L(a, b, x)x</li>\n<li>h(x) = 0</li>\n<li>a*g(x) = 0</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://www.zhihu.com/question/26658861/answer/53394624\" target=\"_blank\" rel=\"external\"></a></p>\n<p><br></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632134952575.jpg\" alt=\"\"><br></p>\n<p>SVMSMO</p>\n<h2 id=\"SMO\"><a href=\"#SMO\" class=\"headerlink\" title=\"SMO\"></a>SMO</h2><p>SMOSequential Minimal OptimizationSVMSMO</p>\n<p>SVM<br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632140318075.jpg\" alt=\"\"><br>SMOaiajaiajaiaj</p>\n<p>SMO  SMO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SVM<br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632144374512.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632143758259.jpg\" alt=\"\"><br>~</p>\n<p><strong></strong><a href=\"https://www.youtube.com/watch?v=3liCbRZPrZA\" target=\"_blank\" rel=\"external\"></a>youtube</p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632147909478.jpg\" alt=\"\"></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632148908664.jpg\" alt=\"\"></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632149178576.jpg\" alt=\"\"></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632149709432.jpg\" alt=\"\"></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632149780244.jpg\" alt=\"\"></p>\n<p></p>\n<p>sigmoid</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SVM<br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632153433430.jpg\" alt=\"\"></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632157241594.jpg\" alt=\"\"></p>\n<p>  </p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632160235765.jpg\" alt=\"\"></p>\n<p>hinge</p>\n<p></p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<p><strong>SVM</strong></p>\n<h2 id=\"SVM\"><a href=\"#SVM\" class=\"headerlink\" title=\"SVM\"></a>SVM</h2><p>SVMSVM<a href=\"https://www.zhihu.com/question/22290096\"></a></p>\n<p>AlphaGo  SVMHintonSVM</p>\n<p>SVMSVMSVM  </p>","more":"<h2 id=\"SVM\"><a href=\"#SVM\" class=\"headerlink\" title=\"SVM\"></a>SVM</h2><p>SVMSVRSupport Vector RegressionSVMSVRSVM</p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632059577714.jpg\" alt=\"\"><br></p>\n<p><strong>SVMw</strong></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632106164393.jpg\" alt=\"\"><br>SVM</p>\n<p>SVMconvex quadratic programming</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SVM</p>\n<p><br><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632121860594.png\" alt=\"\"><br>n  x <br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632122006481.png\" alt=\"\"><br></p>\n<p>cn Qn  n Am  n bm </p>\n<p>KKTKarush-Kuhn-Tucker</p>\n<h2 id=\"KKT\"><a href=\"#KKT\" class=\"headerlink\" title=\"KKT\"></a>KKT</h2><p>KKTKKTKKT</p>\n<p><br><code>L(a, b, x)= f(x) + a*g(x)+b*h(x)</code><br><br>KKT</p>\n<ul>\n<li>L(a, b, x)x</li>\n<li>h(x) = 0</li>\n<li>a*g(x) = 0</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://www.zhihu.com/question/26658861/answer/53394624\"></a></p>\n<p><br></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632134952575.jpg\" alt=\"\"><br></p>\n<p>SVMSMO</p>\n<h2 id=\"SMO\"><a href=\"#SMO\" class=\"headerlink\" title=\"SMO\"></a>SMO</h2><p>SMOSequential Minimal OptimizationSVMSMO</p>\n<p>SVM<br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632140318075.jpg\" alt=\"\"><br>SMOaiajaiajaiaj</p>\n<p>SMO  SMO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SVM<br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632144374512.jpg\" alt=\"\"></p>\n<p></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632143758259.jpg\" alt=\"\"><br>~</p>\n<p><strong></strong><a href=\"https://www.youtube.com/watch?v=3liCbRZPrZA\"></a>youtube</p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632147909478.jpg\" alt=\"\"></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632148908664.jpg\" alt=\"\"></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632149178576.jpg\" alt=\"\"></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632149709432.jpg\" alt=\"\"></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632149780244.jpg\" alt=\"\"></p>\n<p></p>\n<p>sigmoid</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SVM<br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632153433430.jpg\" alt=\"\"></p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-14-14632157241594.jpg\" alt=\"\"></p>\n<p>  </p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-14-14632160235765.jpg\" alt=\"\"></p>\n<p>hinge</p>\n<p></p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>"},{"title":"NLP","date":"2016-06-01T07:55:04.000Z","_content":"\n\n**\n\n## \n\nNLP\n\n----\n\n  ----\n\n<!-- more -->\n\n## \n\nFafaFafa  0.5\n\nDeep Learning2013.06\n\n## \n\ntaXX  \n\n\n\n## \n\nNLPBTWNP\n\n## \n\n  \n\n\n\n\n## NLP\n\n![](http://source.jianyujianyu.com/2016-06-02-14647820410821.jpg)\n![](http://source.jianyujianyu.com/2016-06-02-14647820553120.jpg)\n\n\nPhonologyMorphologySyntaxSemanticsReasoning\n\n\n\n[](http://www.jianyujianyu.com)\n\n\n\n","source":"_posts/talking-about-nlp-problems.md","raw":"title: NLP\ncategories: \ntags: [NLP,AI]\ndate: 2016-06-01 15:55:04\n---\n\n\n**\n\n## \n\nNLP\n\n----\n\n  ----\n\n<!-- more -->\n\n## \n\nFafaFafa  0.5\n\nDeep Learning2013.06\n\n## \n\ntaXX  \n\n\n\n## \n\nNLPBTWNP\n\n## \n\n  \n\n\n\n\n## NLP\n\n![](http://source.jianyujianyu.com/2016-06-02-14647820410821.jpg)\n![](http://source.jianyujianyu.com/2016-06-02-14647820553120.jpg)\n\n\nPhonologyMorphologySyntaxSemanticsReasoning\n\n\n\n[](http://www.jianyujianyu.com)\n\n\n\n","slug":"talking-about-nlp-problems","published":1,"updated":"2017-04-23T13:43:00.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtrg0007uoevcvpl4lv8","content":"<p><em></em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>NLP</p>\n<p>----</p>\n<p>  ----</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FafaFafa  0.5</p>\n<p>Deep Learning2013.06</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>taXX  </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>NLPBTWNP</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<p></p>\n<h2 id=\"NLP\"><a href=\"#NLP\" class=\"headerlink\" title=\"NLP\"></a>NLP</h2><p><img src=\"http://source.jianyujianyu.com/2016-06-02-14647820410821.jpg\" alt=\"\"><br><img src=\"http://source.jianyujianyu.com/2016-06-02-14647820553120.jpg\" alt=\"\"></p>\n<p>PhonologyMorphologySyntaxSemanticsReasoning</p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<p><em></em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>NLP</p>\n<p>----</p>\n<p>  ----</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FafaFafa  0.5</p>\n<p>Deep Learning2013.06</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>taXX  </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>NLPBTWNP</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<p></p>\n<h2 id=\"NLP\"><a href=\"#NLP\" class=\"headerlink\" title=\"NLP\"></a>NLP</h2><p><img src=\"http://source.jianyujianyu.com/2016-06-02-14647820410821.jpg\" alt=\"\"><br><img src=\"http://source.jianyujianyu.com/2016-06-02-14647820553120.jpg\" alt=\"\"></p>\n<p>PhonologyMorphologySyntaxSemanticsReasoning</p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>"},{"title":"CNN","date":"2016-09-02T06:00:01.000Z","_content":"\n\n*CNN*\n\n## CNN\n\nCNNCNN\n\n<!-- more -->\n\n### \n\n\n\n![](http://source.jianyujianyu.com/2016-09-02-14728207615074.jpg)\n\n![](http://source.jianyujianyu.com/2016-09-02-14728208045910.jpg)\n\nCNN\n\n## \n\n\n\n![](http://source.jianyujianyu.com/2016-09-02-14728212916756.gif)\n\n### \n\n#### \n  \n\n#### \n\n\n#### \n\n\n#### Down-Pooling\nPooling\n\n#### \n\n\n## \n\n\n\n![](http://source.jianyujianyu.com/2016-09-02-14728222809788.gif)\n\n10 * 101 * 1\n\n## \n\n01tanh-1+1SigmoidtanhReLUSigmoidtanhReLU\n\n![](http://source.jianyujianyu.com/2016-09-02-14728233650926.jpg)\n\n![](http://source.jianyujianyu.com/2016-09-02-14728233755870.jpg)\n\n0101010.4444%\n\n  LRN\n\n## LRN\n\nLRNlateral inhibitionLRNLRN  \n\nReLULRNLRN\n\n## IP\n\n![BPd](http://source.jianyujianyu.com/2016-09-02-14728250710656.png)\n\nCNNIPInner Product//fcfull connect/CNNsoftmaxCNNIP\n\n## Dropout\n\nDropout  Dropout\n\n\n[](http://www.jianyujianyu.com)\n\n\n","source":"_posts/thinking-about-cnn.md","raw":"title: CNN\ncategories: \ntags: [CNN,]\ndate: 2016-09-02 14:00:01\n---\n\n\n*CNN*\n\n## CNN\n\nCNNCNN\n\n<!-- more -->\n\n### \n\n\n\n![](http://source.jianyujianyu.com/2016-09-02-14728207615074.jpg)\n\n![](http://source.jianyujianyu.com/2016-09-02-14728208045910.jpg)\n\nCNN\n\n## \n\n\n\n![](http://source.jianyujianyu.com/2016-09-02-14728212916756.gif)\n\n### \n\n#### \n  \n\n#### \n\n\n#### \n\n\n#### Down-Pooling\nPooling\n\n#### \n\n\n## \n\n\n\n![](http://source.jianyujianyu.com/2016-09-02-14728222809788.gif)\n\n10 * 101 * 1\n\n## \n\n01tanh-1+1SigmoidtanhReLUSigmoidtanhReLU\n\n![](http://source.jianyujianyu.com/2016-09-02-14728233650926.jpg)\n\n![](http://source.jianyujianyu.com/2016-09-02-14728233755870.jpg)\n\n0101010.4444%\n\n  LRN\n\n## LRN\n\nLRNlateral inhibitionLRNLRN  \n\nReLULRNLRN\n\n## IP\n\n![BPd](http://source.jianyujianyu.com/2016-09-02-14728250710656.png)\n\nCNNIPInner Product//fcfull connect/CNNsoftmaxCNNIP\n\n## Dropout\n\nDropout  Dropout\n\n\n[](http://www.jianyujianyu.com)\n\n\n","slug":"thinking-about-cnn","published":1,"updated":"2017-04-23T13:43:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtri0008uoevhuw4s33z","content":"<p><em>CNN</em></p>\n<h2 id=\"CNN\"><a href=\"#CNN\" class=\"headerlink\" title=\"CNN\"></a>CNN</h2><p>CNNCNN</p>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728207615074.jpg\" alt=\"\"></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728208045910.jpg\" alt=\"\"></p>\n<p>CNN</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728212916756.gif\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"Down-Pooling\"><a href=\"#Down-Pooling\" class=\"headerlink\" title=\"Down-Pooling\"></a>Down-Pooling</h4><p>Pooling</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728222809788.gif\" alt=\"\"></p>\n<p>10 <em> 101 </em> 1</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>01tanh-1+1SigmoidtanhReLUSigmoidtanhReLU</p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728233650926.jpg\" alt=\"\"></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728233755870.jpg\" alt=\"\"></p>\n<p>0101010.4444%</p>\n<p>  LRN</p>\n<h2 id=\"LRN\"><a href=\"#LRN\" class=\"headerlink\" title=\"LRN\"></a>LRN</h2><p>LRNlateral inhibitionLRNLRN  </p>\n<p>ReLULRNLRN</p>\n<h2 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h2><p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728250710656.png\" alt=\"BPd\"></p>\n<p>CNNIPInner Product//fcfull connect/CNNsoftmaxCNNIP</p>\n<h2 id=\"Dropout\"><a href=\"#Dropout\" class=\"headerlink\" title=\"Dropout\"></a>Dropout</h2><p>Dropout  Dropout</p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<p><em>CNN</em></p>\n<h2 id=\"CNN\"><a href=\"#CNN\" class=\"headerlink\" title=\"CNN\"></a>CNN</h2><p>CNNCNN</p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728207615074.jpg\" alt=\"\"></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728208045910.jpg\" alt=\"\"></p>\n<p>CNN</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728212916756.gif\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"Down-Pooling\"><a href=\"#Down-Pooling\" class=\"headerlink\" title=\"Down-Pooling\"></a>Down-Pooling</h4><p>Pooling</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728222809788.gif\" alt=\"\"></p>\n<p>10 <em> 101 </em> 1</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>01tanh-1+1SigmoidtanhReLUSigmoidtanhReLU</p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728233650926.jpg\" alt=\"\"></p>\n<p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728233755870.jpg\" alt=\"\"></p>\n<p>0101010.4444%</p>\n<p>  LRN</p>\n<h2 id=\"LRN\"><a href=\"#LRN\" class=\"headerlink\" title=\"LRN\"></a>LRN</h2><p>LRNlateral inhibitionLRNLRN  </p>\n<p>ReLULRNLRN</p>\n<h2 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h2><p><img src=\"http://source.jianyujianyu.com/2016-09-02-14728250710656.png\" alt=\"BPd\"></p>\n<p>CNNIPInner Product//fcfull connect/CNNsoftmaxCNNIP</p>\n<h2 id=\"Dropout\"><a href=\"#Dropout\" class=\"headerlink\" title=\"Dropout\"></a>Dropout</h2><p>Dropout  Dropout</p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>"},{"title":"ubuntu14.04 + cuda8 + caffe + cudnn5.0 (GTX1080 + GTX750Ti)","date":"2017-03-09T19:15:59.000Z","_content":"\n\n**\n\n## \nlinuxUbuntu 14.04.5 64\nGTX1080 + GTX750Ti\ncuda: cuda_8.0.27_linux.run https://developer.nvidia.com/cuda-toolkit\nNVIDIA-Linux-x86_64-367.27.run http://www.geforce.cn/drivers/results/104314\ncudnncudnn-5.1 ( for CUDA 8 rc) https://developer.nvidia.com/cudnn\nBLASBLASintelMKL parallel_studio_xe_2016Atlas\n\nrootsudo\n\n## ubuntu\n****\nubuntu14.04GTX1080GTX1080GTX750TiPCI\nGTX750Tiubuntu\n\n<!-- more -->\n\n## nouveau\nCtrl+Alt+F1,\n\n`vim /etc/modprobe.d/blacklist-nouveau.conf`\n\n\n\n`blacklist nouveau options nouveau modset=0`\n\n:wq)\n\n\n`update-initramfs -u`\n\n `lspci | grep nouveau`\n \n`reboot`\nCtrl+Alt+F1\n\n## CUDANVIDIA\nCUDANVIDIA\n\n`chmod 755 NVIDIA-Linux-x86_64-367.27.run  // `\n`./NVIDIA-Linux-x86_64-367.27.run  //  `\n\nnvidia-smi\n\n`chmod 755 cuda_8.0.27_linux.run  `\n`./cuda_8.0.27_linux.run  `\n\nPS8.0.27\nCUDA8NVIDIACUDA\nno\n\n\n```\nDo you accept the previously read EULA?\naccept/decline/quit: accept\n\nInstall NVIDIA Accelerated Graphics Driver for Linux-x86_64 361.62?\n(y)es/(n)o/(q)uit: n\n\nInstall the CUDA 8.0 Toolkit?\n(y)es/(n)o/(q)uit: y\n\nEnter Toolkit Location\n[ default is /usr/local/cuda-8.0 ]:\n\nDo you want to install a symbolic link at /usr/local/cuda?\n(y)es/(n)o/(q)uit: y\n\nInstall the CUDA 8.0 Samples?\n(y)es/(n)o/(q)uit: y\n\nEnter CUDA Samples Location\n[ default is /home/zhou ]:\n\nInstalling the CUDA Toolkit in /usr/local/cuda-8.0 \nMissing recommended library: libGLU.so\nMissing recommended library: libX11.so\nMissing recommended library: libXi.so\nMissing recommended library: libXmu.so\n\nInstalling the CUDA Samples in /root \nCopying samples to /root/NVIDIA_CUDA-8.0_Samples now\nFinished copying samples.\n.\n.\n.\n```\n\n\nerror while loading shared libraries: xxx.so.x\" \n\n`vim /etc/profile  `\n\n\n```\nexport PATH=/usr/local/cuda/bin:$PATH\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\n```\n\n`vim /etc/ld.so.conf.d/cuda.conf`\n\n`/usr/local/cuda/lib64`\n\n`ldconfig  `\n\n## make CUDA\n\n\n```\napt-get install freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev  libglu1-mesa libglu1-mesa-dev libgl1-mesa-glx\ncd /usr/local/cuda/samples\nmake all -j8\n```\n\nmakecuda\n\n`cd ./bin/x86_64/linux/release`\n`./deviceQuery `    \n\n![](https://oda3wj69k.qnssl.com/Cache_3fb1040ea54e9bed..jpg)\n\n## CUDNN5.0\n\nCUDNNcuda\n\n```\ncd cuda\nsudo cp lib64/lib* /usr/local/cuda/lib64/\nsudo cp include/cudnn.h /usr/local/cuda/include/\ncd /usr/local/cuda/lib64/\nsudo chmod +r libcudnn.so.5.0.5\nsudo ln -sf libcudnn.so.5.0.5 libcudnn.so.5\nsudo ln -sf libcudnn.so.5 libcudnn.so\nsudo ldconfig\n```\n\n\n## OPENCV\npyenvpython\n\nlibegl\n`apt install libegl1-mesa libegl1-mesa-drivers`\n\nhttps://github.com/jayrambhia/Install-OpenCVopencv\n\n## Caffe\n\n### \n```\napt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler libatlas-base-dev libgflags-dev libgoogle-glog-dev  liblmdb-dev  libboost-all-dev\n```\n\n### mklatlas:\n\n```\napt-get install libatlas-dev libatlas-base-dev\n```\n\n### python:\n\n```\napt-get install python-dev python-pip cython python-numpy python-scipy python-opencv\n```\n\n### githubclone Caffe https://github.com/BVLC/caffe\nMakefile.configCUDNNMKL\n\n```\ngit clone https://github.com/BVLC/caffe\ncd caffe\nmake all -j8\nmake test -j8\nmake runtest -j8\n```\n\nPSj8\n\npycaffepycaffe\n\n`make pycaffe -j8`\n\npythonpip\n\n```\napt-get install python-pip\ncd python\npip install -r requirements.txt\n```\n\ngraphviz\n\n```\napt-get install graphviz graphviz-dev\npip install pydot\npip install pygraphviz\n```\n\npythonpath\n`vim /etc/profile`\n`export PYTHONPATH=/root/caffe/python:$PYTHONPATH  # path to pytho in caffe`\n `source /etc/profile`\n\n\n[](http://www.jianyujianyu.com)\n\n\n\n","source":"_posts/ubuntu14.04-cuda8-caffe-cudnn5.0-GTX1080-GTX750Ti.md","raw":"title: ubuntu14.04 + cuda8 + caffe + cudnn5.0 (GTX1080 + GTX750Ti)\ncategories: caffe\ntags: [caffe]\ndate: 2017-03-10 03:15:59\n---\n\n\n**\n\n## \nlinuxUbuntu 14.04.5 64\nGTX1080 + GTX750Ti\ncuda: cuda_8.0.27_linux.run https://developer.nvidia.com/cuda-toolkit\nNVIDIA-Linux-x86_64-367.27.run http://www.geforce.cn/drivers/results/104314\ncudnncudnn-5.1 ( for CUDA 8 rc) https://developer.nvidia.com/cudnn\nBLASBLASintelMKL parallel_studio_xe_2016Atlas\n\nrootsudo\n\n## ubuntu\n****\nubuntu14.04GTX1080GTX1080GTX750TiPCI\nGTX750Tiubuntu\n\n<!-- more -->\n\n## nouveau\nCtrl+Alt+F1,\n\n`vim /etc/modprobe.d/blacklist-nouveau.conf`\n\n\n\n`blacklist nouveau options nouveau modset=0`\n\n:wq)\n\n\n`update-initramfs -u`\n\n `lspci | grep nouveau`\n \n`reboot`\nCtrl+Alt+F1\n\n## CUDANVIDIA\nCUDANVIDIA\n\n`chmod 755 NVIDIA-Linux-x86_64-367.27.run  // `\n`./NVIDIA-Linux-x86_64-367.27.run  //  `\n\nnvidia-smi\n\n`chmod 755 cuda_8.0.27_linux.run  `\n`./cuda_8.0.27_linux.run  `\n\nPS8.0.27\nCUDA8NVIDIACUDA\nno\n\n\n```\nDo you accept the previously read EULA?\naccept/decline/quit: accept\n\nInstall NVIDIA Accelerated Graphics Driver for Linux-x86_64 361.62?\n(y)es/(n)o/(q)uit: n\n\nInstall the CUDA 8.0 Toolkit?\n(y)es/(n)o/(q)uit: y\n\nEnter Toolkit Location\n[ default is /usr/local/cuda-8.0 ]:\n\nDo you want to install a symbolic link at /usr/local/cuda?\n(y)es/(n)o/(q)uit: y\n\nInstall the CUDA 8.0 Samples?\n(y)es/(n)o/(q)uit: y\n\nEnter CUDA Samples Location\n[ default is /home/zhou ]:\n\nInstalling the CUDA Toolkit in /usr/local/cuda-8.0 \nMissing recommended library: libGLU.so\nMissing recommended library: libX11.so\nMissing recommended library: libXi.so\nMissing recommended library: libXmu.so\n\nInstalling the CUDA Samples in /root \nCopying samples to /root/NVIDIA_CUDA-8.0_Samples now\nFinished copying samples.\n.\n.\n.\n```\n\n\nerror while loading shared libraries: xxx.so.x\" \n\n`vim /etc/profile  `\n\n\n```\nexport PATH=/usr/local/cuda/bin:$PATH\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\n```\n\n`vim /etc/ld.so.conf.d/cuda.conf`\n\n`/usr/local/cuda/lib64`\n\n`ldconfig  `\n\n## make CUDA\n\n\n```\napt-get install freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev  libglu1-mesa libglu1-mesa-dev libgl1-mesa-glx\ncd /usr/local/cuda/samples\nmake all -j8\n```\n\nmakecuda\n\n`cd ./bin/x86_64/linux/release`\n`./deviceQuery `    \n\n![](https://oda3wj69k.qnssl.com/Cache_3fb1040ea54e9bed..jpg)\n\n## CUDNN5.0\n\nCUDNNcuda\n\n```\ncd cuda\nsudo cp lib64/lib* /usr/local/cuda/lib64/\nsudo cp include/cudnn.h /usr/local/cuda/include/\ncd /usr/local/cuda/lib64/\nsudo chmod +r libcudnn.so.5.0.5\nsudo ln -sf libcudnn.so.5.0.5 libcudnn.so.5\nsudo ln -sf libcudnn.so.5 libcudnn.so\nsudo ldconfig\n```\n\n\n## OPENCV\npyenvpython\n\nlibegl\n`apt install libegl1-mesa libegl1-mesa-drivers`\n\nhttps://github.com/jayrambhia/Install-OpenCVopencv\n\n## Caffe\n\n### \n```\napt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler libatlas-base-dev libgflags-dev libgoogle-glog-dev  liblmdb-dev  libboost-all-dev\n```\n\n### mklatlas:\n\n```\napt-get install libatlas-dev libatlas-base-dev\n```\n\n### python:\n\n```\napt-get install python-dev python-pip cython python-numpy python-scipy python-opencv\n```\n\n### githubclone Caffe https://github.com/BVLC/caffe\nMakefile.configCUDNNMKL\n\n```\ngit clone https://github.com/BVLC/caffe\ncd caffe\nmake all -j8\nmake test -j8\nmake runtest -j8\n```\n\nPSj8\n\npycaffepycaffe\n\n`make pycaffe -j8`\n\npythonpip\n\n```\napt-get install python-pip\ncd python\npip install -r requirements.txt\n```\n\ngraphviz\n\n```\napt-get install graphviz graphviz-dev\npip install pydot\npip install pygraphviz\n```\n\npythonpath\n`vim /etc/profile`\n`export PYTHONPATH=/root/caffe/python:$PYTHONPATH  # path to pytho in caffe`\n `source /etc/profile`\n\n\n[](http://www.jianyujianyu.com)\n\n\n\n","slug":"ubuntu14.04-cuda8-caffe-cudnn5.0-GTX1080-GTX750Ti","published":1,"updated":"2017-05-07T03:06:47.000Z","_id":"cj1utjtrm000buoev5963iyb5","comments":1,"layout":"post","photos":[],"link":"","content":"<p><em></em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>linuxUbuntu 14.04.5 64<br>GTX1080 + GTX750Ti<br>cuda: cuda_8.0.27_linux.run <a href=\"https://developer.nvidia.com/cuda-toolkit\" target=\"_blank\" rel=\"external\">https://developer.nvidia.com/cuda-toolkit</a><br>NVIDIA-Linux-x86_64-367.27.run <a href=\"http://www.geforce.cn/drivers/results/104314\" target=\"_blank\" rel=\"external\">http://www.geforce.cn/drivers/results/104314</a><br>cudnncudnn-5.1 ( for CUDA 8 rc) <a href=\"https://developer.nvidia.com/cudnn\" target=\"_blank\" rel=\"external\">https://developer.nvidia.com/cudnn</a><br>BLASBLASintelMKL parallel_studio_xe_2016Atlas</p>\n<p>rootsudo</p>\n<h2 id=\"ubuntu\"><a href=\"#ubuntu\" class=\"headerlink\" title=\"ubuntu\"></a>ubuntu</h2><p><strong></strong><br>ubuntu14.04GTX1080GTX1080GTX750TiPCI<br>GTX750Tiubuntu</p>\n<a id=\"more\"></a>\n<h2 id=\"nouveau\"><a href=\"#nouveau\" class=\"headerlink\" title=\"nouveau\"></a>nouveau</h2><p>Ctrl+Alt+F1,</p>\n<p><code>vim /etc/modprobe.d/blacklist-nouveau.conf</code></p>\n<p></p>\n<p><code>blacklist nouveau options nouveau modset=0</code></p>\n<p>:wq)<br></p>\n<p><code>update-initramfs -u</code></p>\n<p> <code>lspci | grep nouveau</code><br> <br><code>reboot</code><br>Ctrl+Alt+F1</p>\n<h2 id=\"CUDANVIDIA\"><a href=\"#CUDANVIDIA\" class=\"headerlink\" title=\"CUDANVIDIA\"></a>CUDANVIDIA</h2><p>CUDANVIDIA</p>\n<p><code>chmod 755 NVIDIA-Linux-x86_64-367.27.run  //</code><br><code>./NVIDIA-Linux-x86_64-367.27.run  //</code></p>\n<p>nvidia-smi</p>\n<p><code>chmod 755 cuda_8.0.27_linux.run</code><br><code>./cuda_8.0.27_linux.run</code></p>\n<p>PS8.0.27<br>CUDA8NVIDIACUDA<br>no<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">Do you accept the previously read EULA?</div><div class=\"line\">accept/decline/quit: accept</div><div class=\"line\"></div><div class=\"line\">Install NVIDIA Accelerated Graphics Driver for Linux-x86_64 361.62?</div><div class=\"line\">(y)es/(n)o/(q)uit: n</div><div class=\"line\"></div><div class=\"line\">Install the CUDA 8.0 Toolkit?</div><div class=\"line\">(y)es/(n)o/(q)uit: y</div><div class=\"line\"></div><div class=\"line\">Enter Toolkit Location</div><div class=\"line\">[ default is /usr/local/cuda-8.0 ]:</div><div class=\"line\"></div><div class=\"line\">Do you want to install a symbolic link at /usr/local/cuda?</div><div class=\"line\">(y)es/(n)o/(q)uit: y</div><div class=\"line\"></div><div class=\"line\">Install the CUDA 8.0 Samples?</div><div class=\"line\">(y)es/(n)o/(q)uit: y</div><div class=\"line\"></div><div class=\"line\">Enter CUDA Samples Location</div><div class=\"line\">[ default is /home/zhou ]:</div><div class=\"line\"></div><div class=\"line\">Installing the CUDA Toolkit in /usr/local/cuda-8.0 </div><div class=\"line\">Missing recommended library: libGLU.so</div><div class=\"line\">Missing recommended library: libX11.so</div><div class=\"line\">Missing recommended library: libXi.so</div><div class=\"line\">Missing recommended library: libXmu.so</div><div class=\"line\"></div><div class=\"line\">Installing the CUDA Samples in /root </div><div class=\"line\">Copying samples to /root/NVIDIA_CUDA-8.0_Samples now</div><div class=\"line\">Finished copying samples.</div><div class=\"line\">.</div><div class=\"line\">.</div><div class=\"line\">.</div></pre></td></tr></table></figure>\n<p><br>error while loading shared libraries: xxx.so.x </p>\n<p><code>vim /etc/profile</code><br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">export PATH=/usr/local/cuda/bin:$PATH</div><div class=\"line\">export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH</div></pre></td></tr></table></figure>\n<p><code>vim /etc/ld.so.conf.d/cuda.conf</code><br><br><code>/usr/local/cuda/lib64</code></p>\n<p><code>ldconfig</code></p>\n<h2 id=\"make-CUDA\"><a href=\"#make-CUDA\" class=\"headerlink\" title=\"make CUDA\"></a>make CUDA</h2><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev  libglu1-mesa libglu1-mesa-dev libgl1-mesa-glx</div><div class=\"line\">cd /usr/local/cuda/samples</div><div class=\"line\">make all -j8</div></pre></td></tr></table></figure>\n<p>makecuda</p>\n<p><code>cd ./bin/x86_64/linux/release</code><br><code>./deviceQuery</code>    </p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Cache_3fb1040ea54e9bed..jpg\" alt=\"\"></p>\n<h2 id=\"CUDNN5-0\"><a href=\"#CUDNN5-0\" class=\"headerlink\" title=\"CUDNN5.0\"></a>CUDNN5.0</h2><p>CUDNNcuda</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd cuda</div><div class=\"line\">sudo cp lib64/lib* /usr/local/cuda/lib64/</div><div class=\"line\">sudo cp include/cudnn.h /usr/local/cuda/include/</div><div class=\"line\">cd /usr/local/cuda/lib64/</div><div class=\"line\">sudo chmod +r libcudnn.so.5.0.5</div><div class=\"line\">sudo ln -sf libcudnn.so.5.0.5 libcudnn.so.5</div><div class=\"line\">sudo ln -sf libcudnn.so.5 libcudnn.so</div><div class=\"line\">sudo ldconfig</div></pre></td></tr></table></figure>\n<h2 id=\"OPENCV\"><a href=\"#OPENCV\" class=\"headerlink\" title=\"OPENCV\"></a>OPENCV</h2><p>pyenvpython</p>\n<p>libegl<br><code>apt install libegl1-mesa libegl1-mesa-drivers</code></p>\n<p><a href=\"https://github.com/jayrambhia/Install-OpenCVopencv\" target=\"_blank\" rel=\"external\">https://github.com/jayrambhia/Install-OpenCVopencv</a></p>\n<h2 id=\"Caffe\"><a href=\"#Caffe\" class=\"headerlink\" title=\"Caffe\"></a>Caffe</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler libatlas-base-dev libgflags-dev libgoogle-glog-dev  liblmdb-dev  libboost-all-dev</div></pre></td></tr></table></figure>\n<h3 id=\"mklatlas\"><a href=\"#mklatlas\" class=\"headerlink\" title=\"mklatlas:\"></a>mklatlas:</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install libatlas-dev libatlas-base-dev</div></pre></td></tr></table></figure>\n<h3 id=\"python-\"><a href=\"#python-\" class=\"headerlink\" title=\"python:\"></a>python:</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install python-dev python-pip cython python-numpy python-scipy python-opencv</div></pre></td></tr></table></figure>\n<h3 id=\"githubclone-Caffe-https-github-com-BVLC-caffe\"><a href=\"#githubclone-Caffe-https-github-com-BVLC-caffe\" class=\"headerlink\" title=\"githubclone Caffe https://github.com/BVLC/caffe\"></a>githubclone Caffe <a href=\"https://github.com/BVLC/caffe\" target=\"_blank\" rel=\"external\">https://github.com/BVLC/caffe</a></h3><p>Makefile.configCUDNNMKL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone https://github.com/BVLC/caffe</div><div class=\"line\">cd caffe</div><div class=\"line\">make all -j8</div><div class=\"line\">make test -j8</div><div class=\"line\">make runtest -j8</div></pre></td></tr></table></figure>\n<p>PSj8</p>\n<p>pycaffepycaffe</p>\n<p><code>make pycaffe -j8</code></p>\n<p>pythonpip</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install python-pip</div><div class=\"line\">cd python</div><div class=\"line\">pip install -r requirements.txt</div></pre></td></tr></table></figure>\n<p>graphviz</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install graphviz graphviz-dev</div><div class=\"line\">pip install pydot</div><div class=\"line\">pip install pygraphviz</div></pre></td></tr></table></figure>\n<p>pythonpath<br><code>vim /etc/profile</code><br><code>export PYTHONPATH=/root/caffe/python:$PYTHONPATH  # path to pytho in caffe</code><br> <code>source /etc/profile</code></p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<p><em></em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>linuxUbuntu 14.04.5 64<br>GTX1080 + GTX750Ti<br>cuda: cuda_8.0.27_linux.run <a href=\"https://developer.nvidia.com/cuda-toolkit\">https://developer.nvidia.com/cuda-toolkit</a><br>NVIDIA-Linux-x86_64-367.27.run <a href=\"http://www.geforce.cn/drivers/results/104314\">http://www.geforce.cn/drivers/results/104314</a><br>cudnncudnn-5.1 ( for CUDA 8 rc) <a href=\"https://developer.nvidia.com/cudnn\">https://developer.nvidia.com/cudnn</a><br>BLASBLASintelMKL parallel_studio_xe_2016Atlas</p>\n<p>rootsudo</p>\n<h2 id=\"ubuntu\"><a href=\"#ubuntu\" class=\"headerlink\" title=\"ubuntu\"></a>ubuntu</h2><p><strong></strong><br>ubuntu14.04GTX1080GTX1080GTX750TiPCI<br>GTX750Tiubuntu</p>","more":"<h2 id=\"nouveau\"><a href=\"#nouveau\" class=\"headerlink\" title=\"nouveau\"></a>nouveau</h2><p>Ctrl+Alt+F1,</p>\n<p><code>vim /etc/modprobe.d/blacklist-nouveau.conf</code></p>\n<p></p>\n<p><code>blacklist nouveau options nouveau modset=0</code></p>\n<p>:wq)<br></p>\n<p><code>update-initramfs -u</code></p>\n<p> <code>lspci | grep nouveau</code><br> <br><code>reboot</code><br>Ctrl+Alt+F1</p>\n<h2 id=\"CUDANVIDIA\"><a href=\"#CUDANVIDIA\" class=\"headerlink\" title=\"CUDANVIDIA\"></a>CUDANVIDIA</h2><p>CUDANVIDIA</p>\n<p><code>chmod 755 NVIDIA-Linux-x86_64-367.27.run  //</code><br><code>./NVIDIA-Linux-x86_64-367.27.run  //</code></p>\n<p>nvidia-smi</p>\n<p><code>chmod 755 cuda_8.0.27_linux.run</code><br><code>./cuda_8.0.27_linux.run</code></p>\n<p>PS8.0.27<br>CUDA8NVIDIACUDA<br>no<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">Do you accept the previously read EULA?</div><div class=\"line\">accept/decline/quit: accept</div><div class=\"line\"></div><div class=\"line\">Install NVIDIA Accelerated Graphics Driver for Linux-x86_64 361.62?</div><div class=\"line\">(y)es/(n)o/(q)uit: n</div><div class=\"line\"></div><div class=\"line\">Install the CUDA 8.0 Toolkit?</div><div class=\"line\">(y)es/(n)o/(q)uit: y</div><div class=\"line\"></div><div class=\"line\">Enter Toolkit Location</div><div class=\"line\">[ default is /usr/local/cuda-8.0 ]:</div><div class=\"line\"></div><div class=\"line\">Do you want to install a symbolic link at /usr/local/cuda?</div><div class=\"line\">(y)es/(n)o/(q)uit: y</div><div class=\"line\"></div><div class=\"line\">Install the CUDA 8.0 Samples?</div><div class=\"line\">(y)es/(n)o/(q)uit: y</div><div class=\"line\"></div><div class=\"line\">Enter CUDA Samples Location</div><div class=\"line\">[ default is /home/zhou ]:</div><div class=\"line\"></div><div class=\"line\">Installing the CUDA Toolkit in /usr/local/cuda-8.0 </div><div class=\"line\">Missing recommended library: libGLU.so</div><div class=\"line\">Missing recommended library: libX11.so</div><div class=\"line\">Missing recommended library: libXi.so</div><div class=\"line\">Missing recommended library: libXmu.so</div><div class=\"line\"></div><div class=\"line\">Installing the CUDA Samples in /root </div><div class=\"line\">Copying samples to /root/NVIDIA_CUDA-8.0_Samples now</div><div class=\"line\">Finished copying samples.</div><div class=\"line\">.</div><div class=\"line\">.</div><div class=\"line\">.</div></pre></td></tr></table></figure>\n<p><br>error while loading shared libraries: xxx.so.x </p>\n<p><code>vim /etc/profile</code><br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">export PATH=/usr/local/cuda/bin:$PATH</div><div class=\"line\">export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH</div></pre></td></tr></table></figure>\n<p><code>vim /etc/ld.so.conf.d/cuda.conf</code><br><br><code>/usr/local/cuda/lib64</code></p>\n<p><code>ldconfig</code></p>\n<h2 id=\"make-CUDA\"><a href=\"#make-CUDA\" class=\"headerlink\" title=\"make CUDA\"></a>make CUDA</h2><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev  libglu1-mesa libglu1-mesa-dev libgl1-mesa-glx</div><div class=\"line\">cd /usr/local/cuda/samples</div><div class=\"line\">make all -j8</div></pre></td></tr></table></figure>\n<p>makecuda</p>\n<p><code>cd ./bin/x86_64/linux/release</code><br><code>./deviceQuery</code>    </p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Cache_3fb1040ea54e9bed..jpg\" alt=\"\"></p>\n<h2 id=\"CUDNN5-0\"><a href=\"#CUDNN5-0\" class=\"headerlink\" title=\"CUDNN5.0\"></a>CUDNN5.0</h2><p>CUDNNcuda</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd cuda</div><div class=\"line\">sudo cp lib64/lib* /usr/local/cuda/lib64/</div><div class=\"line\">sudo cp include/cudnn.h /usr/local/cuda/include/</div><div class=\"line\">cd /usr/local/cuda/lib64/</div><div class=\"line\">sudo chmod +r libcudnn.so.5.0.5</div><div class=\"line\">sudo ln -sf libcudnn.so.5.0.5 libcudnn.so.5</div><div class=\"line\">sudo ln -sf libcudnn.so.5 libcudnn.so</div><div class=\"line\">sudo ldconfig</div></pre></td></tr></table></figure>\n<h2 id=\"OPENCV\"><a href=\"#OPENCV\" class=\"headerlink\" title=\"OPENCV\"></a>OPENCV</h2><p>pyenvpython</p>\n<p>libegl<br><code>apt install libegl1-mesa libegl1-mesa-drivers</code></p>\n<p><a href=\"https://github.com/jayrambhia/Install-OpenCVopencv\">https://github.com/jayrambhia/Install-OpenCVopencv</a></p>\n<h2 id=\"Caffe\"><a href=\"#Caffe\" class=\"headerlink\" title=\"Caffe\"></a>Caffe</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler libatlas-base-dev libgflags-dev libgoogle-glog-dev  liblmdb-dev  libboost-all-dev</div></pre></td></tr></table></figure>\n<h3 id=\"mklatlas\"><a href=\"#mklatlas\" class=\"headerlink\" title=\"mklatlas:\"></a>mklatlas:</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install libatlas-dev libatlas-base-dev</div></pre></td></tr></table></figure>\n<h3 id=\"python-\"><a href=\"#python-\" class=\"headerlink\" title=\"python:\"></a>python:</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install python-dev python-pip cython python-numpy python-scipy python-opencv</div></pre></td></tr></table></figure>\n<h3 id=\"githubclone-Caffe-https-github-com-BVLC-caffe\"><a href=\"#githubclone-Caffe-https-github-com-BVLC-caffe\" class=\"headerlink\" title=\"githubclone Caffe https://github.com/BVLC/caffe\"></a>githubclone Caffe <a href=\"https://github.com/BVLC/caffe\">https://github.com/BVLC/caffe</a></h3><p>Makefile.configCUDNNMKL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone https://github.com/BVLC/caffe</div><div class=\"line\">cd caffe</div><div class=\"line\">make all -j8</div><div class=\"line\">make test -j8</div><div class=\"line\">make runtest -j8</div></pre></td></tr></table></figure>\n<p>PSj8</p>\n<p>pycaffepycaffe</p>\n<p><code>make pycaffe -j8</code></p>\n<p>pythonpip</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install python-pip</div><div class=\"line\">cd python</div><div class=\"line\">pip install -r requirements.txt</div></pre></td></tr></table></figure>\n<p>graphviz</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install graphviz graphviz-dev</div><div class=\"line\">pip install pydot</div><div class=\"line\">pip install pygraphviz</div></pre></td></tr></table></figure>\n<p>pythonpath<br><code>vim /etc/profile</code><br><code>export PYTHONPATH=/root/caffe/python:$PYTHONPATH  # path to pytho in caffe</code><br> <code>source /etc/profile</code></p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>"},{"title":"JDBCMybatis","date":"2017-03-03T00:13:37.000Z","_content":"\n\n## JDBC\n\n```Java\npublic static List<Map<String,Object>> queryForList(){  \n        Connection connection = null;  \n        ResultSet rs = null;  \n        PreparedStatement stmt = null;  \n        List<Map<String,Object>> resultList = new ArrayList<Map<String,Object>>();  \n          \n        try {  \n            // 1.JDBC  \n            Class.forName(\"oracle.jdbc.driver.OracleDriver\").newInstance();  \n            String url = \"jdbc:oracle:thin:@localhost:1521:ORACLEDB\";  \n              \n            String user = \"trainer\";   \n            String password = \"trainer\";   \n              \n            // 2.\n            connection = DriverManager.getConnection(url,user,password);   \n              \n            // \n            String sql = \"select * from userinfo where user_id = ? \";  \n            // 3.StatementStatement\n            stmt = connection.prepareStatement(sql);  \n              \n            // 4.  \n            stmt.setString(1, \"zhangsan\");  \n              \n            // 5.SQL  \n            rs = stmt.executeQuery();  \n              \n            // 6.List<Map>  \n            ResultSetMetaData rsmd = rs.getMetaData();  \n            int num = rsmd.getColumnCount();  \n              \n            while(rs.next()){  \n                Map map = new HashMap();  \n                for(int i = 0;i < num;i++){  \n                    String columnName = rsmd.getColumnName(i+1);  \n                    map.put(columnName,rs.getString(columnName));  \n                }  \n                resultList.add(map);  \n            }  \n              \n        } catch (Exception e) {  \n            e.printStackTrace();  \n        } finally { \n        \t\t // 7. \n            try {  \n                   //  \n                if (rs != null) {  \n                    rs.close();  \n                    rs = null;  \n                }  \n                   //  \n                if (stmt != null) {  \n                    stmt.close();  \n                    stmt = null;  \n                }  \n                if (connection != null) {  \n                    connection.close();  \n                    connection = null;  \n                }  \n            } catch (SQLException e) {  \n                e.printStackTrace();  \n            }  \n        }  \n          \n        return resultList;  \n    }  \n```\n\n<!-- more -->\n\n## JDBCMybatis\nMyBatissqljava\n7MybatisJDBC\n\n### \ntry\n\n****DataSourceDataSourceDataSourceDBCPJNDI\n\n### SQL\nSQL\n\n- \n- Java\n- SQL\n\n****SQLkey-valueSQL\n\n### SQL\nSQLSQL\n\n****if-elsekey-valueMapSQL`##`SQL\n\n`##``$$`\n\n### \nSQL\n\n****KVSQLkeykeySQL\n\n### SQL\n\n\n****\n\n## \nHibernateMybatisJDBC\nHibernateMybatisJDBC\nHibernateMybatisJDBC\n\n## ibatisMybatis\nibatisMybatis\n\n- Mybatis\n- \n- MyBatisOGNL\n\n\n<br/><br/>\n[](https://www.jianyujianyu.com)\n\n\n\n\n\n\n","source":"_posts/thinking-about-mybatis-from-jdbc.md","raw":"title: JDBCMybatis\ncategories: Java\ntags: [jdbc,mybatis]\ndate: 2017-03-03 08:13:37\n---\n\n\n## JDBC\n\n```Java\npublic static List<Map<String,Object>> queryForList(){  \n        Connection connection = null;  \n        ResultSet rs = null;  \n        PreparedStatement stmt = null;  \n        List<Map<String,Object>> resultList = new ArrayList<Map<String,Object>>();  \n          \n        try {  \n            // 1.JDBC  \n            Class.forName(\"oracle.jdbc.driver.OracleDriver\").newInstance();  \n            String url = \"jdbc:oracle:thin:@localhost:1521:ORACLEDB\";  \n              \n            String user = \"trainer\";   \n            String password = \"trainer\";   \n              \n            // 2.\n            connection = DriverManager.getConnection(url,user,password);   \n              \n            // \n            String sql = \"select * from userinfo where user_id = ? \";  \n            // 3.StatementStatement\n            stmt = connection.prepareStatement(sql);  \n              \n            // 4.  \n            stmt.setString(1, \"zhangsan\");  \n              \n            // 5.SQL  \n            rs = stmt.executeQuery();  \n              \n            // 6.List<Map>  \n            ResultSetMetaData rsmd = rs.getMetaData();  \n            int num = rsmd.getColumnCount();  \n              \n            while(rs.next()){  \n                Map map = new HashMap();  \n                for(int i = 0;i < num;i++){  \n                    String columnName = rsmd.getColumnName(i+1);  \n                    map.put(columnName,rs.getString(columnName));  \n                }  \n                resultList.add(map);  \n            }  \n              \n        } catch (Exception e) {  \n            e.printStackTrace();  \n        } finally { \n        \t\t // 7. \n            try {  \n                   //  \n                if (rs != null) {  \n                    rs.close();  \n                    rs = null;  \n                }  \n                   //  \n                if (stmt != null) {  \n                    stmt.close();  \n                    stmt = null;  \n                }  \n                if (connection != null) {  \n                    connection.close();  \n                    connection = null;  \n                }  \n            } catch (SQLException e) {  \n                e.printStackTrace();  \n            }  \n        }  \n          \n        return resultList;  \n    }  \n```\n\n<!-- more -->\n\n## JDBCMybatis\nMyBatissqljava\n7MybatisJDBC\n\n### \ntry\n\n****DataSourceDataSourceDataSourceDBCPJNDI\n\n### SQL\nSQL\n\n- \n- Java\n- SQL\n\n****SQLkey-valueSQL\n\n### SQL\nSQLSQL\n\n****if-elsekey-valueMapSQL`##`SQL\n\n`##``$$`\n\n### \nSQL\n\n****KVSQLkeykeySQL\n\n### SQL\n\n\n****\n\n## \nHibernateMybatisJDBC\nHibernateMybatisJDBC\nHibernateMybatisJDBC\n\n## ibatisMybatis\nibatisMybatis\n\n- Mybatis\n- \n- MyBatisOGNL\n\n\n<br/><br/>\n[](https://www.jianyujianyu.com)\n\n\n\n\n\n\n","slug":"thinking-about-mybatis-from-jdbc","published":1,"updated":"2017-04-23T13:43:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtrn000duoevjzutihqp","content":"<h2 id=\"JDBC\"><a href=\"#JDBC\" class=\"headerlink\" title=\"JDBC\"></a>JDBC</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> List&lt;Map&lt;String,Object&gt;&gt; queryForList()&#123;  </div><div class=\"line\">        Connection connection = <span class=\"keyword\">null</span>;  </div><div class=\"line\">        ResultSet rs = <span class=\"keyword\">null</span>;  </div><div class=\"line\">        PreparedStatement stmt = <span class=\"keyword\">null</span>;  </div><div class=\"line\">        List&lt;Map&lt;String,Object&gt;&gt; resultList = <span class=\"keyword\">new</span> ArrayList&lt;Map&lt;String,Object&gt;&gt;();  </div><div class=\"line\">          </div><div class=\"line\">        <span class=\"keyword\">try</span> &#123;  </div><div class=\"line\">            <span class=\"comment\">// 1.JDBC  </span></div><div class=\"line\">            Class.forName(<span class=\"string\">\"oracle.jdbc.driver.OracleDriver\"</span>).newInstance();  </div><div class=\"line\">            String url = <span class=\"string\">\"jdbc:oracle:thin:@localhost:1521:ORACLEDB\"</span>;  </div><div class=\"line\">              </div><div class=\"line\">            String user = <span class=\"string\">\"trainer\"</span>;   </div><div class=\"line\">            String password = <span class=\"string\">\"trainer\"</span>;   </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// 2.</span></div><div class=\"line\">            connection = DriverManager.getConnection(url,user,password);   </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// </span></div><div class=\"line\">            String sql = <span class=\"string\">\"select * from userinfo where user_id = ? \"</span>;  </div><div class=\"line\">            <span class=\"comment\">// 3.StatementStatement</span></div><div class=\"line\">            stmt = connection.prepareStatement(sql);  </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// 4.  </span></div><div class=\"line\">            stmt.setString(<span class=\"number\">1</span>, <span class=\"string\">\"zhangsan\"</span>);  </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// 5.SQL  </span></div><div class=\"line\">            rs = stmt.executeQuery();  </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// 6.List&lt;Map&gt;  </span></div><div class=\"line\">            ResultSetMetaData rsmd = rs.getMetaData();  </div><div class=\"line\">            <span class=\"keyword\">int</span> num = rsmd.getColumnCount();  </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"keyword\">while</span>(rs.next())&#123;  </div><div class=\"line\">                Map map = <span class=\"keyword\">new</span> HashMap();  </div><div class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i &lt; num;i++)&#123;  </div><div class=\"line\">                    String columnName = rsmd.getColumnName(i+<span class=\"number\">1</span>);  </div><div class=\"line\">                    map.put(columnName,rs.getString(columnName));  </div><div class=\"line\">                &#125;  </div><div class=\"line\">                resultList.add(map);  </div><div class=\"line\">            &#125;  </div><div class=\"line\">              </div><div class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;  </div><div class=\"line\">            e.printStackTrace();  </div><div class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123; </div><div class=\"line\">        \t\t <span class=\"comment\">// 7. </span></div><div class=\"line\">            <span class=\"keyword\">try</span> &#123;  </div><div class=\"line\">                   <span class=\"comment\">//  </span></div><div class=\"line\">                <span class=\"keyword\">if</span> (rs != <span class=\"keyword\">null</span>) &#123;  </div><div class=\"line\">                    rs.close();  </div><div class=\"line\">                    rs = <span class=\"keyword\">null</span>;  </div><div class=\"line\">                &#125;  </div><div class=\"line\">                   <span class=\"comment\">//  </span></div><div class=\"line\">                <span class=\"keyword\">if</span> (stmt != <span class=\"keyword\">null</span>) &#123;  </div><div class=\"line\">                    stmt.close();  </div><div class=\"line\">                    stmt = <span class=\"keyword\">null</span>;  </div><div class=\"line\">                &#125;  </div><div class=\"line\">                <span class=\"keyword\">if</span> (connection != <span class=\"keyword\">null</span>) &#123;  </div><div class=\"line\">                    connection.close();  </div><div class=\"line\">                    connection = <span class=\"keyword\">null</span>;  </div><div class=\"line\">                &#125;  </div><div class=\"line\">            &#125; <span class=\"keyword\">catch</span> (SQLException e) &#123;  </div><div class=\"line\">                e.printStackTrace();  </div><div class=\"line\">            &#125;  </div><div class=\"line\">        &#125;  </div><div class=\"line\">          </div><div class=\"line\">        <span class=\"keyword\">return</span> resultList;  </div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"JDBCMybatis\"><a href=\"#JDBCMybatis\" class=\"headerlink\" title=\"JDBCMybatis\"></a>JDBCMybatis</h2><p>MyBatissqljava<br>7MybatisJDBC</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>try</p>\n<p><strong></strong>DataSourceDataSourceDataSourceDBCPJNDI</p>\n<h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><p>SQL</p>\n<ul>\n<li></li>\n<li>Java</li>\n<li>SQL</li>\n</ul>\n<p><strong></strong>SQLkey-valueSQL</p>\n<h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><p>SQLSQL</p>\n<p><strong></strong>if-elsekey-valueMapSQL<code>##</code>SQL</p>\n<p><code>##</code><code>$$</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SQL</p>\n<p><strong></strong>KVSQLkeykeySQL</p>\n<h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><p></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HibernateMybatisJDBC<br>HibernateMybatisJDBC<br>HibernateMybatisJDBC</p>\n<h2 id=\"ibatisMybatis\"><a href=\"#ibatisMybatis\" class=\"headerlink\" title=\"ibatisMybatis\"></a>ibatisMybatis</h2><p>ibatisMybatis</p>\n<ul>\n<li>Mybatis</li>\n<li></li>\n<li>MyBatisOGNL</li>\n</ul>\n<p><br><br><br><a href=\"https://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"JDBC\"><a href=\"#JDBC\" class=\"headerlink\" title=\"JDBC\"></a>JDBC</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> List&lt;Map&lt;String,Object&gt;&gt; queryForList()&#123;  </div><div class=\"line\">        Connection connection = <span class=\"keyword\">null</span>;  </div><div class=\"line\">        ResultSet rs = <span class=\"keyword\">null</span>;  </div><div class=\"line\">        PreparedStatement stmt = <span class=\"keyword\">null</span>;  </div><div class=\"line\">        List&lt;Map&lt;String,Object&gt;&gt; resultList = <span class=\"keyword\">new</span> ArrayList&lt;Map&lt;String,Object&gt;&gt;();  </div><div class=\"line\">          </div><div class=\"line\">        <span class=\"keyword\">try</span> &#123;  </div><div class=\"line\">            <span class=\"comment\">// 1.JDBC  </span></div><div class=\"line\">            Class.forName(<span class=\"string\">\"oracle.jdbc.driver.OracleDriver\"</span>).newInstance();  </div><div class=\"line\">            String url = <span class=\"string\">\"jdbc:oracle:thin:@localhost:1521:ORACLEDB\"</span>;  </div><div class=\"line\">              </div><div class=\"line\">            String user = <span class=\"string\">\"trainer\"</span>;   </div><div class=\"line\">            String password = <span class=\"string\">\"trainer\"</span>;   </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// 2.</span></div><div class=\"line\">            connection = DriverManager.getConnection(url,user,password);   </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// </span></div><div class=\"line\">            String sql = <span class=\"string\">\"select * from userinfo where user_id = ? \"</span>;  </div><div class=\"line\">            <span class=\"comment\">// 3.StatementStatement</span></div><div class=\"line\">            stmt = connection.prepareStatement(sql);  </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// 4.  </span></div><div class=\"line\">            stmt.setString(<span class=\"number\">1</span>, <span class=\"string\">\"zhangsan\"</span>);  </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// 5.SQL  </span></div><div class=\"line\">            rs = stmt.executeQuery();  </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"comment\">// 6.List&lt;Map&gt;  </span></div><div class=\"line\">            ResultSetMetaData rsmd = rs.getMetaData();  </div><div class=\"line\">            <span class=\"keyword\">int</span> num = rsmd.getColumnCount();  </div><div class=\"line\">              </div><div class=\"line\">            <span class=\"keyword\">while</span>(rs.next())&#123;  </div><div class=\"line\">                Map map = <span class=\"keyword\">new</span> HashMap();  </div><div class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i &lt; num;i++)&#123;  </div><div class=\"line\">                    String columnName = rsmd.getColumnName(i+<span class=\"number\">1</span>);  </div><div class=\"line\">                    map.put(columnName,rs.getString(columnName));  </div><div class=\"line\">                &#125;  </div><div class=\"line\">                resultList.add(map);  </div><div class=\"line\">            &#125;  </div><div class=\"line\">              </div><div class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;  </div><div class=\"line\">            e.printStackTrace();  </div><div class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123; </div><div class=\"line\">        \t\t <span class=\"comment\">// 7. </span></div><div class=\"line\">            <span class=\"keyword\">try</span> &#123;  </div><div class=\"line\">                   <span class=\"comment\">//  </span></div><div class=\"line\">                <span class=\"keyword\">if</span> (rs != <span class=\"keyword\">null</span>) &#123;  </div><div class=\"line\">                    rs.close();  </div><div class=\"line\">                    rs = <span class=\"keyword\">null</span>;  </div><div class=\"line\">                &#125;  </div><div class=\"line\">                   <span class=\"comment\">//  </span></div><div class=\"line\">                <span class=\"keyword\">if</span> (stmt != <span class=\"keyword\">null</span>) &#123;  </div><div class=\"line\">                    stmt.close();  </div><div class=\"line\">                    stmt = <span class=\"keyword\">null</span>;  </div><div class=\"line\">                &#125;  </div><div class=\"line\">                <span class=\"keyword\">if</span> (connection != <span class=\"keyword\">null</span>) &#123;  </div><div class=\"line\">                    connection.close();  </div><div class=\"line\">                    connection = <span class=\"keyword\">null</span>;  </div><div class=\"line\">                &#125;  </div><div class=\"line\">            &#125; <span class=\"keyword\">catch</span> (SQLException e) &#123;  </div><div class=\"line\">                e.printStackTrace();  </div><div class=\"line\">            &#125;  </div><div class=\"line\">        &#125;  </div><div class=\"line\">          </div><div class=\"line\">        <span class=\"keyword\">return</span> resultList;  </div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>","more":"<h2 id=\"JDBCMybatis\"><a href=\"#JDBCMybatis\" class=\"headerlink\" title=\"JDBCMybatis\"></a>JDBCMybatis</h2><p>MyBatissqljava<br>7MybatisJDBC</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>try</p>\n<p><strong></strong>DataSourceDataSourceDataSourceDBCPJNDI</p>\n<h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><p>SQL</p>\n<ul>\n<li></li>\n<li>Java</li>\n<li>SQL</li>\n</ul>\n<p><strong></strong>SQLkey-valueSQL</p>\n<h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><p>SQLSQL</p>\n<p><strong></strong>if-elsekey-valueMapSQL<code>##</code>SQL</p>\n<p><code>##</code><code>$$</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SQL</p>\n<p><strong></strong>KVSQLkeykeySQL</p>\n<h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><p></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HibernateMybatisJDBC<br>HibernateMybatisJDBC<br>HibernateMybatisJDBC</p>\n<h2 id=\"ibatisMybatis\"><a href=\"#ibatisMybatis\" class=\"headerlink\" title=\"ibatisMybatis\"></a>ibatisMybatis</h2><p>ibatisMybatis</p>\n<ul>\n<li>Mybatis</li>\n<li></li>\n<li>MyBatisOGNL</li>\n</ul>\n<p><br/><br/><br><a href=\"https://www.jianyujianyu.com\"></a></p>"},{"title":"GoWeb","date":"2016-08-05T19:15:59.000Z","_content":"\n\n## \n\n\n\n- loadsave\n- net/httpweb\n- html/templateHTML\n- regexp\n- \n\n\n\n- \n- webHTTPHTML\n- UNIXDOS\n\n<!-- more -->\n\n## \n\nFreeBSDLinuxMacOSWindowsGoGoGo\n\nGOPATHcd\n\n```\n$ mkdir gowiki\n$ cd gowiki\n```\n\nwiki.go\n\n```\npackage main\n\nimport (\n\t\"fmt\"\n\t\"io/ioutil\"\n)\n```\n\nGofmtioutilimport\n\n## \n\nwikiPagePageTitleBodyPage\n\n```\ntype Page struct {\n    Title string\n    Body  []byte\n}\n```\n\n[]bytestring[]byteio[]byte\n\nPagePagesave\n\n```\nfunc (p *Page) save() error {\n    filename := p.Title + \".txt\"\n    return ioutil.WriteFile(filename, p.Body, 0600)\n}\n```\n\n`func (p *Page) save() error{}`savepPageerror\n\ntxtTitletxtsaveerrorerrorWriteFileWriteFile[]byteerrorPage.save()nilnil\n\nWriteFile0600txtp.s. 600Unix/Linux\n\nsave()\n\n```\nfunc loadPage(title string) *Page {\n    filename := title + \".txt\"\n    body, _ := ioutil.ReadFile(filename)\n    return &Page{Title: title, Body: body}\n}\n```\n\nloadPagetitletxtbodyTitleBodyPage\n\nio.ReadFile[]byteerrorloadPage  _error\n\n  errortxt\n\n```\nfunc loadPage(title string) (*Page, error) {\n    filename := title + \".txt\"\n    body, err := ioutil.ReadFile(filename)\n    if err != nil {\n        return nil, err\n    }\n    return &Page{Title: title, Body: body}, nil\n}\n```\n\nPage\n\nmomentmain\n\n```\nfunc main() {\n    p1 := &Page{Title: \"TestPage\", Body: []byte(\"This is a sample Page.\")}\n    p1.save()\n    p2, _ := loadPage(\"TestPage\")\n    fmt.Println(string(p2.Body))\n}\n```\n\nTestPage.txtp1p2p2Body\n\n\n\n```\n$ go build wiki.go\n$ ./wiki\nThis is a sample page.\n```\n\nwindows\"wiki\"./\n\n## net/http\n\nweb\n\n```\npackage main\n\nimport (\n    \"fmt\"\n    \"net/http\"\n)\n\nfunc handler(w http.ResponseWriter, r *http.Request) {\n    fmt.Fprintf(w, \"Hi there, I love %s!\", r.URL.Path[1:])\n}\n\nfunc main() {\n    http.HandleFunc(\"/\", handler)\n    http.ListenAndServe(\":8080\", nil)\n}\n```\n\nmainhttp.HandleFunchttpweb/handlermainhttp.ListenAndServe8080nilListenAndServe\n\nhandlerhttp.HandlerFunchttp.ResponseWriterhttp.Requesthttp.ResponseWriterHTTPHTTPhttp.RequestHTTPhandlerr.URL.PathURL[1:]r.URL.Path/\n\n\n\n```\nhttp://localhost:8080/monkeys\n```\n\n\n\n```\nHi there, I love monkeys!\n```\n\n## wikinet/http\n\nnet/http\n\n```\nimport (\n\t\"fmt\"\n\t\"io/ioutil\"\n\t\"net/http\"\n)\n```\n\nhandlerviewHandlerwiki/view/URL\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/view/\"):]\n    p, _ := loadPage(title)\n    fmt.Fprintf(w, \"<h1>%s</h1><div>%s</div>\", p.Title, p.Body)\n}\n```\n\nURLr.URL.Pathtitle[len(\"/view/\"):]URL/view//view/pagetxtstringHTMLstringwhttp.ResponseWriter\n\n__loadPageerror- -\n\nhandlermainhttp\n\n```\nfunc main() {\n    http.HandleFunc(\"/view/\", viewHandler)\n    http.ListenAndServe(\":8080\", nil)\n}\n```\n\ntxttest.txtHello world\n\n```\n$ go build wiki.go\n$ ./wiki\n```\n\nhttp://localhost:8080/view/testHello worldtxt\n\n## wiki\n\nwikiwikiwikihandlereditHandlerwikihandlersaveHandler\n\n\nmain\n\n```\nfunc main() {\n    http.HandleFunc(\"/view/\", viewHandler)\n    http.HandleFunc(\"/edit/\", editHandler)\n    http.HandleFunc(\"/save/\", saveHandler)\n    http.ListenAndServe(\":8080\", nil)\n}\n```\n\neditHandler\n\n```\nfunc editHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/edit/\"):]\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    fmt.Fprintf(w, \"<h1>Editing %s</h1>\"+\n        \"<form action=\\\"/save/%s\\\" method=\\\"POST\\\">\"+\n        \"<textarea name=\\\"body\\\">%s</textarea><br>\"+\n        \"<input type=\\\"submit\\\" value=\\\"Save\\\">\"+\n        \"</form>\",\n        p.Title, p.Title, p.Body)\n}\n```\n\nHTMLHTML\n\n## html/templateHTML\n\nhtml/templateGoHTMLHTMLGo\n\nimporthtml/templatefmtfmt\n\n```\nimport (\n\t\"html/template\"\n\t\"io/ioutil\"\n\t\"net/http\"\n)\n```\n\nHTML  edit.html\n\n```\n<h1>Editing {{.Title}}</h1>\n\n<form action=\"/save/{{.Title}}\" method=\"POST\">\n<div><textarea name=\"body\" rows=\"20\" cols=\"80\">{{printf \"%s\" .Body}}</textarea></div>\n<div><input type=\"submit\" value=\"Save\"></div>\n</form>\n```\n\neditHandlerHTML\n\n```\nfunc editHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/edit/\"):]\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    t, _ := template.ParseFiles(\"edit.html\")\n    t.Execute(w, p)\n}\n```\n\ntemplate.ParseFilesedit.html*template.Templatet.ExecuteHTMLhttp.ResponseWriter.Title.Bodyp.Titlep.Body\n\n`printf \"%s\" .Body`stringbytesBodyfmt.Printf\n\nhtml/templateHTML>`&gt;`HTML\n\nview.htmlviewHandler\n\n```\n<h1>{{.Title}}</h1>\n\n<p>[<a href=\"/edit/{{.Title}}\">edit</a>]</p>\n\n<div>{{printf \"%s\" .Body}}</div>\n```\n\nviewHandler\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/view/\"):]\n    p, _ := loadPage(title)\n    t, _ := template.ParseFiles(\"view.html\")\n    t.Execute(w, p)\n}\n```\n\nhandlerHTML\n\n```\nfunc renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {\n    t, _ := template.ParseFiles(tmpl + \".html\")\n    t.Execute(w, p)\n}\n```\n\nhandler\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/view/\"):]\n    p, _ := loadPage(title)\n    renderTemplate(w, \"view\", p)\n}\nfunc editHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/edit/\"):]\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    renderTemplate(w, \"edit\", p)\n}\n```\n\n:)\n\n## \n\n/view/APageThatDoesntExistWebHTMLloadPage\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/view/\"):]\n    p, err := loadPage(title)\n    if err != nil {\n        http.Redirect(w, r, \"/edit/\"+title, http.StatusFound)\n        return\n    }\n    renderTemplate(w, \"view\", p)\n}\n```\n\nhttp.Redirecthttp.StatusFound (302)\n\n## \n\nsaveHandler\n\n```\nfunc saveHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/save/\"):]\n    body := r.FormValue(\"body\")\n    p := &Page{Title: title, Body: []byte(body)}\n    p.save()\n    http.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n```\n\nURLBodyPagesave()/view/\n\nFormValue()string[]bytePage`[]byte(body) `\n\n## \n\n\n\nrenderTemplate\n\n```\nfunc renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {\n    t, err := template.ParseFiles(tmpl + \".html\")\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    err = t.Execute(w, p)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n    }\n}\n```\n\nhttp.ErrorInternal Server ErrorsaveHandler\n\n```\nfunc saveHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/save/\"):]\n    body := r.FormValue(\"body\")\n    p := &Page{Title: title, Body: []byte(body)}\n    err := p.save()\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    http.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n```\n\np.save()http.Error\n\n## \n\nwebGorenderTemplateParseFilesParseFiles*TemplateExecuteTemplate\n\nParseFilestemplates\n\n```\nvar templates = template.Must(template.ParseFiles(\"edit.html\", \"view.html\"))\n```\n\ntemplate.MustParseerrnilpanicTemplateMustpanic  \n\nParseFilesstringstringtemplatesParseFiles\n\nrenderTemplatetemplates.ExecuteTemplate\n\n```\nfunc renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {\n    err := templates.ExecuteTemplate(w, tmpl+\".html\", p)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n    }\n}\n```\n\np.s..html\n\n## \n\ntitle\n\nregexpimport\n\n```\nvar validPath = regexp.MustCompile(\"^/(edit|save|view)/([a-zA-Z0-9]+)$\")\n```\n\nMustregexp.MustCompileregexp.RegexpMustCompileCompileMustpanic\n\nvalidPathtitle\n\n```\nfunc getTitle(w http.ResponseWriter, r *http.Request) (string, error) {\n    m := validPath.FindStringSubmatch(r.URL.Path)\n    if m == nil {\n        http.NotFound(w, r)\n        return \"\", errors.New(\"Invalid Page Title\")\n    }\n    return m[2], nil // The title is the second subexpression.\n}\n```\n\nnil404 Not FoundHTTPhandlererrorerrorimporterrors\n\nhandlergetTitle\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title, err := getTitle(w, r)\n    if err != nil {\n        return\n    }\n    p, err := loadPage(title)\n    if err != nil {\n        http.Redirect(w, r, \"/edit/\"+title, http.StatusFound)\n        return\n    }\n    renderTemplate(w, \"view\", p)\n}\n\nfunc editHandler(w http.ResponseWriter, r *http.Request) {\n    title, err := getTitle(w, r)\n    if err != nil {\n        return\n    }\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    renderTemplate(w, \"edit\", p)\n}\n\nfunc saveHandler(w http.ResponseWriter, r *http.Request) {\n    title, err := getTitle(w, r)\n    if err != nil {\n        return\n    }\n    body := r.FormValue(\"body\")\n    p := &Page{Title: title, Body: []byte(body)}\n    err = p.save()\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    http.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n```\n\n## \n\n\n\nhandler\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request, title string)\nfunc editHandler(w http.ResponseWriter, r *http.Request, title string)\nfunc saveHandler(w http.ResponseWriter, r *http.Request, title string)\n```\n\n**`func (http.ResponseWriter, *http.Request, string)`http.HandlerFunc\n\n```\nfunc makeHandler(fn func (http.ResponseWriter, *http.Request, string)) http.HandlerFunc {\n\treturn func(w http.ResponseWriter, r *http.Request) {\n\t\t// Here we will extract the page title from the Request,\n\t\t// and call the provided handler 'fn'\n\t}\n}\n```\n\nreturnfnmakeHandlerfnviewsaveedithandler\n\ngetTitle\n\n```\nfunc makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc {\n    return func(w http.ResponseWriter, r *http.Request) {\n        m := validPath.FindStringSubmatch(r.URL.Path)\n        if m == nil {\n            http.NotFound(w, r)\n            return\n        }\n        fn(w, r, m[2])\n    }\n}\n```\n\nmakeHandlerhttp.ResponseWriterhttp.RequesttitleTitleValidatorResponseWriter http.NotFounderrorResponseWriterRequesttitlefn\n\nmainhandler\n\n```\nfunc main() {\n    http.HandleFunc(\"/view/\", makeHandler(viewHandler))\n    http.HandleFunc(\"/edit/\", makeHandler(editHandler))\n    http.HandleFunc(\"/save/\", makeHandler(saveHandler))\n\n    http.ListenAndServe(\":8080\", nil)\n}\n```\n\ngetTitlehandler\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request, title string) {\n    p, err := loadPage(title)\n    if err != nil {\n        http.Redirect(w, r, \"/edit/\"+title, http.StatusFound)\n        return\n    }\n    renderTemplate(w, \"view\", p)\n}\n\nfunc editHandler(w http.ResponseWriter, r *http.Request, title string) {\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    renderTemplate(w, \"edit\", p)\n}\n\nfunc saveHandler(w http.ResponseWriter, r *http.Request, title string) {\n    body := r.FormValue(\"body\")\n    p := &Page{Title: title, Body: []byte(body)}\n    err := p.save()\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    http.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n```\n\n## \n\n\n\n```\n$ go build wiki.go\n$ ./wiki\n```\n\nhttp://localhost:8080/view/ANewPagewiki~\n\n### P.S.\n\n```\n// Copyright 2010 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\npackage main\n\nimport (\n\t\"html/template\"\n\t\"io/ioutil\"\n\t\"net/http\"\n\t\"regexp\"\n)\n\ntype Page struct {\n\tTitle string\n\tBody  []byte\n}\n\nfunc (p *Page) save() error {\n\tfilename := p.Title + \".txt\"\n\treturn ioutil.WriteFile(filename, p.Body, 0600)\n}\n\nfunc loadPage(title string) (*Page, error) {\n\tfilename := title + \".txt\"\n\tbody, err := ioutil.ReadFile(filename)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\treturn &Page{Title: title, Body: body}, nil\n}\n\nfunc viewHandler(w http.ResponseWriter, r *http.Request, title string) {\n\tp, err := loadPage(title)\n\tif err != nil {\n\t\thttp.Redirect(w, r, \"/edit/\"+title, http.StatusFound)\n\t\treturn\n\t}\n\trenderTemplate(w, \"view\", p)\n}\n\nfunc editHandler(w http.ResponseWriter, r *http.Request, title string) {\n\tp, err := loadPage(title)\n\tif err != nil {\n\t\tp = &Page{Title: title}\n\t}\n\trenderTemplate(w, \"edit\", p)\n}\n\nfunc saveHandler(w http.ResponseWriter, r *http.Request, title string) {\n\tbody := r.FormValue(\"body\")\n\tp := &Page{Title: title, Body: []byte(body)}\n\terr := p.save()\n\tif err != nil {\n\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)\n\t\treturn\n\t}\n\thttp.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n\nvar templates = template.Must(template.ParseFiles(\"edit.html\", \"view.html\"))\n\nfunc renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {\n\terr := templates.ExecuteTemplate(w, tmpl+\".html\", p)\n\tif err != nil {\n\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)\n\t}\n}\n\nvar validPath = regexp.MustCompile(\"^/(edit|save|view)/([a-zA-Z0-9]+)$\")\n\nfunc makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc {\n\treturn func(w http.ResponseWriter, r *http.Request) {\n\t\tm := validPath.FindStringSubmatch(r.URL.Path)\n\t\tif m == nil {\n\t\t\thttp.NotFound(w, r)\n\t\t\treturn\n\t\t}\n\t\tfn(w, r, m[2])\n\t}\n}\n\nfunc main() {\n\thttp.HandleFunc(\"/view/\", makeHandler(viewHandler))\n\thttp.HandleFunc(\"/edit/\", makeHandler(editHandler))\n\thttp.HandleFunc(\"/save/\", makeHandler(saveHandler))\n\n\thttp.ListenAndServe(\":8080\", nil)\n}\n```\n\n\n[](http://www.jianyujianyu.com)\n\n","source":"_posts/writing-web-using-go.md","raw":"title: GoWeb\ncategories: Golang\ntags: [go,web]\ndate: 2016-08-06 03:15:59\n---\n\n\n## \n\n\n\n- loadsave\n- net/httpweb\n- html/templateHTML\n- regexp\n- \n\n\n\n- \n- webHTTPHTML\n- UNIXDOS\n\n<!-- more -->\n\n## \n\nFreeBSDLinuxMacOSWindowsGoGoGo\n\nGOPATHcd\n\n```\n$ mkdir gowiki\n$ cd gowiki\n```\n\nwiki.go\n\n```\npackage main\n\nimport (\n\t\"fmt\"\n\t\"io/ioutil\"\n)\n```\n\nGofmtioutilimport\n\n## \n\nwikiPagePageTitleBodyPage\n\n```\ntype Page struct {\n    Title string\n    Body  []byte\n}\n```\n\n[]bytestring[]byteio[]byte\n\nPagePagesave\n\n```\nfunc (p *Page) save() error {\n    filename := p.Title + \".txt\"\n    return ioutil.WriteFile(filename, p.Body, 0600)\n}\n```\n\n`func (p *Page) save() error{}`savepPageerror\n\ntxtTitletxtsaveerrorerrorWriteFileWriteFile[]byteerrorPage.save()nilnil\n\nWriteFile0600txtp.s. 600Unix/Linux\n\nsave()\n\n```\nfunc loadPage(title string) *Page {\n    filename := title + \".txt\"\n    body, _ := ioutil.ReadFile(filename)\n    return &Page{Title: title, Body: body}\n}\n```\n\nloadPagetitletxtbodyTitleBodyPage\n\nio.ReadFile[]byteerrorloadPage  _error\n\n  errortxt\n\n```\nfunc loadPage(title string) (*Page, error) {\n    filename := title + \".txt\"\n    body, err := ioutil.ReadFile(filename)\n    if err != nil {\n        return nil, err\n    }\n    return &Page{Title: title, Body: body}, nil\n}\n```\n\nPage\n\nmomentmain\n\n```\nfunc main() {\n    p1 := &Page{Title: \"TestPage\", Body: []byte(\"This is a sample Page.\")}\n    p1.save()\n    p2, _ := loadPage(\"TestPage\")\n    fmt.Println(string(p2.Body))\n}\n```\n\nTestPage.txtp1p2p2Body\n\n\n\n```\n$ go build wiki.go\n$ ./wiki\nThis is a sample page.\n```\n\nwindows\"wiki\"./\n\n## net/http\n\nweb\n\n```\npackage main\n\nimport (\n    \"fmt\"\n    \"net/http\"\n)\n\nfunc handler(w http.ResponseWriter, r *http.Request) {\n    fmt.Fprintf(w, \"Hi there, I love %s!\", r.URL.Path[1:])\n}\n\nfunc main() {\n    http.HandleFunc(\"/\", handler)\n    http.ListenAndServe(\":8080\", nil)\n}\n```\n\nmainhttp.HandleFunchttpweb/handlermainhttp.ListenAndServe8080nilListenAndServe\n\nhandlerhttp.HandlerFunchttp.ResponseWriterhttp.Requesthttp.ResponseWriterHTTPHTTPhttp.RequestHTTPhandlerr.URL.PathURL[1:]r.URL.Path/\n\n\n\n```\nhttp://localhost:8080/monkeys\n```\n\n\n\n```\nHi there, I love monkeys!\n```\n\n## wikinet/http\n\nnet/http\n\n```\nimport (\n\t\"fmt\"\n\t\"io/ioutil\"\n\t\"net/http\"\n)\n```\n\nhandlerviewHandlerwiki/view/URL\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/view/\"):]\n    p, _ := loadPage(title)\n    fmt.Fprintf(w, \"<h1>%s</h1><div>%s</div>\", p.Title, p.Body)\n}\n```\n\nURLr.URL.Pathtitle[len(\"/view/\"):]URL/view//view/pagetxtstringHTMLstringwhttp.ResponseWriter\n\n__loadPageerror- -\n\nhandlermainhttp\n\n```\nfunc main() {\n    http.HandleFunc(\"/view/\", viewHandler)\n    http.ListenAndServe(\":8080\", nil)\n}\n```\n\ntxttest.txtHello world\n\n```\n$ go build wiki.go\n$ ./wiki\n```\n\nhttp://localhost:8080/view/testHello worldtxt\n\n## wiki\n\nwikiwikiwikihandlereditHandlerwikihandlersaveHandler\n\n\nmain\n\n```\nfunc main() {\n    http.HandleFunc(\"/view/\", viewHandler)\n    http.HandleFunc(\"/edit/\", editHandler)\n    http.HandleFunc(\"/save/\", saveHandler)\n    http.ListenAndServe(\":8080\", nil)\n}\n```\n\neditHandler\n\n```\nfunc editHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/edit/\"):]\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    fmt.Fprintf(w, \"<h1>Editing %s</h1>\"+\n        \"<form action=\\\"/save/%s\\\" method=\\\"POST\\\">\"+\n        \"<textarea name=\\\"body\\\">%s</textarea><br>\"+\n        \"<input type=\\\"submit\\\" value=\\\"Save\\\">\"+\n        \"</form>\",\n        p.Title, p.Title, p.Body)\n}\n```\n\nHTMLHTML\n\n## html/templateHTML\n\nhtml/templateGoHTMLHTMLGo\n\nimporthtml/templatefmtfmt\n\n```\nimport (\n\t\"html/template\"\n\t\"io/ioutil\"\n\t\"net/http\"\n)\n```\n\nHTML  edit.html\n\n```\n<h1>Editing {{.Title}}</h1>\n\n<form action=\"/save/{{.Title}}\" method=\"POST\">\n<div><textarea name=\"body\" rows=\"20\" cols=\"80\">{{printf \"%s\" .Body}}</textarea></div>\n<div><input type=\"submit\" value=\"Save\"></div>\n</form>\n```\n\neditHandlerHTML\n\n```\nfunc editHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/edit/\"):]\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    t, _ := template.ParseFiles(\"edit.html\")\n    t.Execute(w, p)\n}\n```\n\ntemplate.ParseFilesedit.html*template.Templatet.ExecuteHTMLhttp.ResponseWriter.Title.Bodyp.Titlep.Body\n\n`printf \"%s\" .Body`stringbytesBodyfmt.Printf\n\nhtml/templateHTML>`&gt;`HTML\n\nview.htmlviewHandler\n\n```\n<h1>{{.Title}}</h1>\n\n<p>[<a href=\"/edit/{{.Title}}\">edit</a>]</p>\n\n<div>{{printf \"%s\" .Body}}</div>\n```\n\nviewHandler\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/view/\"):]\n    p, _ := loadPage(title)\n    t, _ := template.ParseFiles(\"view.html\")\n    t.Execute(w, p)\n}\n```\n\nhandlerHTML\n\n```\nfunc renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {\n    t, _ := template.ParseFiles(tmpl + \".html\")\n    t.Execute(w, p)\n}\n```\n\nhandler\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/view/\"):]\n    p, _ := loadPage(title)\n    renderTemplate(w, \"view\", p)\n}\nfunc editHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/edit/\"):]\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    renderTemplate(w, \"edit\", p)\n}\n```\n\n:)\n\n## \n\n/view/APageThatDoesntExistWebHTMLloadPage\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/view/\"):]\n    p, err := loadPage(title)\n    if err != nil {\n        http.Redirect(w, r, \"/edit/\"+title, http.StatusFound)\n        return\n    }\n    renderTemplate(w, \"view\", p)\n}\n```\n\nhttp.Redirecthttp.StatusFound (302)\n\n## \n\nsaveHandler\n\n```\nfunc saveHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/save/\"):]\n    body := r.FormValue(\"body\")\n    p := &Page{Title: title, Body: []byte(body)}\n    p.save()\n    http.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n```\n\nURLBodyPagesave()/view/\n\nFormValue()string[]bytePage`[]byte(body) `\n\n## \n\n\n\nrenderTemplate\n\n```\nfunc renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {\n    t, err := template.ParseFiles(tmpl + \".html\")\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    err = t.Execute(w, p)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n    }\n}\n```\n\nhttp.ErrorInternal Server ErrorsaveHandler\n\n```\nfunc saveHandler(w http.ResponseWriter, r *http.Request) {\n    title := r.URL.Path[len(\"/save/\"):]\n    body := r.FormValue(\"body\")\n    p := &Page{Title: title, Body: []byte(body)}\n    err := p.save()\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    http.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n```\n\np.save()http.Error\n\n## \n\nwebGorenderTemplateParseFilesParseFiles*TemplateExecuteTemplate\n\nParseFilestemplates\n\n```\nvar templates = template.Must(template.ParseFiles(\"edit.html\", \"view.html\"))\n```\n\ntemplate.MustParseerrnilpanicTemplateMustpanic  \n\nParseFilesstringstringtemplatesParseFiles\n\nrenderTemplatetemplates.ExecuteTemplate\n\n```\nfunc renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {\n    err := templates.ExecuteTemplate(w, tmpl+\".html\", p)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n    }\n}\n```\n\np.s..html\n\n## \n\ntitle\n\nregexpimport\n\n```\nvar validPath = regexp.MustCompile(\"^/(edit|save|view)/([a-zA-Z0-9]+)$\")\n```\n\nMustregexp.MustCompileregexp.RegexpMustCompileCompileMustpanic\n\nvalidPathtitle\n\n```\nfunc getTitle(w http.ResponseWriter, r *http.Request) (string, error) {\n    m := validPath.FindStringSubmatch(r.URL.Path)\n    if m == nil {\n        http.NotFound(w, r)\n        return \"\", errors.New(\"Invalid Page Title\")\n    }\n    return m[2], nil // The title is the second subexpression.\n}\n```\n\nnil404 Not FoundHTTPhandlererrorerrorimporterrors\n\nhandlergetTitle\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request) {\n    title, err := getTitle(w, r)\n    if err != nil {\n        return\n    }\n    p, err := loadPage(title)\n    if err != nil {\n        http.Redirect(w, r, \"/edit/\"+title, http.StatusFound)\n        return\n    }\n    renderTemplate(w, \"view\", p)\n}\n\nfunc editHandler(w http.ResponseWriter, r *http.Request) {\n    title, err := getTitle(w, r)\n    if err != nil {\n        return\n    }\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    renderTemplate(w, \"edit\", p)\n}\n\nfunc saveHandler(w http.ResponseWriter, r *http.Request) {\n    title, err := getTitle(w, r)\n    if err != nil {\n        return\n    }\n    body := r.FormValue(\"body\")\n    p := &Page{Title: title, Body: []byte(body)}\n    err = p.save()\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    http.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n```\n\n## \n\n\n\nhandler\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request, title string)\nfunc editHandler(w http.ResponseWriter, r *http.Request, title string)\nfunc saveHandler(w http.ResponseWriter, r *http.Request, title string)\n```\n\n**`func (http.ResponseWriter, *http.Request, string)`http.HandlerFunc\n\n```\nfunc makeHandler(fn func (http.ResponseWriter, *http.Request, string)) http.HandlerFunc {\n\treturn func(w http.ResponseWriter, r *http.Request) {\n\t\t// Here we will extract the page title from the Request,\n\t\t// and call the provided handler 'fn'\n\t}\n}\n```\n\nreturnfnmakeHandlerfnviewsaveedithandler\n\ngetTitle\n\n```\nfunc makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc {\n    return func(w http.ResponseWriter, r *http.Request) {\n        m := validPath.FindStringSubmatch(r.URL.Path)\n        if m == nil {\n            http.NotFound(w, r)\n            return\n        }\n        fn(w, r, m[2])\n    }\n}\n```\n\nmakeHandlerhttp.ResponseWriterhttp.RequesttitleTitleValidatorResponseWriter http.NotFounderrorResponseWriterRequesttitlefn\n\nmainhandler\n\n```\nfunc main() {\n    http.HandleFunc(\"/view/\", makeHandler(viewHandler))\n    http.HandleFunc(\"/edit/\", makeHandler(editHandler))\n    http.HandleFunc(\"/save/\", makeHandler(saveHandler))\n\n    http.ListenAndServe(\":8080\", nil)\n}\n```\n\ngetTitlehandler\n\n```\nfunc viewHandler(w http.ResponseWriter, r *http.Request, title string) {\n    p, err := loadPage(title)\n    if err != nil {\n        http.Redirect(w, r, \"/edit/\"+title, http.StatusFound)\n        return\n    }\n    renderTemplate(w, \"view\", p)\n}\n\nfunc editHandler(w http.ResponseWriter, r *http.Request, title string) {\n    p, err := loadPage(title)\n    if err != nil {\n        p = &Page{Title: title}\n    }\n    renderTemplate(w, \"edit\", p)\n}\n\nfunc saveHandler(w http.ResponseWriter, r *http.Request, title string) {\n    body := r.FormValue(\"body\")\n    p := &Page{Title: title, Body: []byte(body)}\n    err := p.save()\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    http.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n```\n\n## \n\n\n\n```\n$ go build wiki.go\n$ ./wiki\n```\n\nhttp://localhost:8080/view/ANewPagewiki~\n\n### P.S.\n\n```\n// Copyright 2010 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\npackage main\n\nimport (\n\t\"html/template\"\n\t\"io/ioutil\"\n\t\"net/http\"\n\t\"regexp\"\n)\n\ntype Page struct {\n\tTitle string\n\tBody  []byte\n}\n\nfunc (p *Page) save() error {\n\tfilename := p.Title + \".txt\"\n\treturn ioutil.WriteFile(filename, p.Body, 0600)\n}\n\nfunc loadPage(title string) (*Page, error) {\n\tfilename := title + \".txt\"\n\tbody, err := ioutil.ReadFile(filename)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\treturn &Page{Title: title, Body: body}, nil\n}\n\nfunc viewHandler(w http.ResponseWriter, r *http.Request, title string) {\n\tp, err := loadPage(title)\n\tif err != nil {\n\t\thttp.Redirect(w, r, \"/edit/\"+title, http.StatusFound)\n\t\treturn\n\t}\n\trenderTemplate(w, \"view\", p)\n}\n\nfunc editHandler(w http.ResponseWriter, r *http.Request, title string) {\n\tp, err := loadPage(title)\n\tif err != nil {\n\t\tp = &Page{Title: title}\n\t}\n\trenderTemplate(w, \"edit\", p)\n}\n\nfunc saveHandler(w http.ResponseWriter, r *http.Request, title string) {\n\tbody := r.FormValue(\"body\")\n\tp := &Page{Title: title, Body: []byte(body)}\n\terr := p.save()\n\tif err != nil {\n\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)\n\t\treturn\n\t}\n\thttp.Redirect(w, r, \"/view/\"+title, http.StatusFound)\n}\n\nvar templates = template.Must(template.ParseFiles(\"edit.html\", \"view.html\"))\n\nfunc renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {\n\terr := templates.ExecuteTemplate(w, tmpl+\".html\", p)\n\tif err != nil {\n\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)\n\t}\n}\n\nvar validPath = regexp.MustCompile(\"^/(edit|save|view)/([a-zA-Z0-9]+)$\")\n\nfunc makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc {\n\treturn func(w http.ResponseWriter, r *http.Request) {\n\t\tm := validPath.FindStringSubmatch(r.URL.Path)\n\t\tif m == nil {\n\t\t\thttp.NotFound(w, r)\n\t\t\treturn\n\t\t}\n\t\tfn(w, r, m[2])\n\t}\n}\n\nfunc main() {\n\thttp.HandleFunc(\"/view/\", makeHandler(viewHandler))\n\thttp.HandleFunc(\"/edit/\", makeHandler(editHandler))\n\thttp.HandleFunc(\"/save/\", makeHandler(saveHandler))\n\n\thttp.ListenAndServe(\":8080\", nil)\n}\n```\n\n\n[](http://www.jianyujianyu.com)\n\n","slug":"writing-web-using-go","published":1,"updated":"2017-04-23T13:43:44.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtrq000huoevs130hbc8","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>loadsave</li>\n<li>net/httpweb</li>\n<li>html/templateHTML</li>\n<li>regexp</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>webHTTPHTML</li>\n<li>UNIXDOS</li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FreeBSDLinuxMacOSWindowsGoGoGo</p>\n<p>GOPATHcd</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ mkdir gowiki</div><div class=\"line\">$ cd gowiki</div></pre></td></tr></table></figure>\n<p>wiki.go</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">package main</div><div class=\"line\"></div><div class=\"line\">import (</div><div class=\"line\">\t&quot;fmt&quot;</div><div class=\"line\">\t&quot;io/ioutil&quot;</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<p>Gofmtioutilimport</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>wikiPagePageTitleBodyPage</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">type Page struct &#123;</div><div class=\"line\">    Title string</div><div class=\"line\">    Body  []byte</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>[]bytestring[]byteio[]byte</p>\n<p>PagePagesave</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">func (p *Page) save() error &#123;</div><div class=\"line\">    filename := p.Title + &quot;.txt&quot;</div><div class=\"line\">    return ioutil.WriteFile(filename, p.Body, 0600)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><code>func (p *Page) save() error{}</code>savepPageerror</p>\n<p>txtTitletxtsaveerrorerrorWriteFileWriteFile[]byteerrorPage.save()nilnil</p>\n<p>WriteFile0600txtp.s. 600Unix/Linux</p>\n<p>save()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">func loadPage(title string) *Page &#123;</div><div class=\"line\">    filename := title + &quot;.txt&quot;</div><div class=\"line\">    body, _ := ioutil.ReadFile(filename)</div><div class=\"line\">    return &amp;Page&#123;Title: title, Body: body&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>loadPagetitletxtbodyTitleBodyPage</p>\n<p>io.ReadFile[]byteerrorloadPage  _error</p>\n<p>  errortxt</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">func loadPage(title string) (*Page, error) &#123;</div><div class=\"line\">    filename := title + &quot;.txt&quot;</div><div class=\"line\">    body, err := ioutil.ReadFile(filename)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        return nil, err</div><div class=\"line\">    &#125;</div><div class=\"line\">    return &amp;Page&#123;Title: title, Body: body&#125;, nil</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>Page</p>\n<p>momentmain</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func main() &#123;</div><div class=\"line\">    p1 := &amp;Page&#123;Title: &quot;TestPage&quot;, Body: []byte(&quot;This is a sample Page.&quot;)&#125;</div><div class=\"line\">    p1.save()</div><div class=\"line\">    p2, _ := loadPage(&quot;TestPage&quot;)</div><div class=\"line\">    fmt.Println(string(p2.Body))</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>TestPage.txtp1p2p2Body</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ go build wiki.go</div><div class=\"line\">$ ./wiki</div><div class=\"line\">This is a sample page.</div></pre></td></tr></table></figure>\n<p>windowswiki./</p>\n<h2 id=\"net-http\"><a href=\"#net-http\" class=\"headerlink\" title=\"net/http\"></a>net/http</h2><p>web</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">package main</div><div class=\"line\"></div><div class=\"line\">import (</div><div class=\"line\">    &quot;fmt&quot;</div><div class=\"line\">    &quot;net/http&quot;</div><div class=\"line\">)</div><div class=\"line\"></div><div class=\"line\">func handler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    fmt.Fprintf(w, &quot;Hi there, I love %s!&quot;, r.URL.Path[1:])</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func main() &#123;</div><div class=\"line\">    http.HandleFunc(&quot;/&quot;, handler)</div><div class=\"line\">    http.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>mainhttp.HandleFunchttpweb/handlermainhttp.ListenAndServe8080nilListenAndServe</p>\n<p>handlerhttp.HandlerFunchttp.ResponseWriterhttp.Requesthttp.ResponseWriterHTTPHTTPhttp.RequestHTTPhandlerr.URL.PathURL[1:]r.URL.Path/</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">http://localhost:8080/monkeys</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">Hi there, I love monkeys!</div></pre></td></tr></table></figure>\n<h2 id=\"wikinet-http\"><a href=\"#wikinet-http\" class=\"headerlink\" title=\"wikinet/http\"></a>wikinet/http</h2><p>net/http</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">import (</div><div class=\"line\">\t&quot;fmt&quot;</div><div class=\"line\">\t&quot;io/ioutil&quot;</div><div class=\"line\">\t&quot;net/http&quot;</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<p>handlerviewHandlerwiki/view/URL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/view/&quot;):]</div><div class=\"line\">    p, _ := loadPage(title)</div><div class=\"line\">    fmt.Fprintf(w, &quot;&lt;h1&gt;%s&lt;/h1&gt;&lt;div&gt;%s&lt;/div&gt;&quot;, p.Title, p.Body)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>URLr.URL.Pathtitle[len(/view/):]URL/view//view/pagetxtstringHTMLstringwhttp.ResponseWriter</p>\n<p><em></em>loadPageerror- -</p>\n<p>handlermainhttp</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">func main() &#123;</div><div class=\"line\">    http.HandleFunc(&quot;/view/&quot;, viewHandler)</div><div class=\"line\">    http.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>txttest.txtHello world</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ go build wiki.go</div><div class=\"line\">$ ./wiki</div></pre></td></tr></table></figure>\n<p><a href=\"http://localhost:8080/view/testHello\" target=\"_blank\" rel=\"external\">http://localhost:8080/view/testHello</a> worldtxt</p>\n<h2 id=\"wiki\"><a href=\"#wiki\" class=\"headerlink\" title=\"wiki\"></a>wiki</h2><p>wikiwikiwikihandlereditHandlerwikihandlersaveHandler<br></p>\n<p>main</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func main() &#123;</div><div class=\"line\">    http.HandleFunc(&quot;/view/&quot;, viewHandler)</div><div class=\"line\">    http.HandleFunc(&quot;/edit/&quot;, editHandler)</div><div class=\"line\">    http.HandleFunc(&quot;/save/&quot;, saveHandler)</div><div class=\"line\">    http.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>editHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/edit/&quot;):]</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    fmt.Fprintf(w, &quot;&lt;h1&gt;Editing %s&lt;/h1&gt;&quot;+</div><div class=\"line\">        &quot;&lt;form action=\\&quot;/save/%s\\&quot; method=\\&quot;POST\\&quot;&gt;&quot;+</div><div class=\"line\">        &quot;&lt;textarea name=\\&quot;body\\&quot;&gt;%s&lt;/textarea&gt;&lt;br&gt;&quot;+</div><div class=\"line\">        &quot;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Save\\&quot;&gt;&quot;+</div><div class=\"line\">        &quot;&lt;/form&gt;&quot;,</div><div class=\"line\">        p.Title, p.Title, p.Body)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>HTMLHTML</p>\n<h2 id=\"html-templateHTML\"><a href=\"#html-templateHTML\" class=\"headerlink\" title=\"html/templateHTML\"></a>html/templateHTML</h2><p>html/templateGoHTMLHTMLGo</p>\n<p>importhtml/templatefmtfmt</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">import (</div><div class=\"line\">\t&quot;html/template&quot;</div><div class=\"line\">\t&quot;io/ioutil&quot;</div><div class=\"line\">\t&quot;net/http&quot;</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<p>HTML  edit.html</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;h1&gt;Editing &#123;&#123;.Title&#125;&#125;&lt;/h1&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;form action=&quot;/save/&#123;&#123;.Title&#125;&#125;&quot; method=&quot;POST&quot;&gt;</div><div class=\"line\">&lt;div&gt;&lt;textarea name=&quot;body&quot; rows=&quot;20&quot; cols=&quot;80&quot;&gt;&#123;&#123;printf &quot;%s&quot; .Body&#125;&#125;&lt;/textarea&gt;&lt;/div&gt;</div><div class=\"line\">&lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Save&quot;&gt;&lt;/div&gt;</div><div class=\"line\">&lt;/form&gt;</div></pre></td></tr></table></figure>\n<p>editHandlerHTML</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/edit/&quot;):]</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    t, _ := template.ParseFiles(&quot;edit.html&quot;)</div><div class=\"line\">    t.Execute(w, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>template.ParseFilesedit.html*template.Templatet.ExecuteHTMLhttp.ResponseWriter.Title.Bodyp.Titlep.Body</p>\n<p><code>printf &quot;%s&quot; .Body</code>stringbytesBodyfmt.Printf</p>\n<p>html/templateHTML&gt;<code>&amp;gt;</code>HTML</p>\n<p>view.htmlviewHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;h1&gt;&#123;&#123;.Title&#125;&#125;&lt;/h1&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;p&gt;[&lt;a href=&quot;/edit/&#123;&#123;.Title&#125;&#125;&quot;&gt;edit&lt;/a&gt;]&lt;/p&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;div&gt;&#123;&#123;printf &quot;%s&quot; .Body&#125;&#125;&lt;/div&gt;</div></pre></td></tr></table></figure>\n<p>viewHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/view/&quot;):]</div><div class=\"line\">    p, _ := loadPage(title)</div><div class=\"line\">    t, _ := template.ParseFiles(&quot;view.html&quot;)</div><div class=\"line\">    t.Execute(w, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>handlerHTML</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) &#123;</div><div class=\"line\">    t, _ := template.ParseFiles(tmpl + &quot;.html&quot;)</div><div class=\"line\">    t.Execute(w, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>handler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/view/&quot;):]</div><div class=\"line\">    p, _ := loadPage(title)</div><div class=\"line\">    renderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/edit/&quot;):]</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;edit&quot;, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>:)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>/view/APageThatDoesntExistWebHTMLloadPage</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/view/&quot;):]</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Redirect(w, r, &quot;/edit/&quot;+title, http.StatusFound)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>http.Redirecthttp.StatusFound (302)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>saveHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/save/&quot;):]</div><div class=\"line\">    body := r.FormValue(&quot;body&quot;)</div><div class=\"line\">    p := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">    p.save()</div><div class=\"line\">    http.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>URLBodyPagesave()/view/</p>\n<p>FormValue()string[]bytePage<code>[]byte(body)</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>renderTemplate</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) &#123;</div><div class=\"line\">    t, err := template.ParseFiles(tmpl + &quot;.html&quot;)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    err = t.Execute(w, p)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>http.ErrorInternal Server ErrorsaveHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/save/&quot;):]</div><div class=\"line\">    body := r.FormValue(&quot;body&quot;)</div><div class=\"line\">    p := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">    err := p.save()</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    http.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>p.save()http.Error</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>webGorenderTemplateParseFilesParseFiles*TemplateExecuteTemplate</p>\n<p>ParseFilestemplates</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">var templates = template.Must(template.ParseFiles(&quot;edit.html&quot;, &quot;view.html&quot;))</div></pre></td></tr></table></figure>\n<p>template.MustParseerrnilpanicTemplateMustpanic  </p>\n<p>ParseFilesstringstringtemplatesParseFiles</p>\n<p>renderTemplatetemplates.ExecuteTemplate</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) &#123;</div><div class=\"line\">    err := templates.ExecuteTemplate(w, tmpl+&quot;.html&quot;, p)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>p.s..html</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>title</p>\n<p>regexpimport</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">var validPath = regexp.MustCompile(&quot;^/(edit|save|view)/([a-zA-Z0-9]+)$&quot;)</div></pre></td></tr></table></figure>\n<p>Mustregexp.MustCompileregexp.RegexpMustCompileCompileMustpanic</p>\n<p>validPathtitle</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">func getTitle(w http.ResponseWriter, r *http.Request) (string, error) &#123;</div><div class=\"line\">    m := validPath.FindStringSubmatch(r.URL.Path)</div><div class=\"line\">    if m == nil &#123;</div><div class=\"line\">        http.NotFound(w, r)</div><div class=\"line\">        return &quot;&quot;, errors.New(&quot;Invalid Page Title&quot;)</div><div class=\"line\">    &#125;</div><div class=\"line\">    return m[2], nil // The title is the second subexpression.</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>nil404 Not FoundHTTPhandlererrorerrorimporterrors</p>\n<p>handlergetTitle</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title, err := getTitle(w, r)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Redirect(w, r, &quot;/edit/&quot;+title, http.StatusFound)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title, err := getTitle(w, r)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;edit&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title, err := getTitle(w, r)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    body := r.FormValue(&quot;body&quot;)</div><div class=\"line\">    p := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">    err = p.save()</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    http.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>handler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request, title string)</div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request, title string)</div><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request, title string)</div></pre></td></tr></table></figure>\n<p><em></em><code>func (http.ResponseWriter, *http.Request, string)</code>http.HandlerFunc</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func makeHandler(fn func (http.ResponseWriter, *http.Request, string)) http.HandlerFunc &#123;</div><div class=\"line\">\treturn func(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">\t\t// Here we will extract the page title from the Request,</div><div class=\"line\">\t\t// and call the provided handler &apos;fn&apos;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>returnfnmakeHandlerfnviewsaveedithandler</p>\n<p>getTitle</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">func makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc &#123;</div><div class=\"line\">    return func(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">        m := validPath.FindStringSubmatch(r.URL.Path)</div><div class=\"line\">        if m == nil &#123;</div><div class=\"line\">            http.NotFound(w, r)</div><div class=\"line\">            return</div><div class=\"line\">        &#125;</div><div class=\"line\">        fn(w, r, m[2])</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>makeHandlerhttp.ResponseWriterhttp.RequesttitleTitleValidatorResponseWriter http.NotFounderrorResponseWriterRequesttitlefn</p>\n<p>mainhandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">func main() &#123;</div><div class=\"line\">    http.HandleFunc(&quot;/view/&quot;, makeHandler(viewHandler))</div><div class=\"line\">    http.HandleFunc(&quot;/edit/&quot;, makeHandler(editHandler))</div><div class=\"line\">    http.HandleFunc(&quot;/save/&quot;, makeHandler(saveHandler))</div><div class=\"line\"></div><div class=\"line\">    http.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>getTitlehandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Redirect(w, r, &quot;/edit/&quot;+title, http.StatusFound)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;edit&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">    body := r.FormValue(&quot;body&quot;)</div><div class=\"line\">    p := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">    err := p.save()</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    http.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ go build wiki.go</div><div class=\"line\">$ ./wiki</div></pre></td></tr></table></figure>\n<p><a href=\"http://localhost:8080/view/ANewPagewiki~\" target=\"_blank\" rel=\"external\">http://localhost:8080/view/ANewPagewiki~</a></p>\n<h3 id=\"P-S-\"><a href=\"#P-S-\" class=\"headerlink\" title=\"P.S.\"></a>P.S.</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div></pre></td><td class=\"code\"><pre><div class=\"line\">// Copyright 2010 The Go Authors. All rights reserved.</div><div class=\"line\">// Use of this source code is governed by a BSD-style</div><div class=\"line\">// license that can be found in the LICENSE file.</div><div class=\"line\"></div><div class=\"line\">package main</div><div class=\"line\"></div><div class=\"line\">import (</div><div class=\"line\">\t&quot;html/template&quot;</div><div class=\"line\">\t&quot;io/ioutil&quot;</div><div class=\"line\">\t&quot;net/http&quot;</div><div class=\"line\">\t&quot;regexp&quot;</div><div class=\"line\">)</div><div class=\"line\"></div><div class=\"line\">type Page struct &#123;</div><div class=\"line\">\tTitle string</div><div class=\"line\">\tBody  []byte</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func (p *Page) save() error &#123;</div><div class=\"line\">\tfilename := p.Title + &quot;.txt&quot;</div><div class=\"line\">\treturn ioutil.WriteFile(filename, p.Body, 0600)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func loadPage(title string) (*Page, error) &#123;</div><div class=\"line\">\tfilename := title + &quot;.txt&quot;</div><div class=\"line\">\tbody, err := ioutil.ReadFile(filename)</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\treturn nil, err</div><div class=\"line\">\t&#125;</div><div class=\"line\">\treturn &amp;Page&#123;Title: title, Body: body&#125;, nil</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">\tp, err := loadPage(title)</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\thttp.Redirect(w, r, &quot;/edit/&quot;+title, http.StatusFound)</div><div class=\"line\">\t\treturn</div><div class=\"line\">\t&#125;</div><div class=\"line\">\trenderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">\tp, err := loadPage(title)</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\tp = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\trenderTemplate(w, &quot;edit&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">\tbody := r.FormValue(&quot;body&quot;)</div><div class=\"line\">\tp := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">\terr := p.save()</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">\t\treturn</div><div class=\"line\">\t&#125;</div><div class=\"line\">\thttp.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">var templates = template.Must(template.ParseFiles(&quot;edit.html&quot;, &quot;view.html&quot;))</div><div class=\"line\"></div><div class=\"line\">func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) &#123;</div><div class=\"line\">\terr := templates.ExecuteTemplate(w, tmpl+&quot;.html&quot;, p)</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">var validPath = regexp.MustCompile(&quot;^/(edit|save|view)/([a-zA-Z0-9]+)$&quot;)</div><div class=\"line\"></div><div class=\"line\">func makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc &#123;</div><div class=\"line\">\treturn func(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">\t\tm := validPath.FindStringSubmatch(r.URL.Path)</div><div class=\"line\">\t\tif m == nil &#123;</div><div class=\"line\">\t\t\thttp.NotFound(w, r)</div><div class=\"line\">\t\t\treturn</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\tfn(w, r, m[2])</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func main() &#123;</div><div class=\"line\">\thttp.HandleFunc(&quot;/view/&quot;, makeHandler(viewHandler))</div><div class=\"line\">\thttp.HandleFunc(&quot;/edit/&quot;, makeHandler(editHandler))</div><div class=\"line\">\thttp.HandleFunc(&quot;/save/&quot;, makeHandler(saveHandler))</div><div class=\"line\"></div><div class=\"line\">\thttp.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>loadsave</li>\n<li>net/httpweb</li>\n<li>html/templateHTML</li>\n<li>regexp</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>webHTTPHTML</li>\n<li>UNIXDOS</li>\n</ul>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FreeBSDLinuxMacOSWindowsGoGoGo</p>\n<p>GOPATHcd</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ mkdir gowiki</div><div class=\"line\">$ cd gowiki</div></pre></td></tr></table></figure>\n<p>wiki.go</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">package main</div><div class=\"line\"></div><div class=\"line\">import (</div><div class=\"line\">\t&quot;fmt&quot;</div><div class=\"line\">\t&quot;io/ioutil&quot;</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<p>Gofmtioutilimport</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>wikiPagePageTitleBodyPage</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">type Page struct &#123;</div><div class=\"line\">    Title string</div><div class=\"line\">    Body  []byte</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>[]bytestring[]byteio[]byte</p>\n<p>PagePagesave</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">func (p *Page) save() error &#123;</div><div class=\"line\">    filename := p.Title + &quot;.txt&quot;</div><div class=\"line\">    return ioutil.WriteFile(filename, p.Body, 0600)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><code>func (p *Page) save() error{}</code>savepPageerror</p>\n<p>txtTitletxtsaveerrorerrorWriteFileWriteFile[]byteerrorPage.save()nilnil</p>\n<p>WriteFile0600txtp.s. 600Unix/Linux</p>\n<p>save()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">func loadPage(title string) *Page &#123;</div><div class=\"line\">    filename := title + &quot;.txt&quot;</div><div class=\"line\">    body, _ := ioutil.ReadFile(filename)</div><div class=\"line\">    return &amp;Page&#123;Title: title, Body: body&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>loadPagetitletxtbodyTitleBodyPage</p>\n<p>io.ReadFile[]byteerrorloadPage  _error</p>\n<p>  errortxt</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">func loadPage(title string) (*Page, error) &#123;</div><div class=\"line\">    filename := title + &quot;.txt&quot;</div><div class=\"line\">    body, err := ioutil.ReadFile(filename)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        return nil, err</div><div class=\"line\">    &#125;</div><div class=\"line\">    return &amp;Page&#123;Title: title, Body: body&#125;, nil</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>Page</p>\n<p>momentmain</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func main() &#123;</div><div class=\"line\">    p1 := &amp;Page&#123;Title: &quot;TestPage&quot;, Body: []byte(&quot;This is a sample Page.&quot;)&#125;</div><div class=\"line\">    p1.save()</div><div class=\"line\">    p2, _ := loadPage(&quot;TestPage&quot;)</div><div class=\"line\">    fmt.Println(string(p2.Body))</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>TestPage.txtp1p2p2Body</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ go build wiki.go</div><div class=\"line\">$ ./wiki</div><div class=\"line\">This is a sample page.</div></pre></td></tr></table></figure>\n<p>windowswiki./</p>\n<h2 id=\"net-http\"><a href=\"#net-http\" class=\"headerlink\" title=\"net/http\"></a>net/http</h2><p>web</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">package main</div><div class=\"line\"></div><div class=\"line\">import (</div><div class=\"line\">    &quot;fmt&quot;</div><div class=\"line\">    &quot;net/http&quot;</div><div class=\"line\">)</div><div class=\"line\"></div><div class=\"line\">func handler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    fmt.Fprintf(w, &quot;Hi there, I love %s!&quot;, r.URL.Path[1:])</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func main() &#123;</div><div class=\"line\">    http.HandleFunc(&quot;/&quot;, handler)</div><div class=\"line\">    http.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>mainhttp.HandleFunchttpweb/handlermainhttp.ListenAndServe8080nilListenAndServe</p>\n<p>handlerhttp.HandlerFunchttp.ResponseWriterhttp.Requesthttp.ResponseWriterHTTPHTTPhttp.RequestHTTPhandlerr.URL.PathURL[1:]r.URL.Path/</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">http://localhost:8080/monkeys</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">Hi there, I love monkeys!</div></pre></td></tr></table></figure>\n<h2 id=\"wikinet-http\"><a href=\"#wikinet-http\" class=\"headerlink\" title=\"wikinet/http\"></a>wikinet/http</h2><p>net/http</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">import (</div><div class=\"line\">\t&quot;fmt&quot;</div><div class=\"line\">\t&quot;io/ioutil&quot;</div><div class=\"line\">\t&quot;net/http&quot;</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<p>handlerviewHandlerwiki/view/URL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/view/&quot;):]</div><div class=\"line\">    p, _ := loadPage(title)</div><div class=\"line\">    fmt.Fprintf(w, &quot;&lt;h1&gt;%s&lt;/h1&gt;&lt;div&gt;%s&lt;/div&gt;&quot;, p.Title, p.Body)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>URLr.URL.Pathtitle[len(/view/):]URL/view//view/pagetxtstringHTMLstringwhttp.ResponseWriter</p>\n<p><em></em>loadPageerror- -</p>\n<p>handlermainhttp</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">func main() &#123;</div><div class=\"line\">    http.HandleFunc(&quot;/view/&quot;, viewHandler)</div><div class=\"line\">    http.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>txttest.txtHello world</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ go build wiki.go</div><div class=\"line\">$ ./wiki</div></pre></td></tr></table></figure>\n<p><a href=\"http://localhost:8080/view/testHello\">http://localhost:8080/view/testHello</a> worldtxt</p>\n<h2 id=\"wiki\"><a href=\"#wiki\" class=\"headerlink\" title=\"wiki\"></a>wiki</h2><p>wikiwikiwikihandlereditHandlerwikihandlersaveHandler<br></p>\n<p>main</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func main() &#123;</div><div class=\"line\">    http.HandleFunc(&quot;/view/&quot;, viewHandler)</div><div class=\"line\">    http.HandleFunc(&quot;/edit/&quot;, editHandler)</div><div class=\"line\">    http.HandleFunc(&quot;/save/&quot;, saveHandler)</div><div class=\"line\">    http.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>editHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/edit/&quot;):]</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    fmt.Fprintf(w, &quot;&lt;h1&gt;Editing %s&lt;/h1&gt;&quot;+</div><div class=\"line\">        &quot;&lt;form action=\\&quot;/save/%s\\&quot; method=\\&quot;POST\\&quot;&gt;&quot;+</div><div class=\"line\">        &quot;&lt;textarea name=\\&quot;body\\&quot;&gt;%s&lt;/textarea&gt;&lt;br&gt;&quot;+</div><div class=\"line\">        &quot;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Save\\&quot;&gt;&quot;+</div><div class=\"line\">        &quot;&lt;/form&gt;&quot;,</div><div class=\"line\">        p.Title, p.Title, p.Body)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>HTMLHTML</p>\n<h2 id=\"html-templateHTML\"><a href=\"#html-templateHTML\" class=\"headerlink\" title=\"html/templateHTML\"></a>html/templateHTML</h2><p>html/templateGoHTMLHTMLGo</p>\n<p>importhtml/templatefmtfmt</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">import (</div><div class=\"line\">\t&quot;html/template&quot;</div><div class=\"line\">\t&quot;io/ioutil&quot;</div><div class=\"line\">\t&quot;net/http&quot;</div><div class=\"line\">)</div></pre></td></tr></table></figure>\n<p>HTML  edit.html</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;h1&gt;Editing &#123;&#123;.Title&#125;&#125;&lt;/h1&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;form action=&quot;/save/&#123;&#123;.Title&#125;&#125;&quot; method=&quot;POST&quot;&gt;</div><div class=\"line\">&lt;div&gt;&lt;textarea name=&quot;body&quot; rows=&quot;20&quot; cols=&quot;80&quot;&gt;&#123;&#123;printf &quot;%s&quot; .Body&#125;&#125;&lt;/textarea&gt;&lt;/div&gt;</div><div class=\"line\">&lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Save&quot;&gt;&lt;/div&gt;</div><div class=\"line\">&lt;/form&gt;</div></pre></td></tr></table></figure>\n<p>editHandlerHTML</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/edit/&quot;):]</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    t, _ := template.ParseFiles(&quot;edit.html&quot;)</div><div class=\"line\">    t.Execute(w, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>template.ParseFilesedit.html*template.Templatet.ExecuteHTMLhttp.ResponseWriter.Title.Bodyp.Titlep.Body</p>\n<p><code>printf &quot;%s&quot; .Body</code>stringbytesBodyfmt.Printf</p>\n<p>html/templateHTML&gt;<code>&amp;gt;</code>HTML</p>\n<p>view.htmlviewHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;h1&gt;&#123;&#123;.Title&#125;&#125;&lt;/h1&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;p&gt;[&lt;a href=&quot;/edit/&#123;&#123;.Title&#125;&#125;&quot;&gt;edit&lt;/a&gt;]&lt;/p&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;div&gt;&#123;&#123;printf &quot;%s&quot; .Body&#125;&#125;&lt;/div&gt;</div></pre></td></tr></table></figure>\n<p>viewHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/view/&quot;):]</div><div class=\"line\">    p, _ := loadPage(title)</div><div class=\"line\">    t, _ := template.ParseFiles(&quot;view.html&quot;)</div><div class=\"line\">    t.Execute(w, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>handlerHTML</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) &#123;</div><div class=\"line\">    t, _ := template.ParseFiles(tmpl + &quot;.html&quot;)</div><div class=\"line\">    t.Execute(w, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>handler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/view/&quot;):]</div><div class=\"line\">    p, _ := loadPage(title)</div><div class=\"line\">    renderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/edit/&quot;):]</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;edit&quot;, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>:)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>/view/APageThatDoesntExistWebHTMLloadPage</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/view/&quot;):]</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Redirect(w, r, &quot;/edit/&quot;+title, http.StatusFound)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>http.Redirecthttp.StatusFound (302)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>saveHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/save/&quot;):]</div><div class=\"line\">    body := r.FormValue(&quot;body&quot;)</div><div class=\"line\">    p := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">    p.save()</div><div class=\"line\">    http.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>URLBodyPagesave()/view/</p>\n<p>FormValue()string[]bytePage<code>[]byte(body)</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>renderTemplate</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) &#123;</div><div class=\"line\">    t, err := template.ParseFiles(tmpl + &quot;.html&quot;)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    err = t.Execute(w, p)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>http.ErrorInternal Server ErrorsaveHandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title := r.URL.Path[len(&quot;/save/&quot;):]</div><div class=\"line\">    body := r.FormValue(&quot;body&quot;)</div><div class=\"line\">    p := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">    err := p.save()</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    http.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>p.save()http.Error</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>webGorenderTemplateParseFilesParseFiles*TemplateExecuteTemplate</p>\n<p>ParseFilestemplates</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">var templates = template.Must(template.ParseFiles(&quot;edit.html&quot;, &quot;view.html&quot;))</div></pre></td></tr></table></figure>\n<p>template.MustParseerrnilpanicTemplateMustpanic  </p>\n<p>ParseFilesstringstringtemplatesParseFiles</p>\n<p>renderTemplatetemplates.ExecuteTemplate</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) &#123;</div><div class=\"line\">    err := templates.ExecuteTemplate(w, tmpl+&quot;.html&quot;, p)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>p.s..html</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>title</p>\n<p>regexpimport</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">var validPath = regexp.MustCompile(&quot;^/(edit|save|view)/([a-zA-Z0-9]+)$&quot;)</div></pre></td></tr></table></figure>\n<p>Mustregexp.MustCompileregexp.RegexpMustCompileCompileMustpanic</p>\n<p>validPathtitle</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">func getTitle(w http.ResponseWriter, r *http.Request) (string, error) &#123;</div><div class=\"line\">    m := validPath.FindStringSubmatch(r.URL.Path)</div><div class=\"line\">    if m == nil &#123;</div><div class=\"line\">        http.NotFound(w, r)</div><div class=\"line\">        return &quot;&quot;, errors.New(&quot;Invalid Page Title&quot;)</div><div class=\"line\">    &#125;</div><div class=\"line\">    return m[2], nil // The title is the second subexpression.</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>nil404 Not FoundHTTPhandlererrorerrorimporterrors</p>\n<p>handlergetTitle</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title, err := getTitle(w, r)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Redirect(w, r, &quot;/edit/&quot;+title, http.StatusFound)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title, err := getTitle(w, r)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;edit&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">    title, err := getTitle(w, r)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    body := r.FormValue(&quot;body&quot;)</div><div class=\"line\">    p := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">    err = p.save()</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    http.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>handler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request, title string)</div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request, title string)</div><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request, title string)</div></pre></td></tr></table></figure>\n<p><em></em><code>func (http.ResponseWriter, *http.Request, string)</code>http.HandlerFunc</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">func makeHandler(fn func (http.ResponseWriter, *http.Request, string)) http.HandlerFunc &#123;</div><div class=\"line\">\treturn func(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">\t\t// Here we will extract the page title from the Request,</div><div class=\"line\">\t\t// and call the provided handler &apos;fn&apos;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>returnfnmakeHandlerfnviewsaveedithandler</p>\n<p>getTitle</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">func makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc &#123;</div><div class=\"line\">    return func(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">        m := validPath.FindStringSubmatch(r.URL.Path)</div><div class=\"line\">        if m == nil &#123;</div><div class=\"line\">            http.NotFound(w, r)</div><div class=\"line\">            return</div><div class=\"line\">        &#125;</div><div class=\"line\">        fn(w, r, m[2])</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>makeHandlerhttp.ResponseWriterhttp.RequesttitleTitleValidatorResponseWriter http.NotFounderrorResponseWriterRequesttitlefn</p>\n<p>mainhandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">func main() &#123;</div><div class=\"line\">    http.HandleFunc(&quot;/view/&quot;, makeHandler(viewHandler))</div><div class=\"line\">    http.HandleFunc(&quot;/edit/&quot;, makeHandler(editHandler))</div><div class=\"line\">    http.HandleFunc(&quot;/save/&quot;, makeHandler(saveHandler))</div><div class=\"line\"></div><div class=\"line\">    http.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>getTitlehandler</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Redirect(w, r, &quot;/edit/&quot;+title, http.StatusFound)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">    p, err := loadPage(title)</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        p = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    renderTemplate(w, &quot;edit&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">    body := r.FormValue(&quot;body&quot;)</div><div class=\"line\">    p := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">    err := p.save()</div><div class=\"line\">    if err != nil &#123;</div><div class=\"line\">        http.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">        return</div><div class=\"line\">    &#125;</div><div class=\"line\">    http.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ go build wiki.go</div><div class=\"line\">$ ./wiki</div></pre></td></tr></table></figure>\n<p><a href=\"http://localhost:8080/view/ANewPagewiki~\">http://localhost:8080/view/ANewPagewiki~</a></p>\n<h3 id=\"P-S-\"><a href=\"#P-S-\" class=\"headerlink\" title=\"P.S.\"></a>P.S.</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div></pre></td><td class=\"code\"><pre><div class=\"line\">// Copyright 2010 The Go Authors. All rights reserved.</div><div class=\"line\">// Use of this source code is governed by a BSD-style</div><div class=\"line\">// license that can be found in the LICENSE file.</div><div class=\"line\"></div><div class=\"line\">package main</div><div class=\"line\"></div><div class=\"line\">import (</div><div class=\"line\">\t&quot;html/template&quot;</div><div class=\"line\">\t&quot;io/ioutil&quot;</div><div class=\"line\">\t&quot;net/http&quot;</div><div class=\"line\">\t&quot;regexp&quot;</div><div class=\"line\">)</div><div class=\"line\"></div><div class=\"line\">type Page struct &#123;</div><div class=\"line\">\tTitle string</div><div class=\"line\">\tBody  []byte</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func (p *Page) save() error &#123;</div><div class=\"line\">\tfilename := p.Title + &quot;.txt&quot;</div><div class=\"line\">\treturn ioutil.WriteFile(filename, p.Body, 0600)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func loadPage(title string) (*Page, error) &#123;</div><div class=\"line\">\tfilename := title + &quot;.txt&quot;</div><div class=\"line\">\tbody, err := ioutil.ReadFile(filename)</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\treturn nil, err</div><div class=\"line\">\t&#125;</div><div class=\"line\">\treturn &amp;Page&#123;Title: title, Body: body&#125;, nil</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func viewHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">\tp, err := loadPage(title)</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\thttp.Redirect(w, r, &quot;/edit/&quot;+title, http.StatusFound)</div><div class=\"line\">\t\treturn</div><div class=\"line\">\t&#125;</div><div class=\"line\">\trenderTemplate(w, &quot;view&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func editHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">\tp, err := loadPage(title)</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\tp = &amp;Page&#123;Title: title&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\trenderTemplate(w, &quot;edit&quot;, p)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func saveHandler(w http.ResponseWriter, r *http.Request, title string) &#123;</div><div class=\"line\">\tbody := r.FormValue(&quot;body&quot;)</div><div class=\"line\">\tp := &amp;Page&#123;Title: title, Body: []byte(body)&#125;</div><div class=\"line\">\terr := p.save()</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">\t\treturn</div><div class=\"line\">\t&#125;</div><div class=\"line\">\thttp.Redirect(w, r, &quot;/view/&quot;+title, http.StatusFound)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">var templates = template.Must(template.ParseFiles(&quot;edit.html&quot;, &quot;view.html&quot;))</div><div class=\"line\"></div><div class=\"line\">func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) &#123;</div><div class=\"line\">\terr := templates.ExecuteTemplate(w, tmpl+&quot;.html&quot;, p)</div><div class=\"line\">\tif err != nil &#123;</div><div class=\"line\">\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">var validPath = regexp.MustCompile(&quot;^/(edit|save|view)/([a-zA-Z0-9]+)$&quot;)</div><div class=\"line\"></div><div class=\"line\">func makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc &#123;</div><div class=\"line\">\treturn func(w http.ResponseWriter, r *http.Request) &#123;</div><div class=\"line\">\t\tm := validPath.FindStringSubmatch(r.URL.Path)</div><div class=\"line\">\t\tif m == nil &#123;</div><div class=\"line\">\t\t\thttp.NotFound(w, r)</div><div class=\"line\">\t\t\treturn</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\tfn(w, r, m[2])</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">func main() &#123;</div><div class=\"line\">\thttp.HandleFunc(&quot;/view/&quot;, makeHandler(viewHandler))</div><div class=\"line\">\thttp.HandleFunc(&quot;/edit/&quot;, makeHandler(editHandler))</div><div class=\"line\">\thttp.HandleFunc(&quot;/save/&quot;, makeHandler(saveHandler))</div><div class=\"line\"></div><div class=\"line\">\thttp.ListenAndServe(&quot;:8080&quot;, nil)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>"},{"title":"2Nginx1W","date":"2016-05-12T23:47:00.000Z","_content":"\n\n## \nNginx10W10WCPUIOXEONCPUGMC\n\n- CPU4196MHZi3\n- 1G\n- IOMSDIO\n\n\n1.SDIOSWAPCPU\n2.1G\n3.CPUlow\n\n\n\n<!-- more -->\n\n## Raspbian\n\n###  somaxconn\necho 50000 > /proc/sys/net/core/somaxconn\n### tcp\necho 1 > /proc/sys/net/ipv4/tcp_tw_recycle\n\n### tcp\necho 1 > /proc/sys/net/ipv4/tcp_tw_reuse\n### \necho 0 > /proc/sys/net/ipv4/tcp_syncookies\n\n### \nulimit -n 50000\n\n\n![](http://source.jianyujianyu.com/2016-05-13-14631237005719.jpg)\n\np.s.50000\n\n\nfs.file-max = 999999\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_keepalive_time = 600\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_max_tw_buckets = 5000\nnet.ipv4.ip_local_port_range = 1024 61000\nnet.ipv4.tcp_rmem = 4096 32768 262142\nnet.ipv4.tcp_wmem = 4096 32768 262142\nnet.core.netdev_max_backlog = 8096\nnet.core.rmem_default = 262144\nnet.core.wmem_default = 262144\nnet.core.rmem_max = 2097152\nnet.core.wmem_max = 2097152\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.tcp_max_syn.backlog=1024\n\n\n\n## Nginx\n\n\n### worker_processesCPU\nCPUworkerCPUworker\n![](http://source.jianyujianyu.com/2016-05-13-14631243899899.jpg)\n\n\n### worker_rlimit_nofile\nnginx\n### worker_connections\nNginxworker\n\n![](http://source.jianyujianyu.com/2016-05-13-14631242372230.jpg)\n\n### \n8PythonTornadoTomcattomcat1G\n![](http://source.jianyujianyu.com/2016-05-13-14631246342501.jpg)\n\n\n## \nPythonTornadodemoblogblog\n- \n- \n- \n\nblog\n![](http://source.jianyujianyu.com/2016-05-13-14631248722938.jpg)\n\n\n## ApacheBench\nablinuxMac- -\n\nab -c 8000 -n 50000 http://127.0.0.1/\n1\n\n\n![](http://source.jianyujianyu.com/2016-05-13-14631251132157.jpg)\n\n\n- 5\n- \n- ProcessingWaiting\n\n180005000~\n\n\n\n[](http://www.jianyujianyu.com)\n\n\n\n\n\n","source":"_posts/10k-parallel-on-raspberry2.md","raw":"title: 2Nginx1W\ncategories: Raspberry\ntags: [,Raspberry,]\ndate: 2016-05-13 07:47:00\n---\n\n\n## \nNginx10W10WCPUIOXEONCPUGMC\n\n- CPU4196MHZi3\n- 1G\n- IOMSDIO\n\n\n1.SDIOSWAPCPU\n2.1G\n3.CPUlow\n\n\n\n<!-- more -->\n\n## Raspbian\n\n###  somaxconn\necho 50000 > /proc/sys/net/core/somaxconn\n### tcp\necho 1 > /proc/sys/net/ipv4/tcp_tw_recycle\n\n### tcp\necho 1 > /proc/sys/net/ipv4/tcp_tw_reuse\n### \necho 0 > /proc/sys/net/ipv4/tcp_syncookies\n\n### \nulimit -n 50000\n\n\n![](http://source.jianyujianyu.com/2016-05-13-14631237005719.jpg)\n\np.s.50000\n\n\nfs.file-max = 999999\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_keepalive_time = 600\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_max_tw_buckets = 5000\nnet.ipv4.ip_local_port_range = 1024 61000\nnet.ipv4.tcp_rmem = 4096 32768 262142\nnet.ipv4.tcp_wmem = 4096 32768 262142\nnet.core.netdev_max_backlog = 8096\nnet.core.rmem_default = 262144\nnet.core.wmem_default = 262144\nnet.core.rmem_max = 2097152\nnet.core.wmem_max = 2097152\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.tcp_max_syn.backlog=1024\n\n\n\n## Nginx\n\n\n### worker_processesCPU\nCPUworkerCPUworker\n![](http://source.jianyujianyu.com/2016-05-13-14631243899899.jpg)\n\n\n### worker_rlimit_nofile\nnginx\n### worker_connections\nNginxworker\n\n![](http://source.jianyujianyu.com/2016-05-13-14631242372230.jpg)\n\n### \n8PythonTornadoTomcattomcat1G\n![](http://source.jianyujianyu.com/2016-05-13-14631246342501.jpg)\n\n\n## \nPythonTornadodemoblogblog\n- \n- \n- \n\nblog\n![](http://source.jianyujianyu.com/2016-05-13-14631248722938.jpg)\n\n\n## ApacheBench\nablinuxMac- -\n\nab -c 8000 -n 50000 http://127.0.0.1/\n1\n\n\n![](http://source.jianyujianyu.com/2016-05-13-14631251132157.jpg)\n\n\n- 5\n- \n- ProcessingWaiting\n\n180005000~\n\n\n\n[](http://www.jianyujianyu.com)\n\n\n\n\n\n","slug":"10k-parallel-on-raspberry2","published":1,"updated":"2017-04-23T13:42:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtrr000juoev1c2quckc","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Nginx10W10WCPUIOXEONCPUGMC</p>\n<ul>\n<li>CPU4196MHZi3</li>\n<li>1G</li>\n<li>IOMSDIO</li>\n</ul>\n<p><br>1.SDIOSWAPCPU<br>2.1G<br>3.CPUlow</p>\n<p></p>\n<a id=\"more\"></a>\n<h2 id=\"Raspbian\"><a href=\"#Raspbian\" class=\"headerlink\" title=\"Raspbian\"></a>Raspbian</h2><h3 id=\"-somaxconn\"><a href=\"#-somaxconn\" class=\"headerlink\" title=\" somaxconn\"></a> somaxconn</h3><p>echo 50000 &gt; /proc/sys/net/core/somaxconn</p>\n<h3 id=\"tcp\"><a href=\"#tcp\" class=\"headerlink\" title=\"tcp\"></a>tcp</h3><p>echo 1 &gt; /proc/sys/net/ipv4/tcp_tw_recycle</p>\n<h3 id=\"tcp\"><a href=\"#tcp\" class=\"headerlink\" title=\"tcp\"></a>tcp</h3><p>echo 1 &gt; /proc/sys/net/ipv4/tcp_tw_reuse </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>echo 0 &gt; /proc/sys/net/ipv4/tcp_syncookies</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ulimit -n 50000</p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631237005719.jpg\" alt=\"\"></p>\n<p>p.s.50000</p>\n<p><br>fs.file-max = 999999<br>net.ipv4.tcp_tw_reuse = 1<br>net.ipv4.tcp_keepalive_time = 600<br>net.ipv4.tcp_fin_timeout = 30<br>net.ipv4.tcp_max_tw_buckets = 5000<br>net.ipv4.ip_local_port_range = 1024    61000<br>net.ipv4.tcp_rmem = 4096 32768 262142<br>net.ipv4.tcp_wmem = 4096 32768 262142<br>net.core.netdev_max_backlog = 8096<br>net.core.rmem_default = 262144<br>net.core.wmem_default = 262144<br>net.core.rmem_max = 2097152<br>net.core.wmem_max = 2097152<br>net.ipv4.tcp_syncookies = 1<br>net.ipv4.tcp_max_syn.backlog=1024<br></p>\n<h2 id=\"Nginx\"><a href=\"#Nginx\" class=\"headerlink\" title=\"Nginx\"></a>Nginx</h2><p></p>\n<h3 id=\"worker-processesCPU\"><a href=\"#worker-processesCPU\" class=\"headerlink\" title=\"worker_processesCPU\"></a>worker_processesCPU</h3><p>CPUworkerCPUworker<br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631243899899.jpg\" alt=\"\"></p>\n<h3 id=\"worker-rlimit-nofile\"><a href=\"#worker-rlimit-nofile\" class=\"headerlink\" title=\"worker_rlimit_nofile\"></a>worker_rlimit_nofile</h3><p>nginx</p>\n<h3 id=\"worker-connections\"><a href=\"#worker-connections\" class=\"headerlink\" title=\"worker_connections\"></a>worker_connections</h3><p>Nginxworker</p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-13-14631242372230.jpg\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>8PythonTornadoTomcattomcat1G<br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631246342501.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>PythonTornadodemoblogblog</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>blog<br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631248722938.jpg\" alt=\"\"></p>\n<h2 id=\"ApacheBench\"><a href=\"#ApacheBench\" class=\"headerlink\" title=\"ApacheBench\"></a>ApacheBench</h2><p>ablinuxMac- -</p>\n<p>ab -c 8000 -n 50000  <a href=\"http://127.0.0.1/\" target=\"_blank\" rel=\"external\">http://127.0.0.1/</a><br>1</p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631251132157.jpg\" alt=\"\"></p>\n<p></p>\n<ul>\n<li>5</li>\n<li></li>\n<li>ProcessingWaiting</li>\n</ul>\n<p>180005000~</p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Nginx10W10WCPUIOXEONCPUGMC</p>\n<ul>\n<li>CPU4196MHZi3</li>\n<li>1G</li>\n<li>IOMSDIO</li>\n</ul>\n<p><br>1.SDIOSWAPCPU<br>2.1G<br>3.CPUlow</p>\n<p></p>","more":"<h2 id=\"Raspbian\"><a href=\"#Raspbian\" class=\"headerlink\" title=\"Raspbian\"></a>Raspbian</h2><h3 id=\"-somaxconn\"><a href=\"#-somaxconn\" class=\"headerlink\" title=\" somaxconn\"></a> somaxconn</h3><p>echo 50000 &gt; /proc/sys/net/core/somaxconn</p>\n<h3 id=\"tcp\"><a href=\"#tcp\" class=\"headerlink\" title=\"tcp\"></a>tcp</h3><p>echo 1 &gt; /proc/sys/net/ipv4/tcp_tw_recycle</p>\n<h3 id=\"tcp\"><a href=\"#tcp\" class=\"headerlink\" title=\"tcp\"></a>tcp</h3><p>echo 1 &gt; /proc/sys/net/ipv4/tcp_tw_reuse </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>echo 0 &gt; /proc/sys/net/ipv4/tcp_syncookies</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ulimit -n 50000</p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631237005719.jpg\" alt=\"\"></p>\n<p>p.s.50000</p>\n<p><br>fs.file-max = 999999<br>net.ipv4.tcp_tw_reuse = 1<br>net.ipv4.tcp_keepalive_time = 600<br>net.ipv4.tcp_fin_timeout = 30<br>net.ipv4.tcp_max_tw_buckets = 5000<br>net.ipv4.ip_local_port_range = 1024    61000<br>net.ipv4.tcp_rmem = 4096 32768 262142<br>net.ipv4.tcp_wmem = 4096 32768 262142<br>net.core.netdev_max_backlog = 8096<br>net.core.rmem_default = 262144<br>net.core.wmem_default = 262144<br>net.core.rmem_max = 2097152<br>net.core.wmem_max = 2097152<br>net.ipv4.tcp_syncookies = 1<br>net.ipv4.tcp_max_syn.backlog=1024<br></p>\n<h2 id=\"Nginx\"><a href=\"#Nginx\" class=\"headerlink\" title=\"Nginx\"></a>Nginx</h2><p></p>\n<h3 id=\"worker-processesCPU\"><a href=\"#worker-processesCPU\" class=\"headerlink\" title=\"worker_processesCPU\"></a>worker_processesCPU</h3><p>CPUworkerCPUworker<br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631243899899.jpg\" alt=\"\"></p>\n<h3 id=\"worker-rlimit-nofile\"><a href=\"#worker-rlimit-nofile\" class=\"headerlink\" title=\"worker_rlimit_nofile\"></a>worker_rlimit_nofile</h3><p>nginx</p>\n<h3 id=\"worker-connections\"><a href=\"#worker-connections\" class=\"headerlink\" title=\"worker_connections\"></a>worker_connections</h3><p>Nginxworker</p>\n<p><img src=\"http://source.jianyujianyu.com/2016-05-13-14631242372230.jpg\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>8PythonTornadoTomcattomcat1G<br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631246342501.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>PythonTornadodemoblogblog</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>blog<br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631248722938.jpg\" alt=\"\"></p>\n<h2 id=\"ApacheBench\"><a href=\"#ApacheBench\" class=\"headerlink\" title=\"ApacheBench\"></a>ApacheBench</h2><p>ablinuxMac- -</p>\n<p>ab -c 8000 -n 50000  <a href=\"http://127.0.0.1/\">http://127.0.0.1/</a><br>1</p>\n<p><br><img src=\"http://source.jianyujianyu.com/2016-05-13-14631251132157.jpg\" alt=\"\"></p>\n<p></p>\n<ul>\n<li>5</li>\n<li></li>\n<li>ProcessingWaiting</li>\n</ul>\n<p>180005000~</p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>"},{"title":"Python 2.x ","date":"2017-03-05T18:21:00.000Z","_content":"\nPython 2.xASCIIPythonASCIIPython 2.xUnicodeDecodeErrorUnicodeEncodeError\n\n<!-- more -->\n\n\n## \n### SyntaxError: Non-ASCII character\n\nPythonASCII\n\n### UnicodeDecodeError\n\n```\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\ns = ''\ns.decode('gb2312') \n# UnicodeDecodeError: 'gb2312' codec can't decode bytes in position 2-3: illegal multibyte sequence\nprint s\n```\nsutf8Unicodeutf8gb2312\n\n```\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\ns = ''\ns.encode('gb2312') \n# UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 0: ordinal not in range(128)\nprint s\n```\nde/encode\n\n### UnicodeEncodeError\n\nUnicodedecodeutf8encode\n\n```\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\ns = u''\ns.decode('utf-8') \n# UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-1: ordinal not in range(128)\nprint s\n```\n\n## \n\n1. PEP0263\n2. u'string''string'\n3. sys.setdefaultencoding('utf-8')reset\n4. decode early, unicode everywhere, encode late\n5. Python 3\n\n\n## Python 3Unicode\n\n1. Unicode\n2. PythonUnicode\n3. u'string'\n\n\n[][1]\n[][2]\n\n\n  [1]: https://segmentfault.com/a/1190000002412924\n  [2]: https://www.jianyujianyu.com\n","source":"_posts/chinese-unicode-in-python2.x.md","raw":"title: Python 2.x \ncategories: python\ntags: [python,unicode]\ndate: 2017-03-06 02:21:00\n---\n\nPython 2.xASCIIPythonASCIIPython 2.xUnicodeDecodeErrorUnicodeEncodeError\n\n<!-- more -->\n\n\n## \n### SyntaxError: Non-ASCII character\n\nPythonASCII\n\n### UnicodeDecodeError\n\n```\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\ns = ''\ns.decode('gb2312') \n# UnicodeDecodeError: 'gb2312' codec can't decode bytes in position 2-3: illegal multibyte sequence\nprint s\n```\nsutf8Unicodeutf8gb2312\n\n```\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\ns = ''\ns.encode('gb2312') \n# UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 0: ordinal not in range(128)\nprint s\n```\nde/encode\n\n### UnicodeEncodeError\n\nUnicodedecodeutf8encode\n\n```\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\ns = u''\ns.decode('utf-8') \n# UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-1: ordinal not in range(128)\nprint s\n```\n\n## \n\n1. PEP0263\n2. u'string''string'\n3. sys.setdefaultencoding('utf-8')reset\n4. decode early, unicode everywhere, encode late\n5. Python 3\n\n\n## Python 3Unicode\n\n1. Unicode\n2. PythonUnicode\n3. u'string'\n\n\n[][1]\n[][2]\n\n\n  [1]: https://segmentfault.com/a/1190000002412924\n  [2]: https://www.jianyujianyu.com\n","slug":"chinese-unicode-in-python2.x","published":1,"updated":"2017-04-23T13:42:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj1utjtrv000ouoevbs5ks1g8","content":"<p>Python 2.xASCIIPythonASCIIPython 2.xUnicodeDecodeErrorUnicodeEncodeError</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"SyntaxError-Non-ASCII-character\"><a href=\"#SyntaxError-Non-ASCII-character\" class=\"headerlink\" title=\"SyntaxError: Non-ASCII character\"></a>SyntaxError: Non-ASCII character</h3><p>PythonASCII</p>\n<h3 id=\"UnicodeDecodeError\"><a href=\"#UnicodeDecodeError\" class=\"headerlink\" title=\"UnicodeDecodeError\"></a>UnicodeDecodeError</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">#!/usr/bin/python</div><div class=\"line\"># -*- coding: utf-8 -*-</div><div class=\"line\">s = &apos;&apos;</div><div class=\"line\">s.decode(&apos;gb2312&apos;) </div><div class=\"line\"># UnicodeDecodeError: &apos;gb2312&apos; codec can&apos;t decode bytes in position 2-3: illegal multibyte sequence</div><div class=\"line\">print s</div></pre></td></tr></table></figure>\n<p>sutf8Unicodeutf8gb2312</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">#!/usr/bin/python</div><div class=\"line\"># -*- coding: utf-8 -*-</div><div class=\"line\">s = &apos;&apos;</div><div class=\"line\">s.encode(&apos;gb2312&apos;) </div><div class=\"line\"># UnicodeDecodeError: &apos;ascii&apos; codec can&apos;t decode byte 0xe4 in position 0: ordinal not in range(128)</div><div class=\"line\">print s</div></pre></td></tr></table></figure>\n<p>de/encode</p>\n<h3 id=\"UnicodeEncodeError\"><a href=\"#UnicodeEncodeError\" class=\"headerlink\" title=\"UnicodeEncodeError\"></a>UnicodeEncodeError</h3><p>Unicodedecodeutf8encode</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">#!/usr/bin/python</div><div class=\"line\"># -*- coding: utf-8 -*-</div><div class=\"line\">s = u&apos;&apos;</div><div class=\"line\">s.decode(&apos;utf-8&apos;) </div><div class=\"line\"># UnicodeEncodeError: &apos;ascii&apos; codec can&apos;t encode characters in position 0-1: ordinal not in range(128)</div><div class=\"line\">print s</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>PEP0263</li>\n<li>ustringstring</li>\n<li>sys.setdefaultencoding(utf-8)reset</li>\n<li>decode early, unicode everywhere, encode late</li>\n<li>Python 3</li>\n</ol>\n<h2 id=\"Python-3Unicode\"><a href=\"#Python-3Unicode\" class=\"headerlink\" title=\"Python 3Unicode\"></a>Python 3Unicode</h2><ol>\n<li>Unicode</li>\n<li>PythonUnicode</li>\n<li>ustring</li>\n</ol>\n<p><a href=\"https://segmentfault.com/a/1190000002412924\" target=\"_blank\" rel=\"external\"></a><br><a href=\"https://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<p>Python 2.xASCIIPythonASCIIPython 2.xUnicodeDecodeErrorUnicodeEncodeError</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"SyntaxError-Non-ASCII-character\"><a href=\"#SyntaxError-Non-ASCII-character\" class=\"headerlink\" title=\"SyntaxError: Non-ASCII character\"></a>SyntaxError: Non-ASCII character</h3><p>PythonASCII</p>\n<h3 id=\"UnicodeDecodeError\"><a href=\"#UnicodeDecodeError\" class=\"headerlink\" title=\"UnicodeDecodeError\"></a>UnicodeDecodeError</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">#!/usr/bin/python</div><div class=\"line\"># -*- coding: utf-8 -*-</div><div class=\"line\">s = &apos;&apos;</div><div class=\"line\">s.decode(&apos;gb2312&apos;) </div><div class=\"line\"># UnicodeDecodeError: &apos;gb2312&apos; codec can&apos;t decode bytes in position 2-3: illegal multibyte sequence</div><div class=\"line\">print s</div></pre></td></tr></table></figure>\n<p>sutf8Unicodeutf8gb2312</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">#!/usr/bin/python</div><div class=\"line\"># -*- coding: utf-8 -*-</div><div class=\"line\">s = &apos;&apos;</div><div class=\"line\">s.encode(&apos;gb2312&apos;) </div><div class=\"line\"># UnicodeDecodeError: &apos;ascii&apos; codec can&apos;t decode byte 0xe4 in position 0: ordinal not in range(128)</div><div class=\"line\">print s</div></pre></td></tr></table></figure>\n<p>de/encode</p>\n<h3 id=\"UnicodeEncodeError\"><a href=\"#UnicodeEncodeError\" class=\"headerlink\" title=\"UnicodeEncodeError\"></a>UnicodeEncodeError</h3><p>Unicodedecodeutf8encode</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">#!/usr/bin/python</div><div class=\"line\"># -*- coding: utf-8 -*-</div><div class=\"line\">s = u&apos;&apos;</div><div class=\"line\">s.decode(&apos;utf-8&apos;) </div><div class=\"line\"># UnicodeEncodeError: &apos;ascii&apos; codec can&apos;t encode characters in position 0-1: ordinal not in range(128)</div><div class=\"line\">print s</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>PEP0263</li>\n<li>ustringstring</li>\n<li>sys.setdefaultencoding(utf-8)reset</li>\n<li>decode early, unicode everywhere, encode late</li>\n<li>Python 3</li>\n</ol>\n<h2 id=\"Python-3Unicode\"><a href=\"#Python-3Unicode\" class=\"headerlink\" title=\"Python 3Unicode\"></a>Python 3Unicode</h2><ol>\n<li>Unicode</li>\n<li>PythonUnicode</li>\n<li>ustring</li>\n</ol>\n<p><a href=\"https://segmentfault.com/a/1190000002412924\"></a><br><a href=\"https://www.jianyujianyu.com\"></a></p>"},{"title":"[] Github + Jenkins  hexo ","date":"2017-04-27T01:49:38.000Z","_content":"\n*jenkinshexo*\n\n\n\n## \n\n[jianyujianyu.com](https://www.jianyujianyu.com)typecho\n\nwordpresshexodeployhexo\n\n[jianyujianyu.com](https://www.jianyujianyu.com)hexoCAhexo\n\n\n\nhexodeployhexonodevimdeploywordpresstypecho\n\njenkinsgithubhexogithubcodinggithub pagesnever mind\n\ndeploy\n\n- clonegithubhexomdpush\n- githubjenkins\n- jenkinsgithub\n- hexojenkinshexo g[jianyujianyu.com](https://www.jianyujianyu.com)htmlhexo/public\n- nginx[jianyujianyu.com](https://www.jianyujianyu.com)hexo/public\n\n\n\n<!-- more -->\n\n\n\n## \n\n*Ubunturoot*\n\n### JavaTomcatJenkins\n\njenkinsjavatomcatapt\n\njavajenkins`java -jar jenkins.war`\n\nJ8\n\n```\nadd-apt-repository ppa:webupd8team/java\napt update\napt install oracle-java8-installer\n```\n\ntomcatJ8tomcat8[tomcat](http://tomcat.apache.org/)\n\n```\nwget http://mirrors.hust.edu.cn/apache/tomcat/tomcat-8/v8.0.43/bin/apache-tomcat-8.0.43.tar.gz\ntar zxvf apache-tomcat-8.0.43.tar.gz\n```\n\n[jenkins](https://jenkins.io)jenkinswar\n\n```\nwget http://ftp-chi.osuosl.org/pub/jenkins/war-stable/2.46.1/jenkins.war\n```\n\nwartomcatwebapps\n\ntomcattomcatbin\n\n```\n./startup.sh\n```\n\ntomcatjenkins[http://ip:8080](#)\n\n![tomcat](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-25_19-45-36.png)\n\n[http://ip:8080/jenkins](#)jenkins***nginxtomcatnginxjenkins***\n\npassword\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-23-43.png)\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-28-19.png)\n\n\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-28-30.png)\n\n\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_12-20-38.png)\n\n\n\n### NodejsNPMhexo\n\nhexonodejsnodejsnodejs[](https://nodejs.org/en/)aptnode\n\n```\nwget https://nodejs.org/dist/v6.10.2/node-v6.10.2.tar.gz\ntar zxvf node-v6.10.2.tar.gz\ncd node-v6.10.2\n./configure\nmake\nmake install\n```\n\nmake-j\n\nnodenpmnpm[](http://npm.taobao.org/)\n\n[hexo](https://hexo.io/docs/)hexo\n\n```\nnpm install hexo-cli -g\nhexo init hexo\ncd hexo\nnpm install\n```\n\nhexohexo\n\n```\nhexo g # generate static file\nhexo s # start a server\n```\n\nnginxhexo/publichexohttp://ip:4000/jenkins\n\nhexo\n\n pushgit\n\n\n\n### Nginx\n\nnginxnginx80443hexo/publictomcatnginx\n\nnginx\n\n```\napt install nginx\n```\n\ndefault\n\n```\nvim /etc/nginx/sites-available/default\n```\n\n80443serverroot\n\n```\nroot /var/www/hexo/public;\n```\n\ntomcat\n\n```\nupstream tomcat  {\n        server  127.0.0.1:8080;\n}\n\nserver {\n        listen 11111;\n        listen [::]:11111;\n\n        location / {\n                #try_files $uri $uri/ =404;\n                proxy_pass   http://tomcat;\n                proxy_redirect  off;\n                proxy_set_header Host $host:$server_port;\n                proxy_set_header X-Real-IP $remote_addr;\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header Request-Url $request_uri;\n        }\n}\n```\n\nproxy_set_header\n\n\n\n## GithubJenkins\n\n### job\n\n![job](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.43.29%20PM.png)\n\ncreate new jobsfreestylejob\n\n![freestyle](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.44.11%20PM.png)\n\njobjenkinsjenkinsjob\n\n\n\n### \n\ngithubjenkinsgithubjenkinsgithub\n\nJenkins\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.48.36%20PM.png)\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.48.56%20PM.png)\n\n![git](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.52.30%20PM.png)\n\nprivate keyusernamekeyssh-keygen[Github](https://help.github.com/articles/connecting-to-github-with-ssh/)\n\n\n\n### WebHook\n\nwebhookgithubwebhookgithubjenkinsjenkins\n\npushjenkins\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_10-29-15.png)\n\n\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_10-33-0.png)\n\n\n\n### job\n\njob\n\ngithub project\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.49.16%20PM.png)\n\n\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.53.25%20PM.png)\n\nbrowser\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.53.34%20PM.png)\n\nBuild TriggersGithub hook triggerjenkinsgithub\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.49.53%20PM.png)\n\nBuildshelllinux\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.51.15%20PM.png)\n\nshellcd\n\n\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.52.21%20PM.png)\n\njenkinsjob\n\n\n\n## \n\nclonepush\n\n### Push\n\npush\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.11.57%20AM.png)\n\n\n\n### \n\npushgithub hookjenkinsjenkinsjobhookjobGithub hook trigger\n\njenkinshexojob`#1`\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.12.20%20AM.png)\n\nGithub Hook LogConsole Output\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.12.57%20AM.png)\n\nOutput\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-28_10-25-53.png)\n\n\n\n### \n\n[jianyujianyu.com](https://www.jianyujianyu.com/) \n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-28_10-28-45.png)\n\n\n\n\n\n[](http://www.jianyujianyu.com)\n","source":"_posts/using-github-and-jenkins-deploy-hexo.md","raw":"title: \"[] Github + Jenkins  hexo \"\ncategories: CI\ntags: [jenkins,hexo,blog]\ndate: 2017-04-27 09:49:38\n---\n\n*jenkinshexo*\n\n\n\n## \n\n[jianyujianyu.com](https://www.jianyujianyu.com)typecho\n\nwordpresshexodeployhexo\n\n[jianyujianyu.com](https://www.jianyujianyu.com)hexoCAhexo\n\n\n\nhexodeployhexonodevimdeploywordpresstypecho\n\njenkinsgithubhexogithubcodinggithub pagesnever mind\n\ndeploy\n\n- clonegithubhexomdpush\n- githubjenkins\n- jenkinsgithub\n- hexojenkinshexo g[jianyujianyu.com](https://www.jianyujianyu.com)htmlhexo/public\n- nginx[jianyujianyu.com](https://www.jianyujianyu.com)hexo/public\n\n\n\n<!-- more -->\n\n\n\n## \n\n*Ubunturoot*\n\n### JavaTomcatJenkins\n\njenkinsjavatomcatapt\n\njavajenkins`java -jar jenkins.war`\n\nJ8\n\n```\nadd-apt-repository ppa:webupd8team/java\napt update\napt install oracle-java8-installer\n```\n\ntomcatJ8tomcat8[tomcat](http://tomcat.apache.org/)\n\n```\nwget http://mirrors.hust.edu.cn/apache/tomcat/tomcat-8/v8.0.43/bin/apache-tomcat-8.0.43.tar.gz\ntar zxvf apache-tomcat-8.0.43.tar.gz\n```\n\n[jenkins](https://jenkins.io)jenkinswar\n\n```\nwget http://ftp-chi.osuosl.org/pub/jenkins/war-stable/2.46.1/jenkins.war\n```\n\nwartomcatwebapps\n\ntomcattomcatbin\n\n```\n./startup.sh\n```\n\ntomcatjenkins[http://ip:8080](#)\n\n![tomcat](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-25_19-45-36.png)\n\n[http://ip:8080/jenkins](#)jenkins***nginxtomcatnginxjenkins***\n\npassword\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-23-43.png)\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-28-19.png)\n\n\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-28-30.png)\n\n\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_12-20-38.png)\n\n\n\n### NodejsNPMhexo\n\nhexonodejsnodejsnodejs[](https://nodejs.org/en/)aptnode\n\n```\nwget https://nodejs.org/dist/v6.10.2/node-v6.10.2.tar.gz\ntar zxvf node-v6.10.2.tar.gz\ncd node-v6.10.2\n./configure\nmake\nmake install\n```\n\nmake-j\n\nnodenpmnpm[](http://npm.taobao.org/)\n\n[hexo](https://hexo.io/docs/)hexo\n\n```\nnpm install hexo-cli -g\nhexo init hexo\ncd hexo\nnpm install\n```\n\nhexohexo\n\n```\nhexo g # generate static file\nhexo s # start a server\n```\n\nnginxhexo/publichexohttp://ip:4000/jenkins\n\nhexo\n\n pushgit\n\n\n\n### Nginx\n\nnginxnginx80443hexo/publictomcatnginx\n\nnginx\n\n```\napt install nginx\n```\n\ndefault\n\n```\nvim /etc/nginx/sites-available/default\n```\n\n80443serverroot\n\n```\nroot /var/www/hexo/public;\n```\n\ntomcat\n\n```\nupstream tomcat  {\n        server  127.0.0.1:8080;\n}\n\nserver {\n        listen 11111;\n        listen [::]:11111;\n\n        location / {\n                #try_files $uri $uri/ =404;\n                proxy_pass   http://tomcat;\n                proxy_redirect  off;\n                proxy_set_header Host $host:$server_port;\n                proxy_set_header X-Real-IP $remote_addr;\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header Request-Url $request_uri;\n        }\n}\n```\n\nproxy_set_header\n\n\n\n## GithubJenkins\n\n### job\n\n![job](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.43.29%20PM.png)\n\ncreate new jobsfreestylejob\n\n![freestyle](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.44.11%20PM.png)\n\njobjenkinsjenkinsjob\n\n\n\n### \n\ngithubjenkinsgithubjenkinsgithub\n\nJenkins\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.48.36%20PM.png)\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.48.56%20PM.png)\n\n![git](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.52.30%20PM.png)\n\nprivate keyusernamekeyssh-keygen[Github](https://help.github.com/articles/connecting-to-github-with-ssh/)\n\n\n\n### WebHook\n\nwebhookgithubwebhookgithubjenkinsjenkins\n\npushjenkins\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_10-29-15.png)\n\n\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_10-33-0.png)\n\n\n\n### job\n\njob\n\ngithub project\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.49.16%20PM.png)\n\n\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.53.25%20PM.png)\n\nbrowser\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.53.34%20PM.png)\n\nBuild TriggersGithub hook triggerjenkinsgithub\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.49.53%20PM.png)\n\nBuildshelllinux\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.51.15%20PM.png)\n\nshellcd\n\n\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.52.21%20PM.png)\n\njenkinsjob\n\n\n\n## \n\nclonepush\n\n### Push\n\npush\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.11.57%20AM.png)\n\n\n\n### \n\npushgithub hookjenkinsjenkinsjobhookjobGithub hook trigger\n\njenkinshexojob`#1`\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.12.20%20AM.png)\n\nGithub Hook LogConsole Output\n\n![](https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.12.57%20AM.png)\n\nOutput\n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-28_10-25-53.png)\n\n\n\n### \n\n[jianyujianyu.com](https://www.jianyujianyu.com/) \n\n![](https://oda3wj69k.qnssl.com/BaiduHi_2017-4-28_10-28-45.png)\n\n\n\n\n\n[](http://www.jianyujianyu.com)\n","slug":"using-github-and-jenkins-deploy-hexo","published":1,"updated":"2017-05-10T05:37:39.000Z","_id":"cj22nsvtm000039evhhrpeowc","comments":1,"layout":"post","photos":[],"link":"","content":"<p><em>jenkinshexo</em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://www.jianyujianyu.com\">jianyujianyu.com</a>typecho</p>\n<p>wordpresshexodeployhexo</p>\n<p><a href=\"https://www.jianyujianyu.com\">jianyujianyu.com</a>hexoCAhexo</p>\n<p></p>\n<p>hexodeployhexonodevimdeploywordpresstypecho</p>\n<p>jenkinsgithubhexogithubcodinggithub pagesnever mind</p>\n<p>deploy</p>\n<ul>\n<li>clonegithubhexomdpush</li>\n<li>githubjenkins</li>\n<li>jenkinsgithub</li>\n<li>hexojenkinshexo g<a href=\"https://www.jianyujianyu.com\">jianyujianyu.com</a>htmlhexo/public</li>\n<li>nginx<a href=\"https://www.jianyujianyu.com\">jianyujianyu.com</a>hexo/public</li>\n</ul>\n<p></p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>Ubunturoot</em></p>\n<h3 id=\"JavaTomcatJenkins\"><a href=\"#JavaTomcatJenkins\" class=\"headerlink\" title=\"JavaTomcatJenkins\"></a>JavaTomcatJenkins</h3><p>jenkinsjavatomcatapt</p>\n<p>javajenkins<code>java -jar jenkins.war</code></p>\n<p>J8</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">add-apt-repository ppa:webupd8team/java</div><div class=\"line\">apt update</div><div class=\"line\">apt install oracle-java8-installer</div></pre></td></tr></table></figure>\n<p>tomcatJ8tomcat8<a href=\"http://tomcat.apache.org/\" target=\"_blank\" rel=\"external\">tomcat</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget http://mirrors.hust.edu.cn/apache/tomcat/tomcat-8/v8.0.43/bin/apache-tomcat-8.0.43.tar.gz</div><div class=\"line\">tar zxvf apache-tomcat-8.0.43.tar.gz</div></pre></td></tr></table></figure>\n<p><a href=\"https://jenkins.io\" target=\"_blank\" rel=\"external\">jenkins</a>jenkinswar</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget http://ftp-chi.osuosl.org/pub/jenkins/war-stable/2.46.1/jenkins.war</div></pre></td></tr></table></figure>\n<p>wartomcatwebapps</p>\n<p>tomcattomcatbin</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./startup.sh</div></pre></td></tr></table></figure>\n<p>tomcatjenkins<a href=\"#\">http://ip:8080</a></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-25_19-45-36.png\" alt=\"tomcat\"></p>\n<p><a href=\"#\">http://ip:8080/jenkins</a>jenkins<strong><em>nginxtomcatnginxjenkins</em></strong></p>\n<p>password</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-23-43.png\" alt=\"\"></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-28-19.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-28-30.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_12-20-38.png\" alt=\"\"></p>\n<h3 id=\"NodejsNPMhexo\"><a href=\"#NodejsNPMhexo\" class=\"headerlink\" title=\"NodejsNPMhexo\"></a>NodejsNPMhexo</h3><p>hexonodejsnodejsnodejs<a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"external\"></a>aptnode</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget https://nodejs.org/dist/v6.10.2/node-v6.10.2.tar.gz</div><div class=\"line\">tar zxvf node-v6.10.2.tar.gz</div><div class=\"line\">cd node-v6.10.2</div><div class=\"line\">./configure</div><div class=\"line\">make</div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n<p>make-j</p>\n<p>nodenpmnpm<a href=\"http://npm.taobao.org/\" target=\"_blank\" rel=\"external\"></a></p>\n<p><a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">hexo</a>hexo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install hexo-cli -g</div><div class=\"line\">hexo init hexo</div><div class=\"line\">cd hexo</div><div class=\"line\">npm install</div></pre></td></tr></table></figure>\n<p>hexohexo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo g # generate static file</div><div class=\"line\">hexo s # start a server</div></pre></td></tr></table></figure>\n<p>nginxhexo/publichexo<a href=\"http://ip:4000/jenkins\" target=\"_blank\" rel=\"external\">http://ip:4000/jenkins</a></p>\n<p>hexo</p>\n<p> pushgit</p>\n<h3 id=\"Nginx\"><a href=\"#Nginx\" class=\"headerlink\" title=\"Nginx\"></a>Nginx</h3><p>nginxnginx80443hexo/publictomcatnginx</p>\n<p>nginx</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt install nginx</div></pre></td></tr></table></figure>\n<p>default</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/nginx/sites-available/default</div></pre></td></tr></table></figure>\n<p>80443serverroot</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">root /var/www/hexo/public;</div></pre></td></tr></table></figure>\n<p>tomcat</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">upstream tomcat  &#123;</div><div class=\"line\">        server  127.0.0.1:8080;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">server &#123;</div><div class=\"line\">        listen 11111;</div><div class=\"line\">        listen [::]:11111;</div><div class=\"line\"></div><div class=\"line\">        location / &#123;</div><div class=\"line\">                #try_files $uri $uri/ =404;</div><div class=\"line\">                proxy_pass   http://tomcat;</div><div class=\"line\">                proxy_redirect  off;</div><div class=\"line\">                proxy_set_header Host $host:$server_port;</div><div class=\"line\">                proxy_set_header X-Real-IP $remote_addr;</div><div class=\"line\">                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div><div class=\"line\">                proxy_set_header Request-Url $request_uri;</div><div class=\"line\">        &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>proxy_set_header</p>\n<h2 id=\"GithubJenkins\"><a href=\"#GithubJenkins\" class=\"headerlink\" title=\"GithubJenkins\"></a>GithubJenkins</h2><h3 id=\"job\"><a href=\"#job\" class=\"headerlink\" title=\"job\"></a>job</h3><p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.43.29%20PM.png\" alt=\"job\"></p>\n<p>create new jobsfreestylejob</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.44.11%20PM.png\" alt=\"freestyle\"></p>\n<p>jobjenkinsjenkinsjob</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>githubjenkinsgithubjenkinsgithub</p>\n<p>Jenkins</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.48.36%20PM.png\" alt=\"\"></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.48.56%20PM.png\" alt=\"\"></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.52.30%20PM.png\" alt=\"git\"></p>\n<p>private keyusernamekeyssh-keygen<a href=\"https://help.github.com/articles/connecting-to-github-with-ssh/\" target=\"_blank\" rel=\"external\">Github</a></p>\n<h3 id=\"WebHook\"><a href=\"#WebHook\" class=\"headerlink\" title=\"WebHook\"></a>WebHook</h3><p>webhookgithubwebhookgithubjenkinsjenkins</p>\n<p>pushjenkins</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_10-29-15.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_10-33-0.png\" alt=\"\"></p>\n<h3 id=\"job\"><a href=\"#job\" class=\"headerlink\" title=\"job\"></a>job</h3><p>job</p>\n<p>github project</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.49.16%20PM.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.53.25%20PM.png\" alt=\"\"></p>\n<p>browser</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.53.34%20PM.png\" alt=\"\"></p>\n<p>Build TriggersGithub hook triggerjenkinsgithub</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.49.53%20PM.png\" alt=\"\"></p>\n<p>Buildshelllinux</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.51.15%20PM.png\" alt=\"\"></p>\n<p>shellcd</p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.52.21%20PM.png\" alt=\"\"></p>\n<p>jenkinsjob</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>clonepush</p>\n<h3 id=\"Push\"><a href=\"#Push\" class=\"headerlink\" title=\"Push\"></a>Push</h3><p>push</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.11.57%20AM.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>pushgithub hookjenkinsjenkinsjobhookjobGithub hook trigger</p>\n<p>jenkinshexojob<code>#1</code></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.12.20%20AM.png\" alt=\"\"></p>\n<p>Github Hook LogConsole Output</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.12.57%20AM.png\" alt=\"\"></p>\n<p>Output</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-28_10-25-53.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://www.jianyujianyu.com/\">jianyujianyu.com</a> </p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-28_10-28-45.png\" alt=\"\"></p>\n<p></p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<p><em>jenkinshexo</em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://www.jianyujianyu.com\">jianyujianyu.com</a>typecho</p>\n<p>wordpresshexodeployhexo</p>\n<p><a href=\"https://www.jianyujianyu.com\">jianyujianyu.com</a>hexoCAhexo</p>\n<p></p>\n<p>hexodeployhexonodevimdeploywordpresstypecho</p>\n<p>jenkinsgithubhexogithubcodinggithub pagesnever mind</p>\n<p>deploy</p>\n<ul>\n<li>clonegithubhexomdpush</li>\n<li>githubjenkins</li>\n<li>jenkinsgithub</li>\n<li>hexojenkinshexo g<a href=\"https://www.jianyujianyu.com\">jianyujianyu.com</a>htmlhexo/public</li>\n<li>nginx<a href=\"https://www.jianyujianyu.com\">jianyujianyu.com</a>hexo/public</li>\n</ul>\n<p></p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>Ubunturoot</em></p>\n<h3 id=\"JavaTomcatJenkins\"><a href=\"#JavaTomcatJenkins\" class=\"headerlink\" title=\"JavaTomcatJenkins\"></a>JavaTomcatJenkins</h3><p>jenkinsjavatomcatapt</p>\n<p>javajenkins<code>java -jar jenkins.war</code></p>\n<p>J8</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">add-apt-repository ppa:webupd8team/java</div><div class=\"line\">apt update</div><div class=\"line\">apt install oracle-java8-installer</div></pre></td></tr></table></figure>\n<p>tomcatJ8tomcat8<a href=\"http://tomcat.apache.org/\">tomcat</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget http://mirrors.hust.edu.cn/apache/tomcat/tomcat-8/v8.0.43/bin/apache-tomcat-8.0.43.tar.gz</div><div class=\"line\">tar zxvf apache-tomcat-8.0.43.tar.gz</div></pre></td></tr></table></figure>\n<p><a href=\"https://jenkins.io\">jenkins</a>jenkinswar</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget http://ftp-chi.osuosl.org/pub/jenkins/war-stable/2.46.1/jenkins.war</div></pre></td></tr></table></figure>\n<p>wartomcatwebapps</p>\n<p>tomcattomcatbin</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./startup.sh</div></pre></td></tr></table></figure>\n<p>tomcatjenkins<a href=\"#\">http://ip:8080</a></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-25_19-45-36.png\" alt=\"tomcat\"></p>\n<p><a href=\"#\">http://ip:8080/jenkins</a>jenkins<strong><em>nginxtomcatnginxjenkins</em></strong></p>\n<p>password</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-23-43.png\" alt=\"\"></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-28-19.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_11-28-30.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_12-20-38.png\" alt=\"\"></p>\n<h3 id=\"NodejsNPMhexo\"><a href=\"#NodejsNPMhexo\" class=\"headerlink\" title=\"NodejsNPMhexo\"></a>NodejsNPMhexo</h3><p>hexonodejsnodejsnodejs<a href=\"https://nodejs.org/en/\"></a>aptnode</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget https://nodejs.org/dist/v6.10.2/node-v6.10.2.tar.gz</div><div class=\"line\">tar zxvf node-v6.10.2.tar.gz</div><div class=\"line\">cd node-v6.10.2</div><div class=\"line\">./configure</div><div class=\"line\">make</div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n<p>make-j</p>\n<p>nodenpmnpm<a href=\"http://npm.taobao.org/\"></a></p>\n<p><a href=\"https://hexo.io/docs/\">hexo</a>hexo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install hexo-cli -g</div><div class=\"line\">hexo init hexo</div><div class=\"line\">cd hexo</div><div class=\"line\">npm install</div></pre></td></tr></table></figure>\n<p>hexohexo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo g # generate static file</div><div class=\"line\">hexo s # start a server</div></pre></td></tr></table></figure>\n<p>nginxhexo/publichexo<a href=\"http://ip:4000/jenkins\">http://ip:4000/jenkins</a></p>\n<p>hexo</p>\n<p> pushgit</p>\n<h3 id=\"Nginx\"><a href=\"#Nginx\" class=\"headerlink\" title=\"Nginx\"></a>Nginx</h3><p>nginxnginx80443hexo/publictomcatnginx</p>\n<p>nginx</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt install nginx</div></pre></td></tr></table></figure>\n<p>default</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/nginx/sites-available/default</div></pre></td></tr></table></figure>\n<p>80443serverroot</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">root /var/www/hexo/public;</div></pre></td></tr></table></figure>\n<p>tomcat</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">upstream tomcat  &#123;</div><div class=\"line\">        server  127.0.0.1:8080;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">server &#123;</div><div class=\"line\">        listen 11111;</div><div class=\"line\">        listen [::]:11111;</div><div class=\"line\"></div><div class=\"line\">        location / &#123;</div><div class=\"line\">                #try_files $uri $uri/ =404;</div><div class=\"line\">                proxy_pass   http://tomcat;</div><div class=\"line\">                proxy_redirect  off;</div><div class=\"line\">                proxy_set_header Host $host:$server_port;</div><div class=\"line\">                proxy_set_header X-Real-IP $remote_addr;</div><div class=\"line\">                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div><div class=\"line\">                proxy_set_header Request-Url $request_uri;</div><div class=\"line\">        &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>proxy_set_header</p>\n<h2 id=\"GithubJenkins\"><a href=\"#GithubJenkins\" class=\"headerlink\" title=\"GithubJenkins\"></a>GithubJenkins</h2><h3 id=\"job\"><a href=\"#job\" class=\"headerlink\" title=\"job\"></a>job</h3><p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.43.29%20PM.png\" alt=\"job\"></p>\n<p>create new jobsfreestylejob</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.44.11%20PM.png\" alt=\"freestyle\"></p>\n<p>jobjenkinsjenkinsjob</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>githubjenkinsgithubjenkinsgithub</p>\n<p>Jenkins</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.48.36%20PM.png\" alt=\"\"></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.48.56%20PM.png\" alt=\"\"></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-25%20at%2010.52.30%20PM.png\" alt=\"git\"></p>\n<p>private keyusernamekeyssh-keygen<a href=\"https://help.github.com/articles/connecting-to-github-with-ssh/\">Github</a></p>\n<h3 id=\"WebHook\"><a href=\"#WebHook\" class=\"headerlink\" title=\"WebHook\"></a>WebHook</h3><p>webhookgithubwebhookgithubjenkinsjenkins</p>\n<p>pushjenkins</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_10-29-15.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-26_10-33-0.png\" alt=\"\"></p>\n<h3 id=\"job\"><a href=\"#job\" class=\"headerlink\" title=\"job\"></a>job</h3><p>job</p>\n<p>github project</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.49.16%20PM.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.53.25%20PM.png\" alt=\"\"></p>\n<p>browser</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.53.34%20PM.png\" alt=\"\"></p>\n<p>Build TriggersGithub hook triggerjenkinsgithub</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.49.53%20PM.png\" alt=\"\"></p>\n<p>Buildshelllinux</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.51.15%20PM.png\" alt=\"\"></p>\n<p>shellcd</p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-26%20at%2011.52.21%20PM.png\" alt=\"\"></p>\n<p>jenkinsjob</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>clonepush</p>\n<h3 id=\"Push\"><a href=\"#Push\" class=\"headerlink\" title=\"Push\"></a>Push</h3><p>push</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.11.57%20AM.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>pushgithub hookjenkinsjenkinsjobhookjobGithub hook trigger</p>\n<p>jenkinshexojob<code>#1</code></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.12.20%20AM.png\" alt=\"\"></p>\n<p>Github Hook LogConsole Output</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/Screen%20Shot%202017-04-27%20at%2012.12.57%20AM.png\" alt=\"\"></p>\n<p>Output</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-28_10-25-53.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://www.jianyujianyu.com/\">jianyujianyu.com</a> </p>\n<p><img src=\"https://oda3wj69k.qnssl.com/BaiduHi_2017-4-28_10-28-45.png\" alt=\"\"></p>\n<p></p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>"},{"title":" Ubuntu16.04  Hadoop-2.8.0 ","date":"2017-05-04T14:53:39.000Z","_content":"\n******\n\n\n\n## \n\n### \n\nUTF-8HadoopJavaJavaOpenJdkJava8vimsshUbuntu16.04\n<!-- more -->\n\n```\nsudo su\napt install -y language-pack-zh-hant language-pack-zh-hans\napt install -y openjdk-8-jre openjdk-8-jdk\n```\n\n\n\n### \n\nhadoophadoophadoophadoopsshssh\n\n```\nuseradd -m hadoop -s /bin/bash\npasswd hadoop\nadduser hadoop sudo\nsu hadoop\n```\n\nhadoophadoophadoop\n\n```\nssh-keygen -t rsa \ncat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys\n```\n\n![Screen Shot 2017-05-03 at 10.30.57 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.30.57 PM.png)\n\n\n\n\n`ssh localhost`yes\n\n![Screen Shot 2017-05-03 at 10.31.13 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.31.13 PM.png)\n\n\n\n### hadoop\n\nhadoop2.8.0wgethadoop`/usr/local`\n\n```\nwget http://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-2.8.0/hadoop-2.8.0.tar.gz\ntar zxvf hadoop-2.8.0.tar.gz\n```\n\n![Screen Shot 2017-05-03 at 10.32.49 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.32.49 PM.png)\n\n```\nmv hadoop-2.8.0 hadoop\nsudo mv hadoop /usr/local/\nsudo chown -R hadoop /usr/local/hadoop\ncd /usr/local/hadoop/\n```\n\n`/usr/local/hadoop`hadoop\n\n\n\n### JavaHadoop\n\n`/etc/profile``./etc/hadoop/hadoop-env.sh`hadoop\n\n```\nexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nCLASSPATH=$CLASSPATH.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib\nexport PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin\nexport HADOOP_HOME=/usr/local/hadoop\nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\n```\n\nssh\n\nJavaHadoop\n\n```\n. /etc/profile\n```\n\n\n\n## \n\n### hdfs\n\n./etc/hadoop/core-site.xml./etc/hadoop/hdfs-site.xml\n\n```\nvim ./etc/hadoop/core-site.xml\n```\n\npropertynamevalue\n\n```\n<configuration>\n        <property>\n             <name>hadoop.tmp.dir</name>\n             <value>file:/usr/local/hadoop/tmp</value>\n             <description>Abase for other temporary directories.</description>\n        </property>\n        <property>\n             <name>fs.defaultFS</name>\n             <value>hdfs://localhost:9000</value>\n        </property>\n</configuration>\n```\n\n\n\n```\nvim ./etc/hadoop/hdfs-site.xml\n```\n\nnamedata\n\n```\n<configuration>\n        <property>\n             <name>dfs.replication</name>\n             <value>1</value>\n        </property>\n        <property>\n             <name>dfs.namenode.name.dir</name>\n             <value>file:/usr/local/hadoop/tmp/dfs/name</value>\n        </property>\n        <property>\n             <name>dfs.datanode.data.dir</name>\n             <value>file:/usr/local/hadoop/tmp/dfs/data</value>\n        </property>\n</configuration>\n```\n\n\n\n```\n./bin/hdfs namenode -format\n```\n\n![Screen Shot 2017-05-03 at 11.20.51 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.20.51 PM.png)\n\n\n\n![Screen Shot 2017-05-03 at 11.21.37 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.21.37 PM.png)\n\nExiting status00\n\n\n\n\n###  NameNode  DataNode \n\n`./sbin/start-dfs.sh`\n\n![Screen Shot 2017-05-03 at 11.23.40 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.23.40 PM.png)\n\n\n\nWARN\n\n```\nWARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform using builtin-java classes where applicable\n```\n\n WARN  WARN  Hadoop \n\n\n\n http://ip:50070  NameNode  Datanode  HDFS \n\n![Screen Shot 2017-05-03 at 10.44.18 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.44.18 PM.png)\n\n\n`jps` NameNode  Datanode \n\n\n\n## \n\n### \n\n`./bin/hdfs dfs -help`\n\n![Screen Shot 2017-05-03 at 11.24.41 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.24.41 PM.png)\n\n\nhadoop\n\n![Screen Shot 2017-05-03 at 11.19.25 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.19.25 PM.png)\n\n\n\n###  HDFS \n\n`./bin/hdfs dfs -mkdir -p /user/hadoop`\n\n\n\n###  \n\nhadoophadoopputhdfsinput\n\n```\n./bin/hdfs dfs -mkdir /user/hadoop/input\n./bin/hdfs dfs -put ./etc/hadoop/*.xml /user/hadoop/input/\n./bin/hdfs dfs -ls input\n```\n\n![Screen Shot 2017-05-03 at 11.08.16 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.08.16 PM.png)\n\ninputoutput\n\n```\n./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep /user/hadoop/input/* /user/hadoop/output 'dfs[a-z.]+'\n```\n\n![Screen Shot 2017-05-03 at 11.09.22 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.09.22 PM.png)\n\n\noutputcat\n\n```\n./bin/hdfs dfs -cat /user/hadoop/output/*\n```\n\n![Screen Shot 2017-05-03 at 11.09.52 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.09.52 PM.png)\n\n\noutputhdfs\n\n```\n./bin/hdfs dfs -get /user/hadoop/output ./output\n```\n\n\n\n###  WordCount\n\nwordcounthadoop\n\n\n\n```\n./bin/hdfs dfs -rm -r -f /user/hadoop/output /user/hadoop/input\n```\n\n![Screen Shot 2017-05-03 at 11.15.36 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.15.36 PM.png)\n\n\nhadoop\n\n```\n./bin/hdfs dfs -mkdir /user/hadoop/input\n./bin/hdfs dfs  -put LICENSE.txt  /user/hadoop/input/LICENSE.txt\n./bin/hdfs dfs  -ls /user/hadoop/input\n```\n\noutput\n\n```\n./bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.8.0.jar wordcount /user/hadoop/input /user/hadoop/output\n./bin/hdfs dfs -cat /user/hadoop/output/*\n```\n\n![Screen Shot 2017-05-03 at 11.16.23 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.16.23 PM.png)\n\n\n\n\n```\n./bin/hdfs dfs -cat /user/hadoop/output/* | wc -l\n```\n\n![Screen Shot 2017-05-03 at 11.17.34 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.17.34 PM.png)\n\n2000\n\n\n\n\n## \n\nhadoophadoop\n\n\n\n\n\n[](http://www.jianyujianyu.com)\n","source":"_posts/ubuntu16.04-hadoop2.8.0.md","raw":"title:  Ubuntu16.04  Hadoop-2.8.0 \ncategories: distributed\ntags: [hadoop,distributed]\ndate: 2017-05-04 22:53:39\n---\n\n******\n\n\n\n## \n\n### \n\nUTF-8HadoopJavaJavaOpenJdkJava8vimsshUbuntu16.04\n<!-- more -->\n\n```\nsudo su\napt install -y language-pack-zh-hant language-pack-zh-hans\napt install -y openjdk-8-jre openjdk-8-jdk\n```\n\n\n\n### \n\nhadoophadoophadoophadoopsshssh\n\n```\nuseradd -m hadoop -s /bin/bash\npasswd hadoop\nadduser hadoop sudo\nsu hadoop\n```\n\nhadoophadoophadoop\n\n```\nssh-keygen -t rsa \ncat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys\n```\n\n![Screen Shot 2017-05-03 at 10.30.57 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.30.57 PM.png)\n\n\n\n\n`ssh localhost`yes\n\n![Screen Shot 2017-05-03 at 10.31.13 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.31.13 PM.png)\n\n\n\n### hadoop\n\nhadoop2.8.0wgethadoop`/usr/local`\n\n```\nwget http://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-2.8.0/hadoop-2.8.0.tar.gz\ntar zxvf hadoop-2.8.0.tar.gz\n```\n\n![Screen Shot 2017-05-03 at 10.32.49 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.32.49 PM.png)\n\n```\nmv hadoop-2.8.0 hadoop\nsudo mv hadoop /usr/local/\nsudo chown -R hadoop /usr/local/hadoop\ncd /usr/local/hadoop/\n```\n\n`/usr/local/hadoop`hadoop\n\n\n\n### JavaHadoop\n\n`/etc/profile``./etc/hadoop/hadoop-env.sh`hadoop\n\n```\nexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nCLASSPATH=$CLASSPATH.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib\nexport PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin\nexport HADOOP_HOME=/usr/local/hadoop\nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\n```\n\nssh\n\nJavaHadoop\n\n```\n. /etc/profile\n```\n\n\n\n## \n\n### hdfs\n\n./etc/hadoop/core-site.xml./etc/hadoop/hdfs-site.xml\n\n```\nvim ./etc/hadoop/core-site.xml\n```\n\npropertynamevalue\n\n```\n<configuration>\n        <property>\n             <name>hadoop.tmp.dir</name>\n             <value>file:/usr/local/hadoop/tmp</value>\n             <description>Abase for other temporary directories.</description>\n        </property>\n        <property>\n             <name>fs.defaultFS</name>\n             <value>hdfs://localhost:9000</value>\n        </property>\n</configuration>\n```\n\n\n\n```\nvim ./etc/hadoop/hdfs-site.xml\n```\n\nnamedata\n\n```\n<configuration>\n        <property>\n             <name>dfs.replication</name>\n             <value>1</value>\n        </property>\n        <property>\n             <name>dfs.namenode.name.dir</name>\n             <value>file:/usr/local/hadoop/tmp/dfs/name</value>\n        </property>\n        <property>\n             <name>dfs.datanode.data.dir</name>\n             <value>file:/usr/local/hadoop/tmp/dfs/data</value>\n        </property>\n</configuration>\n```\n\n\n\n```\n./bin/hdfs namenode -format\n```\n\n![Screen Shot 2017-05-03 at 11.20.51 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.20.51 PM.png)\n\n\n\n![Screen Shot 2017-05-03 at 11.21.37 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.21.37 PM.png)\n\nExiting status00\n\n\n\n\n###  NameNode  DataNode \n\n`./sbin/start-dfs.sh`\n\n![Screen Shot 2017-05-03 at 11.23.40 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.23.40 PM.png)\n\n\n\nWARN\n\n```\nWARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform using builtin-java classes where applicable\n```\n\n WARN  WARN  Hadoop \n\n\n\n http://ip:50070  NameNode  Datanode  HDFS \n\n![Screen Shot 2017-05-03 at 10.44.18 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.44.18 PM.png)\n\n\n`jps` NameNode  Datanode \n\n\n\n## \n\n### \n\n`./bin/hdfs dfs -help`\n\n![Screen Shot 2017-05-03 at 11.24.41 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.24.41 PM.png)\n\n\nhadoop\n\n![Screen Shot 2017-05-03 at 11.19.25 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.19.25 PM.png)\n\n\n\n###  HDFS \n\n`./bin/hdfs dfs -mkdir -p /user/hadoop`\n\n\n\n###  \n\nhadoophadoopputhdfsinput\n\n```\n./bin/hdfs dfs -mkdir /user/hadoop/input\n./bin/hdfs dfs -put ./etc/hadoop/*.xml /user/hadoop/input/\n./bin/hdfs dfs -ls input\n```\n\n![Screen Shot 2017-05-03 at 11.08.16 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.08.16 PM.png)\n\ninputoutput\n\n```\n./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep /user/hadoop/input/* /user/hadoop/output 'dfs[a-z.]+'\n```\n\n![Screen Shot 2017-05-03 at 11.09.22 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.09.22 PM.png)\n\n\noutputcat\n\n```\n./bin/hdfs dfs -cat /user/hadoop/output/*\n```\n\n![Screen Shot 2017-05-03 at 11.09.52 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.09.52 PM.png)\n\n\noutputhdfs\n\n```\n./bin/hdfs dfs -get /user/hadoop/output ./output\n```\n\n\n\n###  WordCount\n\nwordcounthadoop\n\n\n\n```\n./bin/hdfs dfs -rm -r -f /user/hadoop/output /user/hadoop/input\n```\n\n![Screen Shot 2017-05-03 at 11.15.36 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.15.36 PM.png)\n\n\nhadoop\n\n```\n./bin/hdfs dfs -mkdir /user/hadoop/input\n./bin/hdfs dfs  -put LICENSE.txt  /user/hadoop/input/LICENSE.txt\n./bin/hdfs dfs  -ls /user/hadoop/input\n```\n\noutput\n\n```\n./bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.8.0.jar wordcount /user/hadoop/input /user/hadoop/output\n./bin/hdfs dfs -cat /user/hadoop/output/*\n```\n\n![Screen Shot 2017-05-03 at 11.16.23 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.16.23 PM.png)\n\n\n\n\n```\n./bin/hdfs dfs -cat /user/hadoop/output/* | wc -l\n```\n\n![Screen Shot 2017-05-03 at 11.17.34 P](https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.17.34 PM.png)\n\n2000\n\n\n\n\n## \n\nhadoophadoop\n\n\n\n\n\n[](http://www.jianyujianyu.com)\n","slug":"ubuntu16.04-hadoop2.8.0","published":1,"updated":"2017-05-04T15:16:16.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj2eoxsii00002cevcwjfousx","content":"<p><strong><em></em></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>UTF-8HadoopJavaJavaOpenJdkJava8vimsshUbuntu16.04<br><a id=\"more\"></a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo su</div><div class=\"line\">apt install -y language-pack-zh-hant language-pack-zh-hans</div><div class=\"line\">apt install -y openjdk-8-jre openjdk-8-jdk</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>hadoophadoophadoophadoopsshssh</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">useradd -m hadoop -s /bin/bash</div><div class=\"line\">passwd hadoop</div><div class=\"line\">adduser hadoop sudo</div><div class=\"line\">su hadoop</div></pre></td></tr></table></figure>\n<p>hadoophadoophadoop</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh-keygen -t rsa </div><div class=\"line\">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.30.57 PM.png\" alt=\"Screen Shot 2017-05-03 at 10.30.57 P\"></p>\n<p><code>ssh localhost</code>yes</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.31.13 PM.png\" alt=\"Screen Shot 2017-05-03 at 10.31.13 P\"></p>\n<h3 id=\"hadoop\"><a href=\"#hadoop\" class=\"headerlink\" title=\"hadoop\"></a>hadoop</h3><p>hadoop2.8.0wgethadoop<code>/usr/local</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget http://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-2.8.0/hadoop-2.8.0.tar.gz</div><div class=\"line\">tar zxvf hadoop-2.8.0.tar.gz</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.32.49 PM.png\" alt=\"Screen Shot 2017-05-03 at 10.32.49 P\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">mv hadoop-2.8.0 hadoop</div><div class=\"line\">sudo mv hadoop /usr/local/</div><div class=\"line\">sudo chown -R hadoop /usr/local/hadoop</div><div class=\"line\">cd /usr/local/hadoop/</div></pre></td></tr></table></figure>\n<p><code>/usr/local/hadoop</code>hadoop</p>\n<h3 id=\"JavaHadoop\"><a href=\"#JavaHadoop\" class=\"headerlink\" title=\"JavaHadoop\"></a>JavaHadoop</h3><p><code>/etc/profile</code><code>./etc/hadoop/hadoop-env.sh</code>hadoop</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</div><div class=\"line\">CLASSPATH=$CLASSPATH.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib</div><div class=\"line\">export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin</div><div class=\"line\">export HADOOP_HOME=/usr/local/hadoop</div><div class=\"line\">export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native</div></pre></td></tr></table></figure>\n<p>ssh</p>\n<p>JavaHadoop</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">. /etc/profile</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"hdfs\"><a href=\"#hdfs\" class=\"headerlink\" title=\"hdfs\"></a>hdfs</h3><p>./etc/hadoop/core-site.xml./etc/hadoop/hdfs-site.xml</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim ./etc/hadoop/core-site.xml</div></pre></td></tr></table></figure>\n<p>propertynamevalue</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;configuration&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;file:/usr/local/hadoop/tmp&lt;/value&gt;</div><div class=\"line\">             &lt;description&gt;Abase for other temporary directories.&lt;/description&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;fs.defaultFS&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">&lt;/configuration&gt;</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim ./etc/hadoop/hdfs-site.xml</div></pre></td></tr></table></figure>\n<p>namedata</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;configuration&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;dfs.replication&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;1&lt;/value&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/name&lt;/value&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/data&lt;/value&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">&lt;/configuration&gt;</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs namenode -format</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.20.51 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.20.51 P\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.21.37 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.21.37 P\"></p>\n<p>Exiting status00</p>\n<h3 id=\"-NameNode--DataNode-\"><a href=\"#-NameNode--DataNode-\" class=\"headerlink\" title=\" NameNode  DataNode \"></a> NameNode  DataNode </h3><p><code>./sbin/start-dfs.sh</code></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.23.40 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.23.40 P\"></p>\n<p>WARN</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform using builtin-java classes where applicable</div></pre></td></tr></table></figure>\n<p> WARN  WARN  Hadoop </p>\n<p> <a href=\"http://ip:50070\" target=\"_blank\" rel=\"external\">http://ip:50070</a>  NameNode  Datanode  HDFS </p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.44.18 PM.png\" alt=\"Screen Shot 2017-05-03 at 10.44.18 P\"></p>\n<p><code>jps</code> NameNode  Datanode </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>./bin/hdfs dfs -help</code></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.24.41 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.24.41 P\"></p>\n<p>hadoop</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.19.25 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.19.25 P\"></p>\n<h3 id=\"-HDFS-\"><a href=\"#-HDFS-\" class=\"headerlink\" title=\" HDFS \"></a> HDFS </h3><p><code>./bin/hdfs dfs -mkdir -p /user/hadoop</code></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><p>hadoophadoopputhdfsinput</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -mkdir /user/hadoop/input</div><div class=\"line\">./bin/hdfs dfs -put ./etc/hadoop/*.xml /user/hadoop/input/</div><div class=\"line\">./bin/hdfs dfs -ls input</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.08.16 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.08.16 P\"></p>\n<p>inputoutput</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep /user/hadoop/input/* /user/hadoop/output &apos;dfs[a-z.]+&apos;</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.09.22 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.09.22 P\"></p>\n<p>outputcat</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -cat /user/hadoop/output/*</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.09.52 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.09.52 P\"></p>\n<p>outputhdfs</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -get /user/hadoop/output ./output</div></pre></td></tr></table></figure>\n<h3 id=\"-WordCount\"><a href=\"#-WordCount\" class=\"headerlink\" title=\" WordCount\"></a> WordCount</h3><p>wordcounthadoop</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -rm -r -f /user/hadoop/output /user/hadoop/input</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.15.36 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.15.36 P\"></p>\n<p>hadoop</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -mkdir /user/hadoop/input</div><div class=\"line\">./bin/hdfs dfs  -put LICENSE.txt  /user/hadoop/input/LICENSE.txt</div><div class=\"line\">./bin/hdfs dfs  -ls /user/hadoop/input</div></pre></td></tr></table></figure>\n<p>output</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.8.0.jar wordcount /user/hadoop/input /user/hadoop/output</div><div class=\"line\">./bin/hdfs dfs -cat /user/hadoop/output/*</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.16.23 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.16.23 P\"></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -cat /user/hadoop/output/* | wc -l</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.17.34 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.17.34 P\"></p>\n<p>2000</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>hadoophadoop</p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>\n","site":{"data":{}},"excerpt":"<p><strong><em></em></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>UTF-8HadoopJavaJavaOpenJdkJava8vimsshUbuntu16.04<br>","more":"</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo su</div><div class=\"line\">apt install -y language-pack-zh-hant language-pack-zh-hans</div><div class=\"line\">apt install -y openjdk-8-jre openjdk-8-jdk</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>hadoophadoophadoophadoopsshssh</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">useradd -m hadoop -s /bin/bash</div><div class=\"line\">passwd hadoop</div><div class=\"line\">adduser hadoop sudo</div><div class=\"line\">su hadoop</div></pre></td></tr></table></figure>\n<p>hadoophadoophadoop</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh-keygen -t rsa </div><div class=\"line\">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.30.57 PM.png\" alt=\"Screen Shot 2017-05-03 at 10.30.57 P\"></p>\n<p><code>ssh localhost</code>yes</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.31.13 PM.png\" alt=\"Screen Shot 2017-05-03 at 10.31.13 P\"></p>\n<h3 id=\"hadoop\"><a href=\"#hadoop\" class=\"headerlink\" title=\"hadoop\"></a>hadoop</h3><p>hadoop2.8.0wgethadoop<code>/usr/local</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget http://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-2.8.0/hadoop-2.8.0.tar.gz</div><div class=\"line\">tar zxvf hadoop-2.8.0.tar.gz</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.32.49 PM.png\" alt=\"Screen Shot 2017-05-03 at 10.32.49 P\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">mv hadoop-2.8.0 hadoop</div><div class=\"line\">sudo mv hadoop /usr/local/</div><div class=\"line\">sudo chown -R hadoop /usr/local/hadoop</div><div class=\"line\">cd /usr/local/hadoop/</div></pre></td></tr></table></figure>\n<p><code>/usr/local/hadoop</code>hadoop</p>\n<h3 id=\"JavaHadoop\"><a href=\"#JavaHadoop\" class=\"headerlink\" title=\"JavaHadoop\"></a>JavaHadoop</h3><p><code>/etc/profile</code><code>./etc/hadoop/hadoop-env.sh</code>hadoop</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</div><div class=\"line\">CLASSPATH=$CLASSPATH.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib</div><div class=\"line\">export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin</div><div class=\"line\">export HADOOP_HOME=/usr/local/hadoop</div><div class=\"line\">export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native</div></pre></td></tr></table></figure>\n<p>ssh</p>\n<p>JavaHadoop</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">. /etc/profile</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"hdfs\"><a href=\"#hdfs\" class=\"headerlink\" title=\"hdfs\"></a>hdfs</h3><p>./etc/hadoop/core-site.xml./etc/hadoop/hdfs-site.xml</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim ./etc/hadoop/core-site.xml</div></pre></td></tr></table></figure>\n<p>propertynamevalue</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;configuration&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;file:/usr/local/hadoop/tmp&lt;/value&gt;</div><div class=\"line\">             &lt;description&gt;Abase for other temporary directories.&lt;/description&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;fs.defaultFS&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">&lt;/configuration&gt;</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim ./etc/hadoop/hdfs-site.xml</div></pre></td></tr></table></figure>\n<p>namedata</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;configuration&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;dfs.replication&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;1&lt;/value&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/name&lt;/value&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">        &lt;property&gt;</div><div class=\"line\">             &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</div><div class=\"line\">             &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/data&lt;/value&gt;</div><div class=\"line\">        &lt;/property&gt;</div><div class=\"line\">&lt;/configuration&gt;</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs namenode -format</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.20.51 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.20.51 P\"></p>\n<p></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.21.37 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.21.37 P\"></p>\n<p>Exiting status00</p>\n<h3 id=\"-NameNode--DataNode-\"><a href=\"#-NameNode--DataNode-\" class=\"headerlink\" title=\" NameNode  DataNode \"></a> NameNode  DataNode </h3><p><code>./sbin/start-dfs.sh</code></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.23.40 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.23.40 P\"></p>\n<p>WARN</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform using builtin-java classes where applicable</div></pre></td></tr></table></figure>\n<p> WARN  WARN  Hadoop </p>\n<p> <a href=\"http://ip:50070\">http://ip:50070</a>  NameNode  Datanode  HDFS </p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 10.44.18 PM.png\" alt=\"Screen Shot 2017-05-03 at 10.44.18 P\"></p>\n<p><code>jps</code> NameNode  Datanode </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>./bin/hdfs dfs -help</code></p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.24.41 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.24.41 P\"></p>\n<p>hadoop</p>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.19.25 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.19.25 P\"></p>\n<h3 id=\"-HDFS-\"><a href=\"#-HDFS-\" class=\"headerlink\" title=\" HDFS \"></a> HDFS </h3><p><code>./bin/hdfs dfs -mkdir -p /user/hadoop</code></p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><p>hadoophadoopputhdfsinput</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -mkdir /user/hadoop/input</div><div class=\"line\">./bin/hdfs dfs -put ./etc/hadoop/*.xml /user/hadoop/input/</div><div class=\"line\">./bin/hdfs dfs -ls input</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.08.16 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.08.16 P\"></p>\n<p>inputoutput</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep /user/hadoop/input/* /user/hadoop/output &apos;dfs[a-z.]+&apos;</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.09.22 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.09.22 P\"></p>\n<p>outputcat</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -cat /user/hadoop/output/*</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.09.52 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.09.52 P\"></p>\n<p>outputhdfs</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -get /user/hadoop/output ./output</div></pre></td></tr></table></figure>\n<h3 id=\"-WordCount\"><a href=\"#-WordCount\" class=\"headerlink\" title=\" WordCount\"></a> WordCount</h3><p>wordcounthadoop</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -rm -r -f /user/hadoop/output /user/hadoop/input</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.15.36 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.15.36 P\"></p>\n<p>hadoop</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -mkdir /user/hadoop/input</div><div class=\"line\">./bin/hdfs dfs  -put LICENSE.txt  /user/hadoop/input/LICENSE.txt</div><div class=\"line\">./bin/hdfs dfs  -ls /user/hadoop/input</div></pre></td></tr></table></figure>\n<p>output</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.8.0.jar wordcount /user/hadoop/input /user/hadoop/output</div><div class=\"line\">./bin/hdfs dfs -cat /user/hadoop/output/*</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.16.23 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.16.23 P\"></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">./bin/hdfs dfs -cat /user/hadoop/output/* | wc -l</div></pre></td></tr></table></figure>\n<p><img src=\"https://oda3wj69k.qnssl.com/2017-05-04-Screen Shot 2017-05-03 at 11.17.34 PM.png\" alt=\"Screen Shot 2017-05-03 at 11.17.34 P\"></p>\n<p>2000</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>hadoophadoop</p>\n<p><a href=\"http://www.jianyujianyu.com\"></a></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"cj1utjtrg0007uoevcvpl4lv8","category_id":"cj1utjtrc0004uoev6isa8gnz","_id":"cj1utjtrn000cuoev3a9429wz"},{"post_id":"cj1utjtqz0001uoevjhelys3q","category_id":"cj1utjtrc0004uoev6isa8gnz","_id":"cj1utjtrp000guoevgj9ti4nz"},{"post_id":"cj1utjtr90003uoevzckp7mqj","category_id":"cj1utjtrk0009uoevjgslhywj","_id":"cj1utjtrs000kuoevm7sy0smc"},{"post_id":"cj1utjtrn000duoevjzutihqp","category_id":"cj1utjtrk0009uoevjgslhywj","_id":"cj1utjtry000puoevdudroq77"},{"post_id":"cj1utjtrf0006uoevovenrbk0","category_id":"cj1utjtro000euoevxjnax8g0","_id":"cj1utjtrz000quoevg8jlcb0d"},{"post_id":"cj1utjtri0008uoevhuw4s33z","category_id":"cj1utjtru000muoevsmz80yxy","_id":"cj1utjts1000uuoevr8f8hur7"},{"post_id":"cj1utjtrm000buoev5963iyb5","category_id":"cj1utjtrz000ruoev9shareb3","_id":"cj1utjts1000zuoevm1xx6cyu"},{"post_id":"cj1utjtrq000huoevs130hbc8","category_id":"cj1utjts1000wuoev8z9tj5q3","_id":"cj1utjts20012uoev3utoix4w"},{"post_id":"cj1utjtrr000juoev1c2quckc","category_id":"cj1utjts20010uoevglq7fflr","_id":"cj1utjts20016uoevrcmxci2b"},{"post_id":"cj1utjtrv000ouoevbs5ks1g8","category_id":"cj1utjts20013uoevujy1db84","_id":"cj1utjts50019uoevjz5btfqb"},{"post_id":"cj22nsvtm000039evhhrpeowc","category_id":"cj22nsvtz000139ev3yub9wa2","_id":"cj22nsvuc000439ev6dfjn29n"},{"post_id":"cj2eoxsii00002cevcwjfousx","category_id":"cj2eoxsio00012cevjng66scq","_id":"cj2eoxsix00042cevxpjdt310"}],"PostTag":[{"post_id":"cj1utjtqz0001uoevjhelys3q","tag_id":"cj1utjtre0005uoevhiek7m1w","_id":"cj1utjtrq000iuoev57ea4q2l"},{"post_id":"cj1utjtqz0001uoevjhelys3q","tag_id":"cj1utjtrk000auoevqpzg5iz3","_id":"cj1utjtrt000luoev9gbeh5ve"},{"post_id":"cj1utjtr90003uoevzckp7mqj","tag_id":"cj1utjtrp000fuoev1pinv4kq","_id":"cj1utjts0000tuoevwy929dlf"},{"post_id":"cj1utjtr90003uoevzckp7mqj","tag_id":"cj1utjtru000nuoevck0wbzo3","_id":"cj1utjts1000vuoev0zccro7m"},{"post_id":"cj1utjtrf0006uoevovenrbk0","tag_id":"cj1utjts0000suoevhetrk5z4","_id":"cj1utjts1000yuoev1jq7ck1e"},{"post_id":"cj1utjtrg0007uoevcvpl4lv8","tag_id":"cj1utjts1000xuoevadig9f59","_id":"cj1utjts20015uoevacur6ax1"},{"post_id":"cj1utjtrg0007uoevcvpl4lv8","tag_id":"cj1utjts20011uoevicxhro73","_id":"cj1utjts30017uoevaqgpetn0"},{"post_id":"cj1utjtri0008uoevhuw4s33z","tag_id":"cj1utjts20014uoev49uxi551","_id":"cj1utjts6001buoevkfk242gy"},{"post_id":"cj1utjtri0008uoevhuw4s33z","tag_id":"cj1utjts30018uoev33z1tikk","_id":"cj1utjts6001cuoevnxu6uyls"},{"post_id":"cj1utjtrm000buoev5963iyb5","tag_id":"cj1utjts5001auoev2exrmun2","_id":"cj1utjts7001euoevy6enmrb3"},{"post_id":"cj1utjtrn000duoevjzutihqp","tag_id":"cj1utjts6001duoevjl95p3ql","_id":"cj1utjts8001huoevfrnrf7kg"},{"post_id":"cj1utjtrn000duoevjzutihqp","tag_id":"cj1utjts7001fuoevbd531qfh","_id":"cj1utjts8001iuoevt18mdcdb"},{"post_id":"cj1utjtrq000huoevs130hbc8","tag_id":"cj1utjts8001guoevcpaysm5k","_id":"cj1utjts9001luoevgy4ewxso"},{"post_id":"cj1utjtrq000huoevs130hbc8","tag_id":"cj1utjts8001juoev2aqhwu1w","_id":"cj1utjts9001muoevwp2ffg7v"},{"post_id":"cj1utjtrr000juoev1c2quckc","tag_id":"cj1utjts9001kuoevivei4v2i","_id":"cj1utjtsa001quoev2lin39k6"},{"post_id":"cj1utjtrr000juoev1c2quckc","tag_id":"cj1utjts9001nuoev5tdcrqz6","_id":"cj1utjtsa001ruoevb4oq5dtq"},{"post_id":"cj1utjtrr000juoev1c2quckc","tag_id":"cj1utjtsa001ouoevsw6xb88n","_id":"cj1utjtsb001tuoevuskwlc5v"},{"post_id":"cj1utjtrv000ouoevbs5ks1g8","tag_id":"cj1utjtsa001puoevv6q18szi","_id":"cj1utjtsb001uuoevu8kb72r5"},{"post_id":"cj1utjtrv000ouoevbs5ks1g8","tag_id":"cj1utjtsa001suoevhvnhik9d","_id":"cj1utjtsb001vuoev9wd5n6dd"},{"post_id":"cj22nsvtm000039evhhrpeowc","tag_id":"cj22nsvu9000239evipdo1s1i","_id":"cj22nsvuf000639evcxgqku7w"},{"post_id":"cj22nsvtm000039evhhrpeowc","tag_id":"cj22nsvub000339evyv3w2nlo","_id":"cj22nsvuf000739ev68igjtvk"},{"post_id":"cj22nsvtm000039evhhrpeowc","tag_id":"cj22nsvud000539evimm0mtem","_id":"cj22nsvug000839evgiswtbke"},{"post_id":"cj2eoxsii00002cevcwjfousx","tag_id":"cj2eoxsiv00022cevhe2ao8el","_id":"cj2eoxsix00052cevjpnu17vm"},{"post_id":"cj2eoxsii00002cevcwjfousx","tag_id":"cj2eoxsiw00032cevvgey5ff8","_id":"cj2eoxsix00062cevcvt3ay3a"}],"Tag":[{"name":"RPi","_id":"cj1utjtre0005uoevhiek7m1w"},{"name":"TF","_id":"cj1utjtrk000auoevqpzg5iz3"},{"name":"java","_id":"cj1utjtrp000fuoev1pinv4kq"},{"name":"niosocket","_id":"cj1utjtru000nuoevck0wbzo3"},{"name":"","_id":"cj1utjts0000suoevhetrk5z4"},{"name":"NLP","_id":"cj1utjts1000xuoevadig9f59"},{"name":"AI","_id":"cj1utjts20011uoevicxhro73"},{"name":"CNN","_id":"cj1utjts20014uoev49uxi551"},{"name":"","_id":"cj1utjts30018uoev33z1tikk"},{"name":"caffe","_id":"cj1utjts5001auoev2exrmun2"},{"name":"jdbc","_id":"cj1utjts6001duoevjl95p3ql"},{"name":"mybatis","_id":"cj1utjts7001fuoevbd531qfh"},{"name":"go","_id":"cj1utjts8001guoevcpaysm5k"},{"name":"web","_id":"cj1utjts8001juoev2aqhwu1w"},{"name":"","_id":"cj1utjts9001kuoevivei4v2i"},{"name":"Raspberry","_id":"cj1utjts9001nuoev5tdcrqz6"},{"name":"","_id":"cj1utjtsa001ouoevsw6xb88n"},{"name":"python","_id":"cj1utjtsa001puoevv6q18szi"},{"name":"unicode","_id":"cj1utjtsa001suoevhvnhik9d"},{"name":"jenkins","_id":"cj22nsvu9000239evipdo1s1i"},{"name":"hexo","_id":"cj22nsvub000339evyv3w2nlo"},{"name":"blog","_id":"cj22nsvud000539evimm0mtem"},{"name":"hadoop","_id":"cj2eoxsiv00022cevhe2ao8el"},{"name":"distributed","_id":"cj2eoxsiw00032cevvgey5ff8"}]}}